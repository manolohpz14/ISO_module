
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Práctica: Administración de usuarios y permisos. Ambientada en Attack on Titan - Módulo ISO</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#practica-administracion-de-usuarios-y-permisos-ambientada-en-attack-on-titan" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Módulo ISO" class="md-header__button md-logo" aria-label="Módulo ISO" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Módulo ISO
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Práctica: Administración de usuarios y permisos. Ambientada en Attack on Titan
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Módulo ISO" class="md-nav__button md-logo" aria-label="Módulo ISO" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Módulo ISO
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inicio
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tema 1. Introducción a los Sistemas Operativos y Hardware
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tema 1. Introducción a los Sistemas Operativos y Hardware
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TEMA1/Teoria/1.%20Teoria%20de%20Markdown%20SIMPLE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1er Archivo Teoría (Markdown)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TEMA1/Teoria/2.%20Teor%C3%ADa%20de%20Sistemas%20Num%C3%A9ricos%20en%20Inform%C3%A1tica/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2do Archivo Teoría (Sistemas Numéricos)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TEMA1/Teoria/3.%20Teoria%20de%20Almacenamiento%20de%20datos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3er Archivo Teoría (Almacenamiento de datos)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4to Archivo Teoría (Hardware y Software)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    5to Archivo Teoría (Sistemas Operativos y Virtualización)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TEMA1/Practicas/1ªPractica.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1ª Practica
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TEMA1/Practicas/2.%20Pr%C3%A1ctica%20%E2%80%94%20Observar%20la%20diferencia%20en%20notaci%C3%B3n%20decimal%20vs%20binaria.%20Rellena%20la%20siguiente%20tabla/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2ª Practica
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TEMA1/Practicas/3.%20Pr%C3%A1ctica%20%E2%80%94%20Observar%20la%20diferencia%20en%20notaci%C3%B3n%20decimal%20vs%20binaria.%20Probamos%20la%20CLI%20de%20Ubuntu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3ª Practica
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TEMA1/Practicas/4.%20Pr%C3%A1ctica%20%E2%80%94%20Curiosidades%20y%20importancia%20de%20los%20sistemas%20de%20enumeraci%C3%B3n%20binario%20y%20hexadecimal%20en%20la%20informatica/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4ª Practica
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TEMA1/Practicas/4.2.%20Pr%C3%A1ctica%20%E2%80%94%20Comparaci%C3%B3n%20GUI%20vs%20CLI%20en%20Ubuntu%20e%20instalaci%C3%B3n%20de%20KDE%20%28copy%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4ª Practica (versión 2)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TEMA1/Practicas/5.%20Pr%C3%A1cticaTrabajoCooperativo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    5ª Practica
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tema 2. Virtualización e instalaciones de sistemas operativos
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tema 2. Virtualización e instalaciones de sistemas operativos
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1er Archivo Teoría (QEMU-KVM)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TEMA2/Teoria/2%20Teor%C3%ADa%20de%20las%20instalaciones/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2do Archivo Teoría (Instalaciones y Particiones)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TEMA2/Practicas/1%C2%AA%20Pr%C3%A1ctica%20virtualizacion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1ª Practica (Opcional. Virtualizacion Anidada)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TEMA2/Practicas/2%20Pr%C3%A1ctica%20Instalaci%C3%B3n%20de%20Ubuntu%20sin%20LUKS%20%28sin%20LVM%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2ª Practica
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TEMA2/Practicas/3%20Pr%C3%A1ctica%20Instalaci%C3%B3n%20Dual%20de%20ubuntu%20%2B%20Windows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3ª Practica
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TEMA2/Practicas/4%C2%AA%20Pr%C3%A1ctica%20Migraci%C3%B3n%20de%20un%20disco%20de%20120%20GB%20%28M%C3%A1s%20grande%29%20a%20otro%20de%20100%20GB%20%28M%C3%A1s%20chico%29%20usando%20GParted%20y%20el%20comando%20dd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4ª Practica
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tema 3. Sistema operativo Linux-Debian
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tema 3. Sistema operativo Linux-Debian
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Practicas/1ªPractica. Administracion_de_usuarios_y_permisos_ambientada_en_attack_on_titan.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1ª Practica Guiada (Administración de permisos en directorios)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Practicas/2ª Practica Permisos AOT.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2ª Practica Guiada (Administración de permisos en binarios)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Practicas/3ª Practica SUDOERS Y UMASK Y SKELL.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3ª Practica Guiada (/etc/skell, .bashrc, umask y SUDOERS)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Practicas/4ª Practica APT.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4ª Practica Guiada (Uso de APT avanzado)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-descripcion-de-la-primera-practica-del-tema" class="md-nav__link">
    <span class="md-ellipsis">
      
        1- Descripción de la primera práctica del tema
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-escenario-por-darle-un-poco-de-gracia" class="md-nav__link">
    <span class="md-ellipsis">
      
        2- Escenario (por darle un poco de gracia)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-archivos-y-conceptos-esenciales-breve-guia" class="md-nav__link">
    <span class="md-ellipsis">
      
        3- Archivos y conceptos esenciales (breve guía)
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="practica-administracion-de-usuarios-y-permisos-ambientada-en-attack-on-titan">Práctica: Administración de usuarios y permisos. Ambientada en <em>Attack on Titan</em></h1>
<p><strong>Duración estimada:</strong> 120–180 minutos (actividad practica en clase)</p>
<hr />
<h2 id="1-descripcion-de-la-primera-practica-del-tema">1- Descripción de la primera práctica del tema</h2>
<p>La práctica se realizará en ubuntu 24.04 (como siempre). Esta es una de las prácticas más importantes del curso ya que tocarán conceptos que os acompañaran por bastente tiempo. Como siempre, dejo la práctica resuelta por mi en el siguiente video, pero esta vez os recomiendo intentearlo por vosotros mismos previamente porque si no, os va a costar mucho cuando hagamos el examen.</p>
<p>La práctica os introduce en la creación, gestión y control de usuarios y permisos en un sistema Linux (debian). El escenario está ambientado en <em>Attack on Titan</em> (una de mis series favoritas, que os recomiendo ver como mínimo, tres veces): los participantes (vosotros) gestionaréis cuentas del "Muro", y crearéis grupos (Policía Militar, Guarnición y Exploradores), y asignaréis permisos a ficheros y directorios críticos.</p>
<p>Se trabajará tanto a nivel práctico como teórico con los archivos y utilidades esenciales: </p>
<p><code>/etc/passwd</code></p>
<p><code>/etc/group</code></p>
<p><code>/etc/shadow</code></p>
<p><code>useradd</code></p>
<p><code>usermod</code></p>
<p><code>passwd</code></p>
<p><code>groupadd</code></p>
<p><code>chown</code></p>
<p><code>chmod</code></p>
<p><code>mkdir</code></p>
<p><code>chage</code></p>
<p><code>getent</code></p>
<p><code>su</code></p>
<p><code>userdel</code></p>
<hr />
<h2 id="2-escenario-por-darle-un-poco-de-gracia">2- Escenario (por darle un poco de gracia)</h2>
<p>Es la época de la amenaza de titánica 2026, no ha piedad para la raza humana y menos para los alumnos de ISO. Vuestro sistema actuará como ordenador <u>único y central</u> del Muro y deberá hacer las siguientes cuestiones: </p>
<ul>
<li>A modo resumen, lo que iréis haciendo será crear cuentas para personajes (Eren, Mikasa, Armin, Levi, Hange), asignar directivas de expiración de contraseñas. agrupar a los usuarios en grupos, y dar permisos a directorios que crearéis.</li>
</ul>
<hr />
<h2 id="3-archivos-y-conceptos-esenciales-breve-guia">3- Archivos y conceptos esenciales (breve guía)</h2>
<p>En los sistemas GNU/Linux, los usuarios y los grupos son la base de la gestión de permisos y seguridad.  Cada usuario del sistema (ya sea una persona o un servicio) tiene un identificador propio (UID) y pertenece al menos a un grupo principal (GID).  Los grupos permiten organizar usuarios que comparten recursos o permisos comunes.  Para la elaboración de esta práctica es necesario comprender los siguientes tipos de directorios que nos encontramos:</p>
<ul>
<li><code>/etc/passwd</code> : Contiene la lista de usuarios del sistema y su información básica:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="w">  </span>nombre_usuario:x:UID:GID:comentario:directorio_home:intérprete_de_comandos
</code></pre></div>
<ul>
<li>
<p>Nombre de usuario  </p>
</li>
<li>
<p>x (contraseña, se guarda en <code>etc shadow</code>)</p>
</li>
<li>
<p>UID (User ID)  </p>
</li>
<li>
<p>GID (Group ID principal)  </p>
</li>
<li>
<p>Directorio personal (<code>/home/usuario</code>)  </p>
</li>
<li>
<p>Shell por defecto (<code>/bin/bash</code>, <code>/usr/sbin/nologin</code>, etc.) . Las maas importantes, están aquí:</p>
<table>
<thead>
<tr>
<th>Shell</th>
<th>Ruta</th>
<th>Disponibilidad</th>
<th>¿Instalado por defecto?</th>
<th>Comentario</th>
</tr>
</thead>
<tbody>
<tr>
<td>Bash</td>
<td><code>/bin/bash</code></td>
<td>Prácticamente todas las distribuciones (Debian, Ubuntu, Fedora, CentOS, Arch, etc.)</td>
<td>Sí</td>
<td>Es el shell más común en Linux. Potente, interactivo y compatible con la mayoría de scripts del sistema.</td>
</tr>
<tr>
<td>Sh</td>
<td><code>/bin/sh</code></td>
<td>Siempre presente</td>
<td>Sí</td>
<td>Shell estándar POSIX. En muchos sistemas es un enlace simbólico a <code>bash</code> o <code>dash</code> (en Debian/Ubuntu). Debe existir por compatibilidad.</td>
</tr>
<tr>
<td>Fish</td>
<td><code>/usr/bin/fish</code></td>
<td>Disponible en la mayoría de repositorios</td>
<td>No</td>
<td>Debe instalarse manualmente (<code>sudo apt install fish</code>). Shell moderno, con autocompletado avanzado y sintaxis más legible.</td>
</tr>
<tr>
<td>Nologin</td>
<td><code>/usr/sbin/nologin</code></td>
<td>Siempre disponible</td>
<td>Sí</td>
<td>Impide el acceso interactivo al sistema mostrando un mensaje de /etc/nologin.txt. Se usa en cuentas de servicio o de sistema (por ejemplo, <code>www-data</code>) para Apache</td>
</tr>
<tr>
<td>False</td>
<td><code>/bin/false</code></td>
<td>Siempre disponible</td>
<td>Sí</td>
<td>Impide el acceso interactivo al sistema pero sin ningún tipo de mensaje. Se usa en cuentas técnicas o sin acceso al sistema.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>/etc/shadow</code> : Almacena las contraseñas encriptadas de los usuarios y las políticas de expiración de las mismas.  Sólo puede ser leído por el usuario <code>root</code> por motivos de seguridad. Lo veremos en detalle en el punto 2.</p>
</li>
<li>
<p><code>/etc/group</code> : Define los grupos del sistema y sus miembros. Cada línea tiene el formato:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="w">  </span>nombre_grupo:x:GID:miembro1,miembro2,miembro3
</code></pre></div>
<p>El <strong>primer campo</strong> es el nombre del grupo
   El <strong>segundo campo</strong>, normalmente una <code>x</code>, indica que la contraseña del grupo (si existe) se almacena de forma cifrada en el archivo <strong><code>/etc/gshadow</code></strong>.
   El <strong>tercer campo</strong> es el <strong>GID</strong> o identificador numérico del grupo, que el sistema usa internamente para asociar permisos y propiedades.
   El <strong>cuarto campo</strong> es una lista opcional de usuarios separados por comas que pertenecen a ese grupo como miembros secundarios.</p>
<ul>
<li><code>change</code>:  El comando <code>chage</code> (change age) se usa para <strong>administrar la caducidad de contraseñas</strong> y las políticas de renovación de las mismas. Permite, por ejemplo, obligar a los usuarios a cambiar su contraseña cada cierto tiempo o establecer una fecha de expiración de la cuenta.</li>
</ul>
<hr />
<h1 id="4-comienzo-de-la-practica">4-Comienzo de la Práctica</h1>
<h3 id="41-primera-parte-crear-grupos-y-usuarios-debeis-hacer-todo-lo-que-se-especifique-en-los-apartados-a-b">4.1. Primera parte. Crear grupos y usuarios (DEBÉIS HACER TODO LO QUE SE ESPECIFIQUE en los apartados a), b)...)</h3>
<p>a) En este apartado, creamos primero cada uno de los grupos de los que consta la práctica</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>groupadd<span class="w"> </span>exploradores
sudo<span class="w"> </span>groupadd<span class="w"> </span>guarnicion
sudo<span class="w"> </span>groupadd<span class="w"> </span>policia_militar
cat<span class="w"> </span>/etc/group<span class="w"> </span><span class="c1">#mira todos los grupos</span>
</code></pre></div>
<p>Una vez hecho el apartado a) la idea ahora es añadir es crear cada usuario y añadirlo a un grupo. No lo haremos como en la serie, lo haremos un poco distinto:</p>
<table>
<thead>
<tr>
<th>Usuario</th>
<th>Grupo asignado</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>eren</strong></td>
<td>exploradores</td>
</tr>
<tr>
<td><strong>armin</strong></td>
<td>exploradores</td>
</tr>
<tr>
<td><strong>mikasa</strong></td>
<td>guarnicion</td>
</tr>
<tr>
<td><strong>levi</strong></td>
<td>policia_militar</td>
</tr>
<tr>
<td><strong>hange</strong></td>
<td>exploradores</td>
</tr>
<tr>
<td><strong>Elige a tu compañero de práctica</strong></td>
<td>exploradores</td>
</tr>
<tr>
<td><strong>reiner</strong></td>
<td>exploradores</td>
</tr>
<tr>
<td><strong>Eligete a ti</strong></td>
<td>policia_militar</td>
</tr>
</tbody>
</table>
<p>A continuación necesitamos crear primero los usuarios que aparecen en la tabla, para crear usuarios ejecutaremos el comando <code>useradd</code>. El comando <code>useradd</code> sirve para crear nuevos usuarios en el sistema. Sin embargo, utilizaremos opciones sobre dicho comando parámetros que modifican su comportamiento. Dos de los más importantes son <code>-m</code> y <code>-s</code>. También especificamos <code>G</code>y <code>g</code>.</p>
<ul>
<li>
<p><code>-m</code> (make home directory)
   Indica que se debe crear automáticamente el directorio personal del usuario (normalmente en <code>/home/&lt;usuario&gt;</code>). se crea <code>/home/eren</code> y se copian dentro los archivos de plantilla de <code>/etc/skel/</code> (como <code>.bashrc</code>, <code>.profile</code>, etc.). Sin <code>-m</code>, el usuario se crearía sin un directorio personal, lo cual no suele ser deseable en un entorno de trabajo normal.</p>
</li>
<li>
<p><code>-s</code> (shell)
   Especifica qué intérprete de comandos o shell usará el usuario por defecto (de las vistas y explicadas antes)</p>
</li>
<li>
<p>El parámetro <code>-G</code> se utiliza en <code>useradd</code> para asignar al usuario uno o varios grupos secundarios (también llamados <em>grupos suplementarios</em>). Un usuario en Linux siempre pertenece al menos a un grupo principal (Grupo predeterminado del usuario y los archivos que crea pertenecen a este grupo), pero puede pertenecer a más de uno. Al crear un usuario siempre se crea un </p>
</li>
<li>
<p>grupo con el mismo nombre que el usuario.</p>
</li>
<li>
<p>El grupo principal del que hablabamos antes se define con la opción <code>-g</code> (minúscula) si no se pone nada, se añade al grupo (principal) que tiene el mismo nombre que el usuario creado.</p>
</li>
</ul>
<p>b) En este apartado y en nuestro caso, ejecutamos los siguientes comandos cuyo objetivo es crear los usuarios, asignarles la terminal por defecto y añadirles a un grupo complementario a cada uno segúm la tabla anterior. Por último, no olvides por favor crearte un usuario y añadirte a un grupo.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>useradd<span class="w"> </span>-m<span class="w"> </span>-s<span class="w"> </span>/bin/false<span class="w"> </span>-G<span class="w"> </span>exploradores<span class="w"> </span>eren
sudo<span class="w"> </span>useradd<span class="w"> </span>-m<span class="w"> </span>-s<span class="w"> </span>/bin/bash<span class="w"> </span>-G<span class="w"> </span>exploradores<span class="w"> </span>armin
sudo<span class="w"> </span>useradd<span class="w"> </span>-m<span class="w"> </span>-s<span class="w"> </span>/bin/bash<span class="w"> </span>-G<span class="w"> </span>guarnicion<span class="w"> </span>mikasa
sudo<span class="w"> </span>useradd<span class="w"> </span>-m<span class="w"> </span>-s<span class="w"> </span>/bin/bash<span class="w"> </span>-G<span class="w"> </span>policia_militar<span class="w"> </span>levi
sudo<span class="w"> </span>useradd<span class="w"> </span>-m<span class="w"> </span>-s<span class="w"> </span>/bin/bash<span class="w"> </span>-G<span class="w"> </span>exploradores<span class="w"> </span>hange
sudo<span class="w"> </span>useradd<span class="w"> </span>-m<span class="w"> </span>-s<span class="w"> </span>/bin/bash<span class="w"> </span>-G<span class="w"> </span>exploradores<span class="w"> </span>reiner
sudo<span class="w"> </span>useradd<span class="w"> </span>-m<span class="w"> </span>-s<span class="w"> </span>/usr/sbin/nologin<span class="w"> </span>-G<span class="w"> </span>tu_grupo_favorito<span class="w"> </span>tu_compañero
sudo<span class="w"> </span>useradd<span class="w"> </span>-m<span class="w"> </span>-s<span class="w"> </span>/bin/bash<span class="w"> </span>-G<span class="w"> </span>tu_grupo_favorito<span class="w"> </span>tu_nombre
</code></pre></div>
<p>Ojo, para ver todos los grupos de un usuario, es suficiento con</p>
<div class="highlight"><pre><span></span><code>groups<span class="w"> </span>eren
</code></pre></div>
<p>En vuestro caso, os devolverá eren y exploradores Después de haber creado los usuarios, asignareis contraseñas, ¿qué pasará si no lo hacemos?</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>passwd<span class="w"> </span>eren
sudo<span class="w"> </span>passwd<span class="w"> </span>mikasa
sudo<span class="w"> </span>passwd<span class="w"> </span>armin
sudo<span class="w"> </span>passwd<span class="w"> </span>levi
sudo<span class="w"> </span>passwd<span class="w"> </span>hange
sudo<span class="w"> </span>passwd<span class="w"> </span>tu_compañero
sudo<span class="w"> </span>passwd<span class="w"> </span>reiner
sudo<span class="w"> </span>passwd<span class="w"> </span>tu_nombre
</code></pre></div>
<p>Una vez hecho el apartado b), lo que se pida ahora es que comprobéis que se han creado correctamente los usuarios y sus grupos, para ello usaréis el comando <code>getent</code>: El comando <code>getent</code> (de <em>get entries</em>, “obtener entradas”) permite consultar información de las bases de datos del sistema definidas en <code>/etc/nsswitch.conf</code>. Estas bases de datos incluyen:</p>
<ul>
<li>usuarios (<code>passwd</code>)</li>
<li>grupos (<code>group</code>)</li>
<li>contraseñas cifradas (<code>shadow</code>)</li>
<li>hosts, redes, servicios, etc.</li>
</ul>
<p>Esto hace que funcione tanto con usuarios locales (definidos en <code>/etc/passwd</code>) como con usuarios remotos, si el sistema usa autenticación por red (LDAP, que veremos en el tema 5) Por eso se considera una forma más moderna y segura de obtener información que leer directamente los archivos con <code>cat /etc/passwd</code>. </p>
<p>Comando para ver el grupo principalm de un usuario;</p>
<div class="highlight"><pre><span></span><code>id<span class="w"> </span>-g<span class="w"> </span>nombre_usuario
</code></pre></div>
<p>c) Comprueba, por tanto, la salida de los siguientes comandos y verifica que efectivamente devuelven lo mismo. Para ello, buscad información de que hace el comando grep, aunque lo veremos en prácticas posteriores. Lo que quiero que os quede claro es que aunque getent es una herramienta poderosa para buscar en el archivo /etc/shadow, /etc/passwd o /etc/group  se puede buscar directamente sin usar el comando getent.</p>
<div class="highlight"><pre><span></span><code>getent<span class="w"> </span>passwd<span class="w"> </span>eren
cat<span class="w"> </span>/etc/passwd<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>eren

getent<span class="w"> </span>group<span class="w"> </span>exploradores
cat<span class="w"> </span>/etc/group<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>exploradores

sudo<span class="w"> </span>getent<span class="w"> </span>shadow<span class="w"> </span>eren
sudo<span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;^eren:&quot;</span><span class="w"> </span>/etc/shadow
</code></pre></div>
<p>El último comando debe dar una salida parecida a la siguiente (no exactamente igual porque lo que os doy, no es más que un ejemplo):</p>
<div class="highlight"><pre><span></span><code><span class="nf">eren</span><span class="o">:</span>$6$<span class="n">GdX</span>9<span class="n">p</span>7<span class="n">Ds</span>$<span class="n">eEybZK</span>2....:19443:0:99999:7:::
</code></pre></div>
<hr />
<h3 id="42-segunda-parte-revisar-etcshadow-y-caducidad-de-contrasenas">4.2. Segunda Parte. Revisar <code>/etc/shadow</code> y caducidad de contraseñas</h3>
<p>Volviendo a la salida del último comando vamos a ver qué significa cada cosa que allí aparecía.</p>
<div class="highlight"><pre><span></span><code><span class="nf">eren</span><span class="o">:</span>$6$<span class="n">GdX</span>9<span class="n">p</span>7<span class="n">Ds</span>$<span class="n">eEybZK</span>2....:19443:0:99999:7:::
</code></pre></div>
<p>Cada línea devuelta de <code>/etc/shadow</code> tiene <strong>9 campos</strong> separados por <code>:</code> (dos puntos) y significan lo siguiente:</p>
<table>
<thead>
<tr>
<th>Campo</th>
<th>Ejemplo</th>
<th>Significado</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><code>eren</code></td>
<td>Nombre del usuario</td>
</tr>
<tr>
<td>2</td>
<td><code>$6$GdX9p7Ds$eEybZK2...</code></td>
<td>Contraseña cifrada (<em>hash</em>) o símbolo especial (<code>!</code> o <code>*</code> si está bloqueada)</td>
</tr>
<tr>
<td>3</td>
<td><code>19443</code></td>
<td>Fecha del último cambio de contraseña (días desde 1/1/1970)</td>
</tr>
<tr>
<td>4</td>
<td><code>0</code></td>
<td>Este campo define cuántos días deben pasar desde el último cambio antes de que el usuario pueda cambiar su contraseña otra vez.</td>
</tr>
<tr>
<td>5</td>
<td><code>99999</code></td>
<td>Este campo indica cuánto tiempo puede usarse una contraseña antes de que caduque.</td>
</tr>
<tr>
<td>6</td>
<td><code>7</code></td>
<td>Días de aviso antes de la caducidad</td>
</tr>
<tr>
<td>7</td>
<td>(vacío)</td>
<td>Días tras la caducidad antes de la contraseña antes de desactivar la cuenta</td>
</tr>
<tr>
<td>8</td>
<td>(vacío)</td>
<td>especifica el número de días desde el 1 de enero de 1970 (epoch) en que la cuenta será desactivada completamente (no se podrá iniciar sesión, aunque la contraseña sea válida).</td>
</tr>
<tr>
<td>9</td>
<td>(vacío)</td>
<td>este campo está reservado para uso futuro o para extensiones específicas del sistema.<br/> En la práctica, la mayoría de las distribuciones lo dejan vacío.</td>
</tr>
</tbody>
</table>
<p>El <strong><u>comando chage</u></strong> sirve para cambiar estas configuraciones de la contraseña, las opciones mas usuales que tiene el comando son las siguientes:</p>
<ul>
<li>
<p><code>-l</code> : listar la información de caducidad de la cuenta.</p>
</li>
<li>
<p><code>-d &lt;FECHA|0&gt;</code> : fijar la fecha del último cambio de contraseña (poner <code>0</code> fuerza a cambiar la contraseña en el próximo inicio). Ojo, ejemplo:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>chage<span class="w"> </span>-l<span class="w"> </span>armin

sudo<span class="w"> </span>chage<span class="w"> </span>-d<span class="w"> </span><span class="m">2025</span>-09-15<span class="w"> </span>armin<span class="w"> </span><span class="c1">#Esto registra que Armin cambió su contraseña el 15 de septiembre de 2025.</span>
<span class="w">  </span><span class="c1">#El sistema calculará los plazos de caducidad (-M, -W, etc.) a partir de esa fecha.</span>

sudo<span class="w"> </span>chage<span class="w"> </span>-l<span class="w"> </span>armin

sudo<span class="w"> </span>chage<span class="w"> </span>-d<span class="w"> </span><span class="m">0</span><span class="w"> </span>armin<span class="w"> </span><span class="c1">#Si pones 0, estás diciendo al sistema:Haz como si el usuario nunca hubiera cambiado la contraseña.forzamos que cambie la contraseña al siguiente inicio</span>

sudo<span class="w"> </span>chage<span class="w"> </span>-l<span class="w"> </span>armin
</code></pre></div>
<ul>
<li><code>-m &lt;DÍAS&gt;</code> : mínimo de días entre cambios de contraseña (no puede cambiar antes).</li>
</ul>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>chage<span class="w"> </span>-m<span class="w"> </span><span class="m">1</span><span class="w"> </span>armin<span class="w"> </span><span class="c1">#m 1: evita que el usuario cambie la contraseña varias veces seguidas (por ejemplo, para saltarse la política de seguridad) ojo, root puede...</span>

sudo<span class="w"> </span>chage<span class="w"> </span>-l<span class="w"> </span>armin

sudo<span class="w"> </span>chage<span class="w"> </span>-m<span class="w"> </span><span class="m">0</span><span class="w"> </span>armin<span class="w">  </span><span class="c1">#m 0: Sin restricción mínima. (valor por defecto en muchos sistemas)</span>

sudo<span class="w"> </span>chage<span class="w"> </span>-l<span class="w"> </span>armin
</code></pre></div>
<ul>
<li><code>-M &lt;DÍAS&gt;</code> : máximo de días que la contraseña es válida (caducidad).</li>
</ul>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>chage<span class="w"> </span>-M<span class="w"> </span><span class="m">90</span><span class="w"> </span>armin<span class="w"> </span><span class="c1">#M 90: obliga al usuario a cambiar la contraseña cada 3 meses</span>

sudo<span class="w"> </span>chage<span class="w"> </span>-l<span class="w"> </span>armin

sudo<span class="w"> </span>chage<span class="w"> </span>-M<span class="w"> </span><span class="m">99999</span><span class="w"> </span>armin<span class="w"> </span><span class="c1">#Este es el valor por defecto en muchas distribuciones.Equivale a decir “la contraseña no tiene fecha de caducidad”.</span>

sudo<span class="w"> </span>chage<span class="w"> </span>-l<span class="w"> </span>armin
</code></pre></div>
<ul>
<li><code>-W &lt;DÍAS&gt;</code> : días de aviso antes de la caducidad.</li>
</ul>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>chage<span class="w"> </span>-W<span class="w"> </span><span class="m">10</span><span class="w"> </span>armin<span class="w"> </span><span class="c1">#W 10: muestra un aviso 10 días antes de la expiración para que el usuario tenga tiempo de cambiarla.</span>

sudo<span class="w"> </span>chage<span class="w"> </span>-l<span class="w"> </span>armin

sudo<span class="w"> </span>chage<span class="w"> </span>-W<span class="w"> </span><span class="m">0</span><span class="w"> </span>armin<span class="w"> </span><span class="c1">#Sin aviso</span>

sudo<span class="w"> </span>chage<span class="w"> </span>-l<span class="w"> </span>armin
</code></pre></div>
<ul>
<li><code>-I &lt;DÍAS&gt;</code> : días de inactividad tras caducidad antes de desactivar la cuenta (inactividad).</li>
</ul>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>chage<span class="w"> </span>-I<span class="w"> </span><span class="m">15</span><span class="w"> </span>armin<span class="w"> </span><span class="c1">#si la contraseña ha caducado y el usuario no la cambia en 15 días,el sistema bloqueará la cuenta por inactividad.</span>

sudo<span class="w"> </span>chage<span class="w"> </span>-l<span class="w"> </span>armin

sudo<span class="w"> </span>chage<span class="w"> </span>-I<span class="w"> </span>-1<span class="w"> </span>armin<span class="w"> </span><span class="c1">#Si le pasas el valor -1, estás indicando que no hay límite de inactividad, el usuario nunca será bloqueado automáticamente por este motivo.</span>

sudo<span class="w"> </span>chage<span class="w"> </span>-l<span class="w"> </span>armin
</code></pre></div>
<ul>
<li><code>-E &lt;FECHA|0&gt;</code> : fecha en la que la cuenta queda desactivada / expirada (formato <code>YYYY-MM-DD</code> o <code>0</code> para sin expiración).</li>
</ul>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>chage<span class="w"> </span>-E<span class="w"> </span><span class="m">2025</span>-12-31<span class="w"> </span>armin<span class="w"> </span><span class="c1">#fecha en la que la cuenta expirara</span>

sudo<span class="w"> </span>chage<span class="w"> </span>-l<span class="w"> </span>armin

sudo<span class="w"> </span>chage<span class="w"> </span>-E<span class="w"> </span><span class="m">0</span><span class="w"> </span>armin<span class="w"> </span><span class="c1">#cuenta ano expira</span>

sudo<span class="w"> </span>chage<span class="w"> </span>-l<span class="w"> </span>armin
</code></pre></div>
<p>-Otros ejemplos combinados son:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>chage<span class="w"> </span>-m<span class="w"> </span><span class="m">1</span><span class="w"> </span>-M<span class="w"> </span><span class="m">90</span><span class="w"> </span>-W<span class="w"> </span><span class="m">10</span><span class="w"> </span>armin<span class="w"> </span><span class="c1">#m 1: evita que el usuario cambie la contraseña varias veces seguidas (por ejemplo, para saltarse la política de seguridad).M 90: obliga al usuario a cambiar la contraseña cada 3 meses.W 10: muestra un aviso 10 días antes de la expiración para que el usuario tenga tiempo de cambiarla.</span>

sudo<span class="w"> </span>chage<span class="w"> </span>-l<span class="w"> </span>armin<span class="w"> </span><span class="c1">#mostramos la información de caducidad</span>
</code></pre></div>
<p>Lo que da la siguiente salida:</p>
<div class="highlight"><pre><span></span><code><span class="nf">Último cambio de contraseña                                 </span><span class="o">:</span><span class="w"> </span><span class="n">Oct</span> 19<span class="p">,</span> 2025
<span class="nf">La contraseña puede cambiarse                               </span><span class="o">:</span><span class="w"> </span><span class="n">Oct</span> 20<span class="p">,</span> 2025
<span class="nf">La contraseña debe cambiarse                                </span><span class="o">:</span><span class="w"> </span><span class="n">Jan</span> 17<span class="p">,</span> 2026
<span class="nf">El usuario recibe aviso antes de que caduque la contraseña   </span><span class="o">:</span><span class="w"> </span>10 <span class="n">d</span>í<span class="n">as</span>
<span class="nf">Cuenta expira                                               </span><span class="o">:</span><span class="w"> </span><span class="n">nunca</span>
<span class="nf">Inactividad después de caducar la contraseña                 </span><span class="o">:</span><span class="w"> </span>0 <span class="n">d</span>í<span class="n">as</span>
</code></pre></div>
<p>Otros ejemplos:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>chage<span class="w"> </span>-m<span class="w"> </span><span class="m">5</span><span class="w"> </span>-M<span class="w"> </span><span class="m">60</span><span class="w"> </span>-W<span class="w"> </span><span class="m">7</span><span class="w"> </span>-I<span class="w"> </span><span class="m">10</span><span class="w"> </span>usuario4<span class="w"> </span><span class="c1">#La contraseña debe mantenerse al menos 5 días antes de poder cambiarse. Caduca a los 60 días. El usuario será avisado con 7 días de antelación. Si no cambia la contraseña tras caducar, la cuenta se bloqueará 10 días después.</span>

sudo<span class="w"> </span>chage<span class="w"> </span>-m<span class="w"> </span><span class="m">0</span><span class="w"> </span>-M<span class="w"> </span><span class="m">99999</span><span class="w"> </span>-I<span class="w"> </span>-1<span class="w"> </span>-E<span class="w"> </span>-1<span class="w"> </span>usuario<span class="w"> </span><span class="c1">#Dejas sin restricciones: m 0 → sin restricción mínima de cambio. M 99999 → caduca dentro de mucho tiempo (≈273 años). I -1 → sin bloqueo por inactividad. E -1 o -E 0 → sin fecha de expiración</span>
</code></pre></div>
<hr />
<h3 id="43-aplicar-el-comando-chage">4.3. Aplicar el comando chage</h3>
<p>Tras la teoría anterior, lo que os pido ahora es que ejecuteis un comando para que el usuario de vuestro compañero solo pueda cambiar la contraseña una vez por dia, y que solo pueda usarse una contraseña cada 3 meses (90 dias), además, el usuario deberá ser avisado con 10 días de antelación. El usuario deberá cambiar la contraseña en 15 días o su cuenta expirará</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>chage<span class="w"> </span>-m<span class="w"> </span><span class="m">1</span><span class="w"> </span>-M<span class="w"> </span><span class="m">90</span><span class="w"> </span>-W<span class="w"> </span><span class="m">10</span><span class="w"> </span>-I<span class="w"> </span><span class="m">15</span><span class="w"> </span>usuario
</code></pre></div>
<p>Tras realizar lo anterior, resetea manualmente la última fecha de cambio de contraseña de tu compañero a ayer y ejecuta el comando <code>chage -l</code> sobre tu compañero.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>chage<span class="w"> </span>-d<span class="w"> </span><span class="m">2025</span>-11-5<span class="w"> </span>usuario
sudo<span class="w"> </span>chage<span class="w"> </span>-l<span class="w"> </span>usuario
</code></pre></div>
<hr />
<h3 id="44-moverse-por-directorios-de-linux-cd-y-comprobar-pwd-crear-carpetas-con-mkdir-y-opciones-mas-comunes">4.4. Moverse por directorios de Linux (cd y comprobar pwd). Crear carpetas con mkdir y opciones más comunes.</h3>
<p>Antes de realizar el siguiente punto, es conveniente que os sepáis mover vía terminal por los distintos directorios que posee vuestro sistema Ubuntu:</p>
<p>En los sistemas GNU/Linux, el terminal es una herramienta fundamental para navegar y trabajar con directorios y archivos.<br />
Los dos comandos más básicos para orientarte son <code>cd</code> (cambiar de directorio) y <code>pwd</code> (mostrar la ruta actual).</p>
<hr />
<p>-El <u>comando <code>pwd</code></u> muestra la ruta completa del directorio actual en el que te encuentras. Sintáxis básica:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">pwd</span>
salida-&gt;<span class="w"> </span>/home/alumno
</code></pre></div>
<hr />
<p>-El <u>comando <code>cd</code></u> sirve para moverte entre carpetas (directorios) dentro del sistema de archivos. Sintáxis básica:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>&lt;ruta&gt;
</code></pre></div>
<p>Donde <ruta> puede ser:</p>
<div class="highlight"><pre><span></span><code><span class="err">absoluta</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="err">comienza</span><span class="w"> </span><span class="err">desde</span><span class="w"> </span><span class="err">la</span><span class="w"> </span><span class="err">raíz</span><span class="w"> </span><span class="err">/</span>

<span class="err">relativa</span><span class="w"> </span><span class="err">→</span><span class="w"> </span><span class="err">depende</span><span class="w"> </span><span class="err">del</span><span class="w"> </span><span class="err">directorio</span><span class="w"> </span><span class="err">en</span><span class="w"> </span><span class="err">el</span><span class="w"> </span><span class="err">que</span><span class="w"> </span><span class="err">estás</span><span class="w"> </span><span class="err">ahora</span>
</code></pre></div>
<hr />
<p>-<u>Una ruta absoluta</u> indica el camino completo desde la raíz <code>/</code>.</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/home/manolo/Documentos
</code></pre></div>
<p>Después de ejecutarlo, estarás en la carpeta <code>documentos</code> del usuario <code>manolo</code>.</p>
<p>Puedes comprobarlo con:</p>
<div class="highlight"><pre><span></span><code><span class="nb">pwd</span>
</code></pre></div>
<hr />
<p>-<u>Una ruta relativa</u> parte del directorio actual.</p>
<p>Supón que estás en <code>/home/manolo</code> y quieres entrar en <code>documentos</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>Documentos
</code></pre></div>
<p>Ahora estarás en <code>/home/alumno/Documentos</code>.</p>
<hr />
<p>-<u>El símbolo <code>..</code> representa el directorio padre</u> (un nivel superior).</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>..
</code></pre></div>
<p>Si estabas en <code>/home/alumno/documentos</code>, ahora estarás en <code>/home/alumno</code>.</p>
<p>Puedes comprobarlo con <code>pwd</code>:</p>
<div class="highlight"><pre><span></span><code>/home/alumno
</code></pre></div>
<hr />
<p>-<u>El símbolo <code>~</code> representa tu carpeta personal</u> (home).</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~
<span class="c1">#ó</span>
<span class="nb">cd</span>
</code></pre></div>
<p>Ambos comandos te llevarán a /home/manolo</p>
<hr />
<p>-Para regresar al <u>último directorio visitado, usa un guion</u>:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>-
</code></pre></div>
<p>Ejemplo:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">pwd</span>
/home/alumno/documentos
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/etc
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>-
/home/alumno/documentos
</code></pre></div>
<hr />
<p>-El comando <u><code>mkdir</code> (<em>make directory</em>) sirve para crear carpetas</u>.<br />
Sintaxis básica:</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>nombre_carpeta
</code></pre></div>
<p>Opciones más comunes</p>
<ul>
<li><code>-p</code> → crea también las carpetas padre si no existen.  (ojo si pongo / es una ruta absoluta)</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="w">  </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/home/tu_nombre/proyectos/2025/enero
</code></pre></div>
<ul>
<li><code>-v</code> → modo “verbose”, muestra un mensaje por cada carpeta creada.  </li>
</ul>
<div class="highlight"><pre><span></span><code><span class="w">  </span>mkdir<span class="w"> </span>-v<span class="w"> </span>nueva_carpeta
</code></pre></div>
<ul>
<li>Crear varias carpetas a la vez:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="w">  </span>mkdir<span class="w"> </span>carpeta1<span class="w"> </span>carpeta2<span class="w"> </span>carpeta3
</code></pre></div>
<hr />
<h3 id="45-aplicar-lo-anterior-moviendose-por-directorios-de-linux-cd-y-comprobar-pwd-crear-carpetas-con-mkdir-y-opciones-mas-comunes">4.5 Aplicar lo anterior moviendose por directorios de Linux (cd y comprobar pwd). Crear carpetas con mkdir y opciones más comunes.</h3>
<p>El objetivo de este apartado es aprender a moverse cómodamente por el sistema de archivos usando los comandos básicos <code>cd</code> , <code>pwd</code> y <code>mkdir</code>. Realiza paso a paso los siguientes ejercicios en tu terminal, observando siempre la salida de <code>pwd</code> después de cada movimiento. Adjunta capturas de pantalla.</p>
<ol>
<li>Abre una terminal desde tu usuario normal (no el que creaste en esta práctica) y escribe:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="w">   </span><span class="nb">pwd</span>
</code></pre></div>
<p>Verás algo como:</p>
<div class="highlight"><pre><span></span><code>/home/tu_nombre
</code></pre></div>
<ol>
<li>Crea una carpeta llamada <code>entrenamiento</code>:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="w">   </span>mkdir<span class="w"> </span>entrenamiento
</code></pre></div>
<ol>
<li>Entra en ella y comprueba dónde estás:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="w">   </span><span class="nb">cd</span><span class="w"> </span>entrenamiento
<span class="w">   </span><span class="nb">pwd</span>
</code></pre></div>
<p>Salida esperada:</p>
<div class="highlight"><pre><span></span><code>/home/tu_nombre/entrenamiento
</code></pre></div>
<ol>
<li>Dentro de <code>entrenamiento</code>, crea tres carpetas:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="w">   </span>mkdir<span class="w"> </span>titan<span class="w"> </span>pared<span class="w"> </span>tropa
</code></pre></div>
<ol>
<li>Usa <code>ls</code> para comprobar que existen:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="w">   </span>ls
</code></pre></div>
<ol>
<li>Entra en <code>tropa</code>:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="w">   </span><span class="nb">cd</span><span class="w"> </span>tropa
<span class="w">   </span><span class="nb">pwd</span>
</code></pre></div>
<ol>
<li>Sube un nivel:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="w">   </span><span class="nb">cd</span><span class="w"> </span>..
<span class="w">   </span><span class="nb">pwd</span>
</code></pre></div>
<ol>
<li>Vuelve directamente a tu <em>home</em>:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="w">   </span><span class="nb">cd</span><span class="w"> </span>~
<span class="w">   </span><span class="nb">pwd</span>
<span class="sb">``</span>

<span class="m">9</span>.<span class="w"> </span>Crea<span class="w"> </span>una<span class="w"> </span>ruta<span class="w"> </span>completa<span class="w"> </span>con<span class="w"> </span><span class="sb">`</span>mkdir<span class="w"> </span>-p<span class="sb">`</span>:

<span class="sb">```</span>bash
mkdir<span class="w"> </span>-p<span class="w"> </span>/home/tu_usuario/muro/exterior/seccionA
</code></pre></div>
<ol>
<li>Entra en esa ruta para comprobar:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nb">cd</span><span class="w"> </span>~/muro/exterior/seccionA
<span class="w">    </span><span class="nb">pwd</span>
</code></pre></div>
<ol>
<li>Sube dos niveles de golpe:</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nb">cd</span><span class="w"> </span>../..
<span class="w">    </span><span class="nb">pwd</span>
</code></pre></div>
<ol>
<li>Vuelve al último directorio visitado: ¿donde acabas?</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nb">cd</span><span class="w"> </span>-
</code></pre></div>
<hr />
<h3 id="46-asignar-permisos-con-chown-y-chmod-uso-de-usermod">4.6 Asignar permisos con <code>chown</code> y <code>chmod</code>. Uso de <code>usermod</code></h3>
<p>Queremos crear dos recursos compartidos del <em>Muro</em> en el sistema: Para conseguir colaboración segura y ordenada tenemos que hacer uso de los siguientes comandos, que explicamos primero con algunos ejemplos para después detallaros un poco más que tenéis que hacer:</p>
<hr />
<h4 id="ppropietario-y-grupo-apropiados-chown">P<em>propietario y grupo apropiados</em>* (<code>chown</code>)</h4>
<p>Cada archivo o directorio en Linux pertenece a:</p>
<ul>
<li>
<p>un usuario propietario</p>
</li>
<li>
<p>un grupo (normalmente el <u>grupo principal</u> del usuario que lo creó)</p>
</li>
</ul>
<p>Esto se puede comprobar con <code>ls -l</code> en el directorio en que se encuentre el archivo, por ejemplo si  plan_toma_muro.txt se encuentra en la carpeta home:</p>
<div class="highlight"><pre><span></span><code>-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>eren<span class="w"> </span>exploradores<span class="w"> </span><span class="m">0</span><span class="w"> </span>oct<span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">10</span>:15<span class="w"> </span>plan_toma_muro.txt
</code></pre></div>
<p>Aquí, eren es el propietario y exploradores es el grupo. El propietario y el grupo determinan quién puede hacer qué según los permisos definidos. El comando que permite cambiar estas asociaciones es:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>chown<span class="w"> </span>propietario:grupo<span class="w"> </span>archivo
</code></pre></div>
<p>Por ejemplo:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>chown<span class="w"> </span>root:exploradores<span class="w"> </span>/srv/inteligencia
</code></pre></div>
<div class="highlight"><pre><span></span><code>significa que:

- root (administrador) es el propietario del directorio.

- El grupo exploradores tiene derechos sobre él.
</code></pre></div>
<hr />
<h4 id="permisos-del-directorio"><strong>Permisos del directorio</strong></h4>
<p>Que permitan lectura/escritura al grupo pero no a otros (<code>chmod</code>). Linux usa tres conjuntos de permisos (lectura, escritura, ejecución), aplicados a tres tipos de usuarios:</p>
<ul>
<li><strong>u</strong> (<em>user</em>): el propietario.</li>
<li><strong>g</strong> (<em>group</em>): el grupo asignado.+</li>
<li><strong>o</strong> (<em>others</em>): el resto de usuarios.</li>
</ul>
<p>Cada conjunto puede tener combinaciones de:</p>
<table>
<thead>
<tr>
<th>Permiso</th>
<th>Letra</th>
<th>Valor numérico</th>
<th>Significado</th>
</tr>
</thead>
<tbody>
<tr>
<td>Lectura</td>
<td><code>r</code></td>
<td>4</td>
<td>Permite ver el contenido (o listar archivos en un directorio <code>ls</code>). Necesito previamente permisos de ejecución en el directorio <code>x</code></td>
</tr>
<tr>
<td>Ejecución</td>
<td><code>x</code></td>
<td>1</td>
<td>Permite acceder al interior (si es directorio).</td>
</tr>
<tr>
<td>Escritura</td>
<td><code>w</code></td>
<td>2</td>
<td>Permite modificar o borrar información del archivo o Permite <em>crear, borrar o renombrar archivos dentro del directorio</em>. Necesito previamente permisos de ejecución en el directorio <code>x</code></td>
</tr>
</tbody>
</table>
<p>Por ejemplo, un directorio <code>rwxrwx---</code> (770) permite acceso total a propietario y grupo, pero bloquea completamente a los demás.</p>
<p>Los permisos se expresan de la siguiente forma:</p>
<p><strong>de forma simbólica:</strong></p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>chmod<span class="w"> </span><span class="nv">u</span><span class="o">=</span>rwx,g<span class="o">=</span>rwx,o<span class="o">=</span>---<span class="w"> </span>archivo
</code></pre></div>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>chmod<span class="w"> </span><span class="nv">u</span><span class="o">=</span>rwx,g<span class="o">=</span>rwx,o<span class="o">=</span>w<span class="w"> </span>hola.txt
</code></pre></div>
<p><strong>de forma numérica (octal):</strong></p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">770</span><span class="w"> </span>archivo
</code></pre></div>
<p>(4+2+1 = 7 para usuario y grupo, 0 para otros)</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">772</span><span class="w"> </span>archivo
</code></pre></div>
<div class="highlight"><pre><span></span><code>(4+2+1 = 7 para usuario y grupo, 2 para otros)
</code></pre></div>
<hr />
<h4 id="usermod">Usermod</h4>
<p>Vemos ahora el comando usermod. El comando <code>usermod</code> (abreviatura de <em>user modify</em>) se usa en Linux para modificar las propiedades de un usuario existente del sistema. Permite cambiar desde su grupo principal o secundarios hasta su shell, su carpeta personal o su fecha de expiración. Algunas de las opciones más interesantes con ejemplos son las siguientes:</p>
<table>
<thead>
<tr>
<th>Opción</th>
<th>Significado</th>
<th>Ejemplo</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-aG</code></td>
<td>Añadir el usuario a uno o varios <strong>grupos secundarios</strong>, sin eliminar los existentes. a de append</td>
<td><code>usermod -aG exploradores armin</code></td>
</tr>
<tr>
<td><code>-g</code></td>
<td>Cambiar el <strong>grupo principal</strong> del usuario</td>
<td><code>usermod -g guarnicion mikasa</code></td>
</tr>
<tr>
<td><code>-d</code></td>
<td>Cambiar el <strong>directorio personal (home)</strong></td>
<td><code>usermod -d /home/eren_nuevo eren</code></td>
</tr>
<tr>
<td><code>-s</code></td>
<td>Cambiar el <strong>shell por defecto</strong></td>
<td><code>usermod -s /bin/bash levi</code></td>
</tr>
<tr>
<td><code>-L</code></td>
<td><strong>Bloquear</strong> la cuenta (no se puede iniciar sesión)</td>
<td><code>usermod -L hange</code></td>
</tr>
<tr>
<td><code>-U</code></td>
<td><strong>Desbloquear</strong> la cuenta</td>
<td><code>usermod -U hange</code></td>
</tr>
<tr>
<td><code>-e</code></td>
<td>Establecer una <strong>fecha de expiración</strong> para la cuenta (formato AAAA-MM-DD)</td>
<td><code>usermod -e 2025-12-31 armin</code></td>
</tr>
</tbody>
</table>
<p>Si quieres quitar a un usuario de un grupo, puedes mirar los grupos en los que está con:</p>
<div class="highlight"><pre><span></span><code>groups<span class="w"> </span>manolo
</code></pre></div>
<p>y verás grupo1, grupo2, grupo3, grupo4</p>
<p>y después hacer:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>usermod<span class="w"> </span>-G<span class="w"> </span>grupo1,grupo2,grupo3<span class="w"> </span>nombre_usuario
</code></pre></div>
<p>De esta forma estará en todos menos en grupo 4</p>
<ul>
<li>Por último vemos el comando <code>su</code>, que es <strong>uno de los más clásicos y poderosos</strong> en Linux. Sirve para <strong>cambiar de usuario dentro de la misma terminal</strong> sin cerrar sesión ni abrir otra ventana. Vamos a verlo paso a paso con ejemplos claros.</li>
</ul>
<p><code>su</code> viene de “substitute user” (sustituir usuario). Permite abrir una sesión temporal como otro usuario. Por defecto, si no le indicas a qué usuario, asume que quieres ser root (el superusuario).</p>
<p>​   🔹 Cambiar al usuario <code>root</code>: <code>su</code></p>
<p>​   🔹 Cambiar al usuario <code>root</code>: <code>su root</code></p>
<p>​   🔹 Cambiar al usuario <code>root</code> como si hubiera iniciado sesión desde 0: <code>su</code></p>
<p>​   🔹 Cambiar al usuario <code>eren</code>: <code>su eren</code></p>
<p>​   🔹 Cambiar al usuario <code>eren</code> como si hubiera iniciado sesión desde 0 (espacio ente - y eren): <code>su - eren</code></p>
<hr />
<h4 id="un-ejemplo-de-todo-lo-anterior">Un ejemplo de todo lo anterior</h4>
<p>Ejemplo de todo lo anterior;</p>
<ul>
<li>
<p><code>/srv/inteligencia</code> : Crear este espacio para el Cuerpo de Exploración (grupo <code>exploradores</code>). Los miembros de ese grupo deben poder colaborar: crear, modificar y borrar ficheros en ese directorio. El resto, sin permisos.</p>
</li>
<li>
<p><code>/srv/arsenal</code> : Crear este espacio para la Policía Militar (grupo <code>policia_militar</code>) Los miembros de ese grupo deben poder colaborar: crear, modificar y borrar ficheros en ese directorio. Otros podrán listar el contenido</p>
</li>
<li>
<p>Comprueba que reiner solo puede listar el directorio (cambia al usuario reiner) pero no puede acceder a la carpeta ni menos crear algo en esa carpeta</p>
</li>
<li>
<p>Añadimos a reiner al grupo de policia_militar también (ahora puede acceder a ambos directorios)</p>
</li>
</ul>
<p><u>Solución:</u></p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/srv/inteligencia
sudo<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/srv/arsenal
sudo<span class="w"> </span>chown<span class="w"> </span>root:exploradores<span class="w"> </span>/srv/inteligencia
sudo<span class="w"> </span>chown<span class="w"> </span>root:policia_militar<span class="w"> </span>/srv/arsenal
sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">774</span><span class="w"> </span>/srv/inteligencia
sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">770</span><span class="w"> </span>/srv/arsenal
su<span class="w"> </span>reiner
<span class="nb">cd</span><span class="w"> </span>/srv/arsenal<span class="w"> </span><span class="o">(</span>denied<span class="o">)</span>
su<span class="w"> </span><span class="o">(</span>tu_usuario_real<span class="o">)</span><span class="w"> </span><span class="c1">#Esto nos los ahorraremos cuando veamos sudoers</span>
sudo<span class="w"> </span>usermod<span class="w"> </span>-aG<span class="w"> </span>policia_militar<span class="w"> </span>reiner
su<span class="w"> </span>reiner
<span class="nb">cd</span><span class="w"> </span>/srv/arsenal<span class="w"> </span><span class="o">(</span>allowed<span class="o">)</span>
</code></pre></div>
<hr />
<h3 id="47-practica-de-permisos-con-chown-y-chmod-uso-de-usermod">4.7 Practica de permisos con <code>chown</code> y <code>chmod</code>. Uso de <code>usermod</code></h3>
<p>Explicado lo anterior, se pide lo siguiente:</p>
<p>El Muro sigue reforzando su sistema de información. Se han creado dos nuevas zonas de trabajo que deben ser seguras y accesibles solo para los equipos designados. La administración central (root) supervisará todo, pero cada división gestionará sus propios datos internos.</p>
<ul>
<li>Crea dos directorios dentro de <code>/srv</code>:</li>
<li><code>/srv/planificacion</code> para el grupo <code>policia_militar</code>.</li>
<li>
<p><code>/srv/abastecimiento</code> para el grupo <code>guarnicion</code>.</p>
</li>
<li>
<p>El propietario debe ser <code>root</code> en <code>/srv/planificacion</code> , y <code>hange</code> en <code>/srv/abastecimiento</code>. Cada grupo debe tener acceso completo a su respectivo directorio al igual que el propietario del mismo. Los demás usuarios no deben tener ningún permiso en <code>/srv/planificacion</code> y solo read en <code>/srv/abastecimiento</code>.</p>
</li>
<li>
<p>Comprueba que <code>armin</code> no pueder hacer un ls a <code>/srv/planificacion</code> y si a <code>/srv/abastecimiento</code></p>
</li>
<li>
<p>Comprueba que a pesar de no ser de la <code>guarnicion</code>, <code>hange</code> puede crear directorios en <code>/srv/abastecimiento.</code></p>
</li>
<li>
<p>Además, da a <code>armin</code> acceso adicional al directorio <code>/srv/planificacion</code> sin cambiar el grupo del archivo (añadiendo a <code>armin</code> al grupo correspondiente). Comprueba ahora que armin puede entrar en <code>/srv/planificacion</code></p>
</li>
</ul>
<hr />
<h3 id="5-borrar-toda-la-info-de-los-usuarios-creados-y-grupos">5. Borrar toda la info de los usuarios creados y grupos</h3>
<p>OJO! Antes de borrarlos lo suyo es que mates los procesos de cada usuario así:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>pkill<span class="w"> </span>-KILL<span class="w"> </span>-u<span class="w"> </span>usuario
</code></pre></div>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>userdel<span class="w"> </span>-r<span class="w"> </span>eren
</code></pre></div>
<p>Para borrar los grupos ejecuta lo siguiente:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>groupdel<span class="w"> </span>nombre_grupo
</code></pre></div>
<p>¿Qué pasa si ese grupo es el principal de un usuario?</p>
<hr />
<p>¡Fin de la práctica!
<strong>¡Por la humanidad!</strong> :)</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>