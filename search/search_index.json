{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Inicio","text":""},{"location":"#documentacion-relativa-al-modulo","title":"Documentaci\u00f3n relativa al modulo.","text":"<p>Aqu\u00ed ir\u00e1n cosas importantes</p>"},{"location":"TEMA1/Practicas/1%C2%AA%20Practica/","title":"1. Teor\u00eda Primera Pr\u00e1ctica \u2014 Descargar Ubuntu en una VM Windows, copiar la ISO a un USB y usarla en el host para instalar una nueva VM (No se entrega, echa en clase)","text":""},{"location":"TEMA1/Practicas/1%C2%AA%20Practica/#objetivo","title":"Objetivo","text":"<ul> <li>Descargar en la VM Windows la ISO de la \u00faltima versi\u00f3n de Ubuntu Desktop.  </li> <li>Pasar la ISO al host Linux mediante un pendrive USB/ mediante descagar via ftp/ mediante el montado del disco virtual en el que arrancar\u00e1 la m\u00e1quina cliente en windows/ mediante descarga directa del recurso con wget.  </li> <li>Crear una nueva m\u00e1quina virtual en el host con esa ISO usando virt-manager.  </li> </ul>"},{"location":"TEMA1/Practicas/1%C2%AA%20Practica/#1-descargar-la-iso-en-la-vm-windows","title":"1. Descargar la ISO en la VM Windows","text":"<ol> <li>Inicia la VM Windows en virt-manager.  </li> <li>Dentro de Windows, abre un navegador (Edge/Chrome).  </li> <li>Ve a la p\u00e1gina oficial: https://ubuntu.com/download/desktop </li> <li>Descarga la ISO (ejemplo: <code>ubuntu-25.04-desktop-amd64.iso</code>).  </li> <li>Guarda la ISO en <code>C:\\Users\\&lt;TuUsuario&gt;\\Downloads</code>.</li> </ol>"},{"location":"TEMA1/Practicas/1%C2%AA%20Practica/#2-preparar-un-pendrive-en-el-host","title":"2. Preparar un pendrive en el host","text":"<p>1.Inserta el pendrive en el host f\u00edsico.  </p> <p>2.En el host, identifica el dispositivo:  </p> <pre><code>lsblk\n</code></pre> <pre><code> sda    100G\n \u251c\u2500sda1  96G /\n \u2514\u2500sda2   4G swap\n sdb    16G   \u2190 este es tu pendrive\n \u2514\u2500sdb1 16G\n</code></pre> <p>Con el administrados de discos de gnome, prueba a darle formato FAT (el soportado por Windows y distribuciones linux) Mediante consola de comandos, ser\u00eda de la siguiente forma, pero NO LO HAREMOS ya que necesitamos verlo previamente...</p> <pre><code>sudo apt install -y exfatprogs   # si no est\u00e1 instalado\nsudo umount /dev/sdb   # el dispositivo no puede estar montado en el sistema de archivos\nsudo mkfs.exfat /dev/sdb\n</code></pre>"},{"location":"TEMA1/Practicas/1%C2%AA%20Practica/#3-pasar-el-pendrive-a-la-vm-windows-usb-passthrough","title":"3. Pasar el pendrive a la VM Windows (USB passthrough)","text":"<ol> <li>Abre virt-manager, selecciona tu VM Windows y entra en Detalles de hardware.</li> <li>Con la VM encendida, en el panel izquierdo pulsa Add Hardware \u2192 USB Host Device.</li> <li>Elige tu pendrive de la lista y pulsa Finish.</li> <li>Dentro de Windows deber\u00eda aparecer el pendrive como una nueva unidad (E:\\, por ejemplo).</li> </ol>"},{"location":"TEMA1/Practicas/1%C2%AA%20Practica/#4-copiar-la-iso-al-pendrive-en-windows","title":"4. Copiar la ISO al pendrive en Windows","text":"<ol> <li>En Windows, abre el Explorador de Archivos.</li> <li>Copia la ISO (ubuntu-25.04-desktop-amd64.iso) desde Downloads al pendrive (E:).</li> <li>Espera a que termine la copia.</li> <li>Usa Quitar hardware con seguridad en Windows para desmontar el USB.</li> </ol>"},{"location":"TEMA1/Practicas/1%C2%AA%20Practica/#5-volver-a-montar-el-pendrive-en-el-host","title":"5. Volver a montar el pendrive en el host","text":"<ol> <li>En virt-manager, quita el USB de la VM (o apaga la VM).</li> <li>El host detectar\u00e1 de nuevo el pendrive.</li> <li>Monta el pendrive: para ello, vete a gnome disk y dale al boton de \"play\". Dejo tambi\u00e9n el comando, aunque NO debes USARLO.   <pre><code>lsblk              # identifica el dispositivo (ej. /dev/sdb1)\nsudo mount /dev/sdb1 /mnt\n</code></pre></li> <li>Copia la ISO al host: esto se hace manejando archivos de forma normal, no hace falta que uses el comando CP.   <pre><code>  mkdir -p ~/isos\n  cp /mnt/ubuntu-25.04-desktop-amd64.iso ~/isos/\n  sudo umount /mnt\n</code></pre></li> </ol>"},{"location":"TEMA1/Practicas/1%C2%AA%20Practica/#6-crear-una-nueva-vm-ubuntu-en-el-host-con-virt-manager","title":"6. Crear una nueva VM Ubuntu en el host con virt-manager","text":"<p>En caso de que el dispositivo USB no funcione, la ISO est\u00e1 compartida tanto por FTP como SMB y as\u00ed no tienes que hacer caso a los 5 primeros puntos anteriores. FTP es un protocolo de red para transferir archivos entre un cliente y un servidor. Funciona sobre TCP, t\u00edpicamente en los puertos 21 (control) y 20 (datos). Por otro lado, SMB es un protocolo de red para compartir archivos, impresoras y recursos entre computadoras, principalmente en entornos Windows.</p>"},{"location":"TEMA1/Practicas/1%C2%AA%20Practica/#windows","title":"Windows","text":"<ul> <li> <p><code>\\\\&lt;IP-del-servidor&gt;\\Publica (smb poner usuario Manolo contrase\u00f1a 123456)</code></p> </li> <li> <p><code>ftp://alumnosiso:Iso15092025@IP-servidor</code></p> </li> </ul>"},{"location":"TEMA1/Practicas/1%C2%AA%20Practica/#ubuntu","title":"Ubuntu","text":"<ul> <li> <p><code>ftp://alumnosiso:Iso15092025@IP-servidor</code></p> </li> <li> <p><code>smb://&lt;IP-servidor&gt;/Publica</code></p> </li> </ul>"},{"location":"TEMA1/Practicas/1%C2%AA%20Practica/#7-crear-una-nueva-vm-ubuntu-en-el-host-con-virt-manager","title":"7. Crear una nueva VM Ubuntu en el host con virt-manager","text":"<p>Si todo lo anterior no funciona lo m\u00e1s limpio es decargar la distribuci\u00f3n mediante el comando wget, que permitir\u00e1 la descarga desde terminal. Otra opci\u00f3n comentada al principio es la de montar directamente el disco windows donde se ha descargado la iso de ubuntu desktop en tu host. Esto puede ser tambi\u00e9n un tanto catastr\u00f3fico ya que requiere de que teng\u00e1is permisos de administrador, aunque el proceso en s\u00ed, es simple. Para ello, primero, hay que entender que ubuntu no funciona igual.</p>"},{"location":"TEMA1/Practicas/1%C2%AA%20Practica/#71-primero-tenemos-que-entender-que-es-el-directorio-mnt-en-linux","title":"7.1 Primero tenemos que entender que es el directorio /mnt en linux.","text":"<ul> <li> <p>/mnt es una carpeta del sistema reservada como punto de montaje.</p> </li> <li> <p>Montar = decirle al sistema operativo:</p> </li> <li> <p>Muestra el contenido de este disco/dispositivo dentro de esta carpeta.</p> </li> <li> <p>Si no hay nada montado, /mnt es una carpeta vac\u00eda normal en el host.</p> </li> </ul>"},{"location":"TEMA1/Practicas/1%C2%AA%20Practica/#72-uso-en-discos-fisicos-ejemplo-un-pendrive","title":"7.2 Uso en Discos f\u00edsicos (ejemplo: un pendrive)","text":"<p>Un pendrive aparece como dispositivo, por ejemplo /dev/sdb1. Para montarlo manualmente:</p> <p><code>bash sudo mount /dev/sdb1 /mnt</code> Ahora en /mnt ves los archivos del pendrive. Si creas algo dentro de /mnt, se escribe en el pendrive. Cuando desmontas (sudo umount /mnt), el contenido del host en /mnt reaparece (si hab\u00eda algo).</p>"},{"location":"TEMA1/Practicas/1%C2%AA%20Practica/#73-ahora-bien-aunque-similar-para-montar-discos-virtual-es-un-poco-distinto-lo-primero-es-instalar-mediante-apt-una-libreria","title":"7.3 Ahora bien, aunque similar, para montar discos virtual es un poco distinto. Lo primero es instalar mediante apt una libreria:","text":"<p><code>bash sudo guestmount -a /var/lib/libvirt/images/mi_vm.qcow2 -i --ro /mnt</code> -a \u2192 ruta al disco virtual.</p> <p>-i \u2192 auto-detecci\u00f3n de particiones y sistemas de archivos.</p> <p>--ro \u2192 modo solo lectura (muy recomendado si no quieres estropear la VM).</p> <p>/mnt \u2192 punto de montaje en tu host.</p>"},{"location":"TEMA1/Practicas/1%C2%AA%20Practica/#73-por-ultimo-vemos-como-pasar-la-informacion-de-la-vm-al-host","title":"7.3 Por ultimo vemos como pasar la informacion de la VM al host","text":"<p>Navega hasta: </p> <pre><code>/mnt/Users/manolo/Downloads/\n</code></pre> <p>Copiar el archivo windows.iso de esa carpeta al Downloads del usuario manolo del host Ubuntu:</p> <pre><code>cp \"/mnt/Users/manolo/Downloads/windows.iso\" \"/home/manolo/Downloads/\"\n</code></pre> <p>Desmontar el disco virtual (es igual que el umount visto en el punto 5.4 de este punto te\u00f3rico:</p> <pre><code>sudo guestunmount /mnt\n</code></pre>"},{"location":"TEMA1/Practicas/1%C2%AA%20Practica/#8-crear-una-nueva-vm-ubuntu-en-el-host-con-virt-manager","title":"8. Crear una nueva VM Ubuntu en el host con virt-manager","text":"<p>Una vez tienes el ISO mediante alguno de los procedimientos anteriores (pen, ftp, montando disco virtual, wget) , se pide que:</p> <ol> <li> <p>Abre virt-manager.</p> </li> <li> <p>Pulsa New (Nuevo).</p> </li> <li> <p>Elige Local install media (ISO image or CDROM).</p> </li> <li> <p>Pulsa Browse \u2192 Browse Local, selecciona la ISO en ~/isos/.</p> </li> <li> <p>Virt-manager detectar\u00e1 autom\u00e1ticamente que es Ubuntu. Pulsa Forward.</p> </li> <li> <p>Asigna recursos (ejemplo: 4 GB RAM, 2 CPUs, 40 GB disco).</p> </li> <li> <ol> <li>Finaliza: la VM arrancar\u00e1 desde la ISO y ver\u00e1s el instalador de Ubuntu.</li> </ol> </li> <li> <p>Sigue los pasos de clase para instalar Ubuntu. Recuerda cambiar el idioma del teclado y descargar el paquete gr\u00e1fico.</p> </li> <li> <p>En caso de que algo vaya mal con gnome-disk, m\u00e1talo el proceso con: pkill gnome-disk</p> </li> </ol>"},{"location":"TEMA1/Practicas/2.%20Pr%C3%A1ctica%20%E2%80%94%20Observar%20la%20diferencia%20en%20notaci%C3%B3n%20decimal%20vs%20binaria.%20Rellena%20la%20siguiente%20tabla/","title":"2. Pr\u00e1ctica \u2014 Observar la diferencia en notaci\u00f3n decimal vs binaria. Rellena la siguiente tabla","text":"<p>Entrega en Markdown (via PDF) la explicaci\u00f3n de las operaciones.</p> Decimal Binario Hexadecimal 7 0111 7 18 0001 0010 12 33 0010 0001 21 75 0100 1011 4B 229 1110 0101 E5 94 0101 1110 5E 60 0011 1100 3C 178 1011 0010 B2 <p>Para resolver esta pr\u00e1ctica, deber\u00e1s mirar el archivo de teor\u00eda del punto anterior y decidir en qu\u00e9 caso est\u00e1s.</p> <p>Por ejemplo, si quieres resolver de decimal a binario, especificar en qu\u00e9 casos est\u00e1s del archivo de teor\u00eda y despu\u00e9s resolver las correspondientes operaciones.</p>"},{"location":"TEMA1/Practicas/3.%20Pr%C3%A1ctica%20%E2%80%94%20Observar%20la%20diferencia%20en%20notaci%C3%B3n%20decimal%20vs%20binaria.%20Probamos%20la%20CLI%20de%20Ubuntu/","title":"3. Pr\u00e1ctica \u2014 Observar la diferencia en notaci\u00f3n decimal vs binaria. Probamos la CLI de Ubuntu.","text":"<p>Habitualmente, cuando compramos un disco duro, lo solecmos comprar con \"unidades redondas\", es decir, 1tb, 500gb... Sin embargo, a la hora de ver el disco dentro de nuestro ordenador, nos encontramos con sorpresas. En esta pr\u00e1ctica, usando la maquina virtual de Ubuntu que ten\u00e9is ya creada, vais a comprobar el tama\u00f1o real de vuestro disco duro y a relacionarlo con las unidades de medida de informaci\u00f3n que hemos estudiado. Entrega un Mardown via PDF explicando cada paso.</p>"},{"location":"TEMA1/Practicas/3.%20Pr%C3%A1ctica%20%E2%80%94%20Observar%20la%20diferencia%20en%20notaci%C3%B3n%20decimal%20vs%20binaria.%20Probamos%20la%20CLI%20de%20Ubuntu/#1-abrir-la-terminal","title":"1. Abrir la terminal","text":"<p>Presiona <code>Ctrl + Alt + T</code> para abrir la terminal en Ubuntu. Esto no es una pregunta a responder solo el paso inicial.</p>"},{"location":"TEMA1/Practicas/3.%20Pr%C3%A1ctica%20%E2%80%94%20Observar%20la%20diferencia%20en%20notaci%C3%B3n%20decimal%20vs%20binaria.%20Probamos%20la%20CLI%20de%20Ubuntu/#2-listar-los-discos-y-particiones","title":"2. Listar los discos y particiones","text":"<p>Escribe el siguiente comando: <pre><code>lsblk -o NAME,SIZE,TYPE\n</code></pre></p> <p>Haz la clasificaci\u00f3n de este comando seg\u00fan lo visto en la Teor\u00eda del punto 3: Prompt de usuario, Comando, Par\u00e1metro, Operadores, Salida y observa los discos (TYPE=disk) y sus tama\u00f1os (SIZE).</p>"},{"location":"TEMA1/Practicas/3.%20Pr%C3%A1ctica%20%E2%80%94%20Observar%20la%20diferencia%20en%20notaci%C3%B3n%20decimal%20vs%20binaria.%20Probamos%20la%20CLI%20de%20Ubuntu/#3-obtener-el-tamano-exacto-en-bytes","title":"3. Obtener el tama\u00f1o exacto en bytes","text":"<p>Escribe:</p> <pre><code>sudo fdisk -l\n</code></pre> <p>Haz clasificaci\u00f3n de comando seg\u00fan: Prompt de usuario, Comando, Par\u00e1metro, Operadores, Salida y busca la l\u00ednea que corresponda a tu disco, por ejemplo:</p> <pre><code>Disk /dev/sda: 500107 MB, 500107862016 bytes\n</code></pre> <p>Anota el tama\u00f1o en bytes y comprueba c\u00f3mo se traduce a GiB: GiB = bytes \u00f7 1.073.741.824 \u00bfPor qu\u00e9 hay que dividir por este n\u00famero?,\u00bfTe coincide con el n\u00famero de GiB de tu m\u00e1quina virtual? Si la tienda de tu barrio te vendiese este disco, \u00bfcu\u00e1ntos GB dir\u00edan que tiene? </p>"},{"location":"TEMA1/Practicas/3.%20Pr%C3%A1ctica%20%E2%80%94%20Observar%20la%20diferencia%20en%20notaci%C3%B3n%20decimal%20vs%20binaria.%20Probamos%20la%20CLI%20de%20Ubuntu/#4-gib-vs-gb-en-windows","title":"4. GiB vs GB en windows","text":"<p>En Windows, vete al administrador de discos. Ahora, comprueba en GiB el tama\u00f1o de tu disco. \u00bfCu\u00e1l es el tama\u00f1o en GB que te anunciar\u00eda una tienda? Para ello, pasa primero a de GiB a bytes y despu\u00e9s a GB</p>"},{"location":"TEMA1/Practicas/3.%20Pr%C3%A1ctica%20%E2%80%94%20Observar%20la%20diferencia%20en%20notaci%C3%B3n%20decimal%20vs%20binaria.%20Probamos%20la%20CLI%20de%20Ubuntu/#5-conversion-de-unidades","title":"5. Conversi\u00f3n de unidades","text":"<ul> <li>Convierte 8192 bytes a KiB </li> <li>Convierte 5 MiB a KiB </li> <li>Convierte 2 GiB a MiB </li> <li>Convierte 1 TiB a GiB</li> <li>Convierte 3,145,728 bytes a MiB</li> <li>Convierte  2 GiB a GB</li> <li>Convierte  200 MiB a GB</li> <li>Convierte  2 TB a MiB</li> <li>Convierte  2 TiB a KB </li> </ul> <p>Si tengo un procesador de 48 bits \u00bfcu\u00e1l es la capacidad m\u00e1xima que podr\u00eda tener te\u00f3ricamente de RAM en TB?</p> <p>\u00bfUn procesador x86-32? </p> <p>\u00bfY si fuese de 16 bits?</p>"},{"location":"TEMA1/Practicas/3.%20Pr%C3%A1ctica%20%E2%80%94%20Observar%20la%20diferencia%20en%20notaci%C3%B3n%20decimal%20vs%20binaria.%20Probamos%20la%20CLI%20de%20Ubuntu/#6-que-tipo-de-cli-puede-usar-windows-busca-informacion-al-respecto","title":"6. \u00bfQu\u00e9 tipo de CLI puede usar Windows? Busca informaci\u00f3n al respecto.","text":""},{"location":"TEMA1/Practicas/3.%20Pr%C3%A1ctica%20%E2%80%94%20Observar%20la%20diferencia%20en%20notaci%C3%B3n%20decimal%20vs%20binaria.%20Probamos%20la%20CLI%20de%20Ubuntu/#7-que-es-un-live-cd-o-un-disco-booteable-que-es-la-secuencia-de-arranque-y-como-se-accede-a-ella-busca-informacion-al-respecto-de-la-relacion-entre-dd-y-un-live-cd-asi-como-precauciones-del-comando-dd","title":"7. \u00bfQu\u00e9 es un Live CD o un disco booteable? \u00bfQu\u00e9 es la secuencia de arranque y c\u00f3mo se accede a ella? Busca informaci\u00f3n al respecto de la relaci\u00f3n entre dd y un Live CD, as\u00ed como precauciones del comando dd.","text":""},{"location":"TEMA1/Practicas/4.%20Pr%C3%A1ctica%20%28resuelta%29%20%E2%80%94%20Curiosidades%20y%20importancia%20de%20los%20sistemas%20de%20enumeraci%C3%B3n%20binario%20y%20hexadecimal%20en%20la%20informatica/","title":"4. Pr\u00e1ctica \u2014 Curiosidades y importancia de los sistemas de enumeraci\u00f3n binario y hexadecimal en la informatica.","text":"<p>Entrega en formato PDF los puntos; 4.2 y 4.3</p>"},{"location":"TEMA1/Practicas/4.%20Pr%C3%A1ctica%20%28resuelta%29%20%E2%80%94%20Curiosidades%20y%20importancia%20de%20los%20sistemas%20de%20enumeraci%C3%B3n%20binario%20y%20hexadecimal%20en%20la%20informatica/#41-traduciendo-a-esamblador-da-la-instruccion-de-forma-correcta-en-hexadecimal","title":"4.1 Traduciendo a esamblador, da la instrucci\u00f3n de forma correcta en hexadecimal.","text":"<p>Soluci\u00f3n</p> <p>Lo \u00fanico que se ped\u00eda era el paso a hexadecimal, nada m\u00e1s... Ahora bien, este ejercicio requer\u00eda una m\u00ednima explicaci\u00f3n de lo que hac\u00e9is, y as\u00ed se valorar\u00e1.</p> N\u00ba Instrucci\u00f3n a realizar Registro/Dato Direcci\u00f3n en decimal Direcci\u00f3n en hexadecimal Instrucci\u00f3n en ensamblador 1 Mover un valor a un registro AX 4660 1234h MOV AX, 1234h 2 Mover un valor desde memoria a un registro BX 12345 3039h MOV BX, [3039h] 3 Sumar un valor de memoria a un registro DX + [Memory] 54321 D431h ADD DX, [D431h]"},{"location":"TEMA1/Practicas/4.%20Pr%C3%A1ctica%20%28resuelta%29%20%E2%80%94%20Curiosidades%20y%20importancia%20de%20los%20sistemas%20de%20enumeraci%C3%B3n%20binario%20y%20hexadecimal%20en%20la%20informatica/#42-parte-practica-arquitectura-de-von-neumaan-resuelta","title":"4.2 Parte pr\u00e1ctica Arquitectura de Von Neumaan resuelta.","text":"<p>Este ejercicio ya estaba resuelto, lo dejo tal y como estaba ya que era un ejemplo.</p>"},{"location":"TEMA1/Practicas/4.%20Pr%C3%A1ctica%20%28resuelta%29%20%E2%80%94%20Curiosidades%20y%20importancia%20de%20los%20sistemas%20de%20enumeraci%C3%B3n%20binario%20y%20hexadecimal%20en%20la%20informatica/#43-parte-practica-arquitectura-de-von-newman-sin-resolver-ejercicio-opcional-para-subida-nota","title":"4.3 Parte pr\u00e1ctica Arquitectura de Von-Newman sin resolver (Ejercicio opcional para subida nota)","text":"<p>Supongamos:</p> <ul> <li><code>SS = 6000h</code></li> <li><code>SP = 2000h</code></li> </ul> <p>Ejecuta paso a paso y dibuja c\u00f3mo queda la pila (memoria, SP y registros) despu\u00e9s de cada instrucci\u00f3n:</p> <p><pre><code>MOV AX, 1234h\nPUSH AX\n</code></pre> <pre><code>MOV BX, 5678h\nPUSH BX\n</code></pre> <pre><code>POP CX\n</code></pre></p> <pre><code>POP DX\n</code></pre> <p>Vamos con la soluci\u00f3n, paso a paso de lo que hay que hacer, \u00a1RECUERDO QUE ESTE EJERCICIO ERA OPCIONAL!</p> <p>Primer paso, ejercuci\u00f3n del PUSH y retroceso de SP</p> <pre><code>6000:1FFE  34     AX low\n6000:1FFF  12     AX high\nSP=1FFEh\n</code></pre> <p>Segundo paso, segundo PUSH (las cosas se apilan como una PILA, por eso se llama as\u00ed)</p> <pre><code>6000:1FFC  78   BX low\n6000:1FFD  56   BX high\n6000:1FFE  34   AX low\n6000:1FFF  12   AX high\nSP=1FFCh\n</code></pre> <p>Tercer paso, primer POP</p> <pre><code>Saca 2 bytes (16 bits al registro CX) \n\nLuego saca dos registros de memoria de arriba a abajo [SS:1FFC,1FFD] \neso va al registro CX = 5678h\n\nEstado de los registros: CX=5678h, SP=1FFEh\n</code></pre> <p>Cuarto paso, segundo POP</p> <pre><code>Saca 2 bytes (16 bits al registro DX) \n\nLuego saca dos registros de memoria de arriba a abajo [SS:1FFE,1FFF] \neso va al registro DX = 1234h\n\nEstado de los registros: CX=5678h, SP=1FFEh, DX=1234h\nEstado final: AX=1234h, BX=5678h (no cambian), CX=5678h, DX=1234h, SP=2000h, SS=6000h\n</code></pre> <p>Por \u00faltimo, la traza:</p> <pre><code>Traza de SP: 2000h \u2192 1FFEh \u2192 1FFCh \u2192 1FFEh \u2192 2000h\n</code></pre> <p>\u00bfQu\u00e9 ocurre si haces m\u00e1s <code>PUSH</code> de los que caben en el segmento de pila reservado (por ejemplo, si reservas 16 KB y empujas 20 KB)?</p> <p>Stack-Overflow :)</p> <p>Con esto, bastaba.</p> <p>\u00bfQu\u00e9 problema real se genera? \u00bfPor qu\u00e9 la pila crece hacia direcciones menores en memoria en lugar de hacia arriba?</p> <p>El programa intenta guardar m\u00e1s datos de los que caben/se pueden en ella, provocando distintos tipos de errores dependiendo del contexto.</p> <p>Convenci\u00f3n: La pila crece hacia abajo por una convenci\u00f3n de dise\u00f1o tomada, nada m\u00e1s. </p> <p>Por ejemplo, la pila crece desde las direcciones altas hacia abajo, el heap (otra zona, buscadla si no sab\u00e9is cual es, donde se guardan datos temporales) crece en direcci\u00f3n contraria.</p>"},{"location":"TEMA1/Practicas/4.%20Pr%C3%A1ctica%20%28resuelta%29%20%E2%80%94%20Curiosidades%20y%20importancia%20de%20los%20sistemas%20de%20enumeraci%C3%B3n%20binario%20y%20hexadecimal%20en%20la%20informatica/#44-codificaciones-de-textos","title":"4.4 Codificaciones de textos","text":"<p>El texto que ves en tu pantalla no es m\u00e1s que una codificaci\u00f3n del lenguaje binario. Todo lo que se muestra en la pantalla, ya sean letras, n\u00fameros o s\u00edmbolos, se traduce finalmente a ceros y unos, que la computadora puede interpretar. A lo largo de la historia de la inform\u00e1tica, se han desarrollado distintas codificaciones de caracteres para representar texto en binario: EBCDIC, ASCII,Extended ASCII y Unicode,</p> <p>Establece una linea temporal de las distintas codificaciones, dando ejemplos y el n\u00famero de bits que utliza cada una as\u00ed como el n\u00famero total de caracteres posibles. Si un tipo de codificaci\u00f3n admit\u00eda hasta 7 bits: \u00bfcu\u00e1l es la cantidad de car\u00e1cteres admitidos en total?</p> <p>Soluci\u00f3n tabla Este ejercico con la tabla ten\u00eda bastante truco, pero la idea era que como sois adultos e independientes, buscaseis informaci\u00f3n al respecto.Se divide en dos casos distintos la soluci\u00f3n:</p> <p>En el caso en que el n\u00famero binario sea de 8bits, es decir 1 byte, (o en caso de que el n\u00famero en hexadecimal tenga dos ceros delante,) s\u00f3lo ten\u00e9is que transforma a Binario o al rev\u00e9s. Por ejemplo:</p> <p>En el caso de la A, yo os daba: 01000001. Para pasarlo a UNICODE, s\u00f3lo teneis que pasarlo a decimal:</p> <pre><code>01000001=0100|0001= U+0041\n</code></pre> <p>En el caso de que que el n\u00famero tenga dos bytes (o que en hexadecimal tiene el siguiente rango de valores: U+0080 \u2013 U+07FF), ten\u00e9is que tener en cuenta el siguiente patr\u00f3n que siguen en binario. </p> <pre><code>110xxxxx 10xxxxxx (por tanttenga do hay 11 caracteres variables, que son las \"x\")\n</code></pre> <p>Lo que quiere decir que, en el caso de la \u00f1, yo os daba 11000011 10110001, que son solo 8 y no 11.</p> <pre><code>11000011 10110001-&gt; Nos quedamos \"solo con las x\": 110|00011 10|110001= 00011110001 (quitos los 0's a la izquierda) = 11110001\n</code></pre> <p>Pasando este n\u00famero a hexadecimal, me queda F1</p> <p>En el caso de que que el n\u00famero tenga tres bytes (o que en hexadecimal tiene el siguiente rango de valores: U+0800 \u2013 U+FFFF), ten\u00e9is que tener en cuenta el siguiente patr\u00f3n que siguen en binario. </p> <pre><code>1110xxxx 10xxxxxx 10xxxxxx (por tanto hay 16 caracteres variables, que son las \"x\")\n</code></pre> <p>En el caso de U+20AC est\u00e1 en este rango, (tambi\u00e9n podemos pensar que al pasarlo a binario son 16 bits, luego por el patr\u00f3n de las \"X\" solo puede ser un n\u00famero de tres bytes en utf-8) luego sabemos que tiene 3 bytes. Pasamos 20AC a binario</p> <pre><code>20AC = 0010|0000|1010|1100=0010000010101100 \n</code></pre> <p>Metiendo este n\u00famero en las \"X\" de antes (de izq a derecha), nos queda: <pre><code>11100010 10000010 10101100\n</code></pre></p> <p>En el caso de que que el n\u00famero tenga cuatro bytes (o que en hexadecimal tiene el siguiente rango de valores: U+10000 \u2013 U+10FFFF), ten\u00e9is que tener en cuenta el siguiente patr\u00f3n que siguen en binario. </p> <pre><code>11110xxx 10xxxxxx 10xxxxxx 10xxxxxx (por tanttenga do hay 21 caracteres variables, que son las \"x\")\n</code></pre> <p>Lo que quiere decir que, en el caso del emoji, yo os daba U+1F602,. Si passamos este n\u00famero a binario nos quedan 20 bits, pero con 1 cero a la izq llegamos a 21, por tanto no queda otra que ser un n\u00famero de 4bytes en UTF-8.</p> <pre><code>U+1F602= 0001|1111|0110|0000|0010. Si a\u00f1adimos un 0 a la izq nos queda :  0|0001|1111|0110|0000|0010.\n</code></pre> <p>Si metemos el n\u00famero final en las X, nos queda como resultado: <pre><code>11110000 10011111 10011000 10000010\n</code></pre></p> <p>El caso de \u4e2d= 11100100 10111000 10101101 es simplemente pasar a hexadecimal.</p> <p>Al final, la tabla rellena es la siguiente</p> Car\u00e1cter UTF-8 (binario) Unicode (hexadecimal) A 01000001 U+0041 \u00f1 11000011 10110001 U+00F1 \u20ac 11100010 10000010 10101100 U+20AC \ud83d\ude02 11110000 10011111 10011000 10000010 U+1F602 \u4e2d 11100100 10111000 10101101 U+4E2D <p>Soluci\u00f3n (de las preguntas)</p> <p>B\u00e1sicamente lo que ped\u00eda en clase, es hacer una l\u00ednea cronol\u00f3gica y saber el n\u00famero de bits (y en consecuencia el n\u00famero de caract\u00e9res totales) que teb\u00eda cada codificaci\u00f3n incluido UTF-8 UTF-16 y UTF-32 dentro de UNICODE, aunque primero una introducc\u00f3n:</p> <p>A lo largo de la historia de la inform\u00e1tica, las codificaciones de caracteres han evolucionado para adaptarse a las necesidades de comunicaci\u00f3n entre humanos y computadoras. Cada sistema de codificaci\u00f3n ha buscado una manera eficiente de representar letras, n\u00fameros y s\u00edmbolos mediante combinaciones de bits, permitiendo que los equipos electr\u00f3nicos comprendan y transmitan informaci\u00f3n textual.</p> <p>Y ahora, empezamos con un peque\u00f1o desarrollo cronol\u00f3gico y los detalles m\u00e1s importante, para cada una:</p> <ul> <li> <p>En la d\u00e9cada de 1950, IBM desarroll\u00f3 la codificaci\u00f3n EBCDIC (Extended Binary Coded Decimal Interchange Code), la cual utilizaba 8 bits por car\u00e1cter, permitiendo representar 256 caracteres posibles. Fue ampliamente usada por IBM (buscadala si no sab\u00e9is que empresa es), aunque result\u00f3 incompatible con ASCII, el estandar que veremos justo a continucaci\u00f3n. Por curiosidad, un ejemplo es la letra \u201cA\u201d, que se codificaba como 11000001.</p> </li> <li> <p>Posteriormente, en 1963, surgi\u00f3 ASCII (American Standard Code for Information Interchange), una codificaci\u00f3n de 7 bits que permit\u00eda representar 128 caracteres diferentes. Este est\u00e1ndar se convirti\u00f3 en la base de la comunicaci\u00f3n digital, incluyendo letras del alfabeto ingl\u00e9s, n\u00fameros, signos de puntuaci\u00f3n y algunos caracteres de control. Por ejemplo, la letra \u201cA\u201d se representa en ASCII como 01000001 (como pod\u00e9is ver, distinto a la codificaci\u00f3n EBDIC).</p> </li> <li> <p>Durante los a\u00f1os 80, para incluir caracteres que permitiesen tildes y s\u00edmbolos propios de los idiomas europeos (como en espa\u00f1ol la \u00f1), se cre\u00f3 el Extended ASCII o ISO 8859-1 (denominado Latin-1). En este punto, como pod\u00e9is ver entra en juego la terminolog\u00eda \"ISO\" (International Organization for Standardization), es decir, la Organizaci\u00f3n Internacional de Normalizaci\u00f3n. Fundada en 1947 y con sede en Ginebra y se encarga de establecer normas internacionales que faciliten la interoperabilidad entre tecnolog\u00edas y pa\u00edses. En el \u00e1mbito inform\u00e1tico, ISO defini\u00f3 la serie de normas ISO/IEC 8859, que especifican distintos conjuntos de caracteres de 8 bits, adaptados a los s\u00edmbolos de diversas regiones del mundo. Aqu\u00ed os dejo un peque\u00f1o resumen, que no ten\u00e9is por qu\u00e9 saber pero s\u00ed es muy interesante que os suene.</p> </li> <li>ISO 8859-1 (Latin-1): Europa Occidental : incluye \u201c\u00f1\u201d, \u201c\u00e1\u201d, \u201c\u00e9\u201d, \u201c\u00f6\u201d y otras m\u00e1s</li> <li>ISO 8859-5: Alfabetos cir\u00edlicos.</li> <li>ISO 8859-6: \u00c1rabe.</li> <li> <p>ISO 8859-7: Griego.</p> </li> <li> <p>Finalmente, en 1991, el \u00faltimo de todos, Unicode, una codificaci\u00f3n universal que buscaba representar todos los caracteres de todos los idiomas (es decir, la \"unificaci\u00f3n de todo lo anterior\"), adem\u00e1s de la posibilidad de a\u00f1adir y escribir s\u00edmbolos matem\u00e1ticos o incluso emojis. </p> </li> <li> <p>Unicode utiliza un n\u00famero variable de bits (entre 8 y 32 bits) seg\u00fan el formato empleado (UTF-8, UTF-16 o UTF-32 que  tratan de diferentes m\u00e9todos de codificaci\u00f3n binaria que veremos un poquito a continuaci\u00f3n), y admite m\u00e1s de 1,100,000 caracteres posibles pero s\u00f3lo se llegan a usar 150 mil porque no necesita tantos. </p> </li> <li> <p>El formato UTF-8 usado especialmente en Internet (saber esto), y compatible con ASCII. Su tama\u00f1o es variable, pues puede usar entre 1 y 4 bytes por car\u00e1cter (lo hemos visto al resolver el ejercicio): un solo byte para los caracteres latinos b\u00e1sicos (como las letras e incluso n\u00fameros no flotantes) y hasta cuatro bytes para s\u00edmbolos m\u00e1s espec\u00edficos, como emojis.</p> </li> <li> <p>UTF-16 tambi\u00e9n tiene un tama\u00f1o variable, utilizando 2 bytes para la mayor\u00eda de los caracteres comunes y 4 bytes de nuevo para aquellos m\u00e1s complejos, como los emojis (igual que antes). Este formato se emplea frecuentemente en sistemas Windows y en algunos entornos de programaci\u00f3n. En este caso, la letra \u201cA\u201d se codifica como 00000000 01000001, es decir, dos bytes a diferencia de UTF-8.</p> </li> <li> <p>Finalmente, UTF-32 es un formato de longitud fija, en el que cada car\u00e1cter ocupa exactamente 4 bytes (32 bits). Esto simplifica la lectura y el procesamiento de los datos, ya que cada car\u00e1cter tiene el mismo tama\u00f1o en memoria, pero tambi\u00e9n implica un mayor consumo de espacio</p> </li> <li> <p>Unicode se convirti\u00f3 oficialmente en la norma ISO/IEC 10646 que son las normas vigentes y actualmente utilizadas en todo el mundo para la codificaci\u00f3n universal de caracteres,  en donde IEC significa International Electrotechnical Commission, o en espa\u00f1ol, Comisi\u00f3n Electrot\u00e9cnica Internacional que  se encarga de elaborar y publicar normas internacionales relacionadas con la electricidad, la electr\u00f3nica y las tecnolog\u00edas asociadas.</p> </li> </ul>"},{"location":"TEMA1/Practicas/4.%20Pr%C3%A1ctica%20%28resuelta%29%20%E2%80%94%20Curiosidades%20y%20importancia%20de%20los%20sistemas%20de%20enumeraci%C3%B3n%20binario%20y%20hexadecimal%20en%20la%20informatica/#45-limite-ram","title":"4.5 L\u00edmite RAM","text":"<p>En la arquitectura x86 de 32 bits, los ordenadores ten\u00edan un l\u00edmite te\u00f3rico de 4GB de ram, \u00bfpor qu\u00e9?, \u00bfde qu\u00e9 operaci\u00f3n sale ese n\u00famero?, \u00bfcu\u00e1l es el l\u00edmite te\u00f3rico a d\u00eda de hoy que otorga los procesadores de 64 bits y por qu\u00e9? \u00bfY los ordenadores de 16 bits? Basta seguir la siguiente f\u00f3rmula (razonada en la pizarra en clase por mi, pero pod\u00e9is aprenderosla de memoria):</p> <p>$$ \\text{Memoria direccionable} = 2^{\\text{n\u00famero de bits de direcci\u00f3n}} $$ Donde en el caso de n=32 tenemos::</p> <ul> <li>n = 32:  2\u00b3\u00b2 = 4,294,967,296 bytes = 4 GB</li> </ul> <p>Ahora bien, en el caso de n=16 tendr\u00edamos algo as\u00ed:</p> <ul> <li>n = 16 : 2\u00b9\u2076 = 65,536 bytes = 64 KB</li> </ul> <p>Ahora bien, en el caso de n=64 tendr\u00edamos algo as\u00ed:</p> <ul> <li>n = 64 : 2\u2076\u2074 = 16,777,216 TB = 16 exabytes</li> </ul>"},{"location":"TEMA1/Practicas/4.%20Pr%C3%A1ctica%20%28resuelta%29%20%E2%80%94%20Curiosidades%20y%20importancia%20de%20los%20sistemas%20de%20enumeraci%C3%B3n%20binario%20y%20hexadecimal%20en%20la%20informatica/#46-explorando-el-hardware-del-ordenador","title":"4.6 Explorando el hardware del ordenador","text":"<p>1- Ejecuta </p> <pre><code>lscpu\n</code></pre> <ul> <li> <p>\u00bfCu\u00e1ntos n\u00facleos f\u00edsicos </p> </li> <li> <p>\u00bfCu\u00e1ntos procesadores l\u00f3gicos aparecen? \u00bfCoinciden con los n\u00facleos f\u00edsicos o hay HyperThreading/SMT activado?</p> </li> </ul> <p>Soluci\u00f3n:</p> <p></p> <p>En mi caso, 6 n\u00facleos f\u00edsicos, 2 hilos por nucleo (por el hyperthrading) luego 12 n\u00facleos l\u00f3gicos en total.</p> <p>En la mayot\u00eda de vosotros, asignasteis \"2 CPU'S\" en la MV, por tanto, lo que os aparecer\u00e1 es \"2 n\u00facelos fisicos\", \"1 hilo por n\u00facleo\". En realidad, vosotros le dais a la m\u00e1quina 2 n\u00facleos l\u00f3gicos, no f\u00edsicos, pero ella los interpreta siempre como f\u00edsicos.</p> <p>2- Con el comando:</p> <pre><code>cat /proc/cpuinfo | grep \"model name\" | uniq\n</code></pre> <ul> <li>\u00bfQu\u00e9 modelo de CPU tienes?</li> </ul> <p>Poner el modelo de CPU que os salga, en mi caso:</p> <p></p> <ul> <li>\u00bfA cu\u00e1ntos GHz est\u00e1 configurada la frecuencia base? </li> </ul> <p>Buscarlo en internet, yo comprobar\u00e9 que lo hagais bien.</p> <p>3- Ejecuta:</p> <pre><code>free -h\n</code></pre> <ul> <li>\u00bfCu\u00e1nta memoria RAM total reconoce tu sistema?</li> </ul> <p></p> <ul> <li>\u00bfCu\u00e1nta est\u00e1 en uso y cu\u00e1nta libre?</li> </ul> <p>Lo que se ve en la captura</p> <ul> <li>\u00bfQu\u00e9 es la memoria Swap y como la podemos ver? Ejecuta para ello:<code>grep Swap /proc/meminfo</code></li> </ul> <p>La memoria Swap es una parte del disco duro que el sistema usa como memoria RAM adicional cuando esta se llena.</p> <p></p> <p>En mi caso, tengo la memoria Swap desactivada, mas que nada porque tengo procesos que impiden que est\u00e9 activa. Ya veremos cuando llegue el momento bajo que casu\u00edsticas se debe desactivar.</p> <ul> <li>Comprueba si el valor de RAM coincide con el reportado en la terminal.</li> </ul> <p>No coincide: El primer valor indica la memoria f\u00edsica total instalada en el equipo (en mi caso incluso aument\u00e9 la ram de mi ordenador), mientras que la captura que aqu\u00ed pongo da la cantidad de memoria utilizada por el sistema. Una parte de la RAM se reserva para el hardware o la BIOS por eso no me aparece lo mismo con el comando de terminal. Si me adjuntais caputura de que no coinciden, os lo pondr\u00e9 bien.</p>"},{"location":"TEMA1/Practicas/4.%20Pr%C3%A1ctica%20%E2%80%94%20Curiosidades%20y%20importancia%20de%20los%20sistemas%20de%20enumeraci%C3%B3n%20binario%20y%20hexadecimal%20en%20la%20informatica/","title":"4. Pr\u00e1ctica \u2014 Curiosidades y importancia de los sistemas de enumeraci\u00f3n binario y hexadecimal en la informatica.","text":"<p>Entrega en formato PDF los ejercicios que se pidan resolver y no sean ejemplos</p>"},{"location":"TEMA1/Practicas/4.%20Pr%C3%A1ctica%20%E2%80%94%20Curiosidades%20y%20importancia%20de%20los%20sistemas%20de%20enumeraci%C3%B3n%20binario%20y%20hexadecimal%20en%20la%20informatica/#1-traduciendo-a-esamblador-da-la-instruccion-de-forma-correcta-en-hexadecimal","title":"1 Traduciendo a esamblador, da la instrucci\u00f3n de forma correcta en hexadecimal.","text":"N\u00ba Instrucci\u00f3n a realizar Registro/Dato Direcci\u00f3n en decimal Direcci\u00f3n en hexadecimal 1 Mover un valor a un registro AX 4660 ? 2 Mover un valor desde memoria a un registro BX 12345 ? 3 Sumar un valor de memoria a un registro DX + [Memory] 54321 ? <p>MOV AX, [-] MOV BX, [-] ADD DX, [-]</p> <p>Se pide  que completes las instrucciones anteriores con el n\u00famero hexadecimal correspondiente. Para ello, p\u00e1salo primero a binario y despu\u00e9s a hexadecimal.</p>"},{"location":"TEMA1/Practicas/4.%20Pr%C3%A1ctica%20%E2%80%94%20Curiosidades%20y%20importancia%20de%20los%20sistemas%20de%20enumeraci%C3%B3n%20binario%20y%20hexadecimal%20en%20la%20informatica/#2-ejemplo-para-parte-practica-arquitectura-de-von-neumaan-resuelta","title":"2 Ejemplo para Parte pr\u00e1ctica Arquitectura de Von Neumaan resuelta.","text":"<p>Pila, simulaci\u00f3n pr\u00e1ctica con los respectivos registros SS/SP</p> <p>Supongamos:</p> <ul> <li><code>SS = 5000h</code></li> <li><code>SP = 4000h</code></li> </ul> <p>Ejecuta estas instrucciones paso a paso y dibuja c\u00f3mo queda la pila en memoria y qu\u00e9 valor  tienen <code>SP</code> y los registros afectados:</p> <pre><code>MOV AX, 1111h\nPUSH AX\n</code></pre> <pre><code>MOV BX, 2222h\nPUSH BX\n</code></pre> <pre><code>POP CX\n</code></pre> <pre><code>POP DX\n</code></pre> <p>Soluci\u00f3n</p> <p>1.Tras <code>PUSH AX</code>: <code>SP = 3FFEh</code>. Memoria:</p> <ul> <li> <p><code>5000:3FFE = 11h</code> (low)</p> </li> <li> <p><code>5000:3FFF = 11h</code> (high)</p> </li> </ul> <p>Estado:     AX=1111h, SP=3FFEh</p> <p>2.Tras <code>PUSH BX</code>: <code>SP = 3FFCh</code></p> <ul> <li>Memoria a\u00f1adida:</li> <li><code>5000:3FFC = 22h</code> (low)</li> <li><code>5000:3FFD = 22h</code> (high)</li> <li>(Lo de AX sigue en 3FFE\u20133FFF)</li> </ul> <p>\u200b   Estado: \u200b    AX=1111h, BX=2222h, SP=3FFCh</p> <p>\u200b   Pila (arriba = direcci\u00f3n mayor):</p> <pre><code>5000:3FFC  22\n5000:3FFD  22   \u2190 BX (\u00faltimo en entrar, arriba del todo)\n5000:3FFE  11\n5000:3FFF  11   \u2190 AX\n</code></pre> <p>3.Tras <code>POP CX</code></p> <ul> <li>Saca la palabra de <code>[SS:3FFC..3FFD]</code> \u21d2 CX = 2222h</li> <li><code>SP = 3FFEh</code></li> </ul> <p>Estado:  CX=2222h, SP=3FFEh  (La memoria queda con los mismos bytes, pero esa zona ya est\u00e1 \u201clibre\u201d l\u00f3gicamente)</p> <p>4.Tras <code>POP DX</code></p> <pre><code>Saca la palabra de [SS:3FFE..3FFF] \u21d2 DX = 1111h\n\nSP = 4000h (pila vac\u00eda otra vez)\n</code></pre> <p>Estado final:</p> <pre><code>AX = 1111h (no cambi\u00f3)\n\nBX = 2222h (no cambi\u00f3)\n\nCX = 2222h\n\nDX = 1111h\n\nSP = 4000h\n\nSS = 5000h\n</code></pre> <p>Resumen de la traza de <code>SP: 4000h \u2192 3FFEh \u2192 3FFCh \u2192 3FFEh \u2192 4000h</code> Y el orden LIFO se cumple: lo \u00faltimo en entrar (BX) fue lo primero en salir (CX).</p>"},{"location":"TEMA1/Practicas/4.%20Pr%C3%A1ctica%20%E2%80%94%20Curiosidades%20y%20importancia%20de%20los%20sistemas%20de%20enumeraci%C3%B3n%20binario%20y%20hexadecimal%20en%20la%20informatica/#3-parte-practica-arquitectura-de-von-newman-sin-resolver-ejercicio-opcional-para-subida-nota","title":"3 Parte pr\u00e1ctica Arquitectura de Von-Newman sin resolver (Ejercicio opcional para subida nota)","text":"<p>Supongamos:</p> <ul> <li><code>SS = 6000h</code></li> <li><code>SP = 2000h</code></li> </ul> <p>Ejecuta paso a paso y dibuja c\u00f3mo queda la pila (memoria, SP y registros) despu\u00e9s de cada instrucci\u00f3n:</p> <p><pre><code>MOV AX, 1234h\nPUSH AX\n</code></pre> <pre><code>MOV BX, 5678h\nPUSH BX\n</code></pre> <pre><code>POP CX\n</code></pre></p> <pre><code>POP DX\n</code></pre> <p>\u00bfQu\u00e9 ocurre si haces m\u00e1s <code>PUSH</code> de los que caben en el segmento de pila reservado (por ejemplo, si reservas 16 KB y empujas 20 KB)?</p> <p>\u00bfQu\u00e9 problema real se genera? \u00bfPor qu\u00e9 la pila crece hacia direcciones menores en memoria en lugar de hacia arriba?</p>"},{"location":"TEMA1/Practicas/4.%20Pr%C3%A1ctica%20%E2%80%94%20Curiosidades%20y%20importancia%20de%20los%20sistemas%20de%20enumeraci%C3%B3n%20binario%20y%20hexadecimal%20en%20la%20informatica/#4-codificaciones-de-textos","title":"4 Codificaciones de textos","text":"<p>El texto que ves en tu pantalla no es m\u00e1s que una codificaci\u00f3n del lenguaje binario. Todo lo que se muestra en la pantalla, ya sean letras, n\u00fameros o s\u00edmbolos, se traduce finalmente a ceros y unos, que la computadora puede interpretar. A lo largo de la historia de la inform\u00e1tica, se han desarrollado distintas codificaciones de caracteres para representar texto en binario: EBCDIC, ASCII,Extended ASCII y Unicode,</p> <p>Establece una linea temporal de las distintas codificaciones, dando ejemplos y el n\u00famero de bits que utliza cada una as\u00ed como el n\u00famero total de caracteres posibles. Si un tipo de codificaci\u00f3n admit\u00eda hasta 7 bits: \u00bfcu\u00e1l es la cantidad de car\u00e1cteres admitidos en total?</p> Car\u00e1cter UTF-8 (binario) Unicode (hexadecimal) A <code>01000001</code> (rellenar) \u00f1 <code>11000011 10110001</code> (rellenar) \u20ac (rellenar) U+20AC \ud83d\ude02 (rellenar) U+1F602 \u4e2d <code>11100100 10111000 10101101</code> (rellenar)"},{"location":"TEMA1/Practicas/4.%20Pr%C3%A1ctica%20%E2%80%94%20Curiosidades%20y%20importancia%20de%20los%20sistemas%20de%20enumeraci%C3%B3n%20binario%20y%20hexadecimal%20en%20la%20informatica/#5-limite-ram","title":"5 L\u00edmite RAM","text":"<p>En la arquitectura x86 de 32 bits, los ordenadores ten\u00edan un l\u00edmite te\u00f3rico de 4GB de ram, \u00bfpor qu\u00e9?, \u00bfde qu\u00e9 operaci\u00f3n sale ese n\u00famero?, \u00bfcu\u00e1l es el l\u00edmite te\u00f3rico a d\u00eda de hoy que otorga los procesadores de 64 bits y por qu\u00e9? \u00bfY los ordenadores de 16 bits?</p>"},{"location":"TEMA1/Practicas/4.%20Pr%C3%A1ctica%20%E2%80%94%20Curiosidades%20y%20importancia%20de%20los%20sistemas%20de%20enumeraci%C3%B3n%20binario%20y%20hexadecimal%20en%20la%20informatica/#6-explorando-el-hardware-del-ordenador","title":"6 Explorando el hardware del ordenador","text":"<p>1- Ejecuta </p> <pre><code>lscpu\n</code></pre> <ul> <li> <p>\u00bfCu\u00e1ntos n\u00facleos f\u00edsicos </p> </li> <li> <p>\u00bfCu\u00e1ntos procesadores l\u00f3gicos aparecen? \u00bfCoinciden con los n\u00facleos f\u00edsicos o hay HyperThreading/SMT activado?</p> </li> </ul> <p>2- Con el comando:</p> <pre><code>cat /proc/cpuinfo | grep \"model name\" | uniq\n</code></pre> <ul> <li>\u00bfQu\u00e9 modelo de CPU tienes?</li> <li>\u00bfA cu\u00e1ntos GHz est\u00e1 configurada la frecuencia base?</li> </ul> <p>3- Ejecuta:</p> <pre><code>free -h\n</code></pre> <ul> <li>\u00bfCu\u00e1nta memoria RAM total reconoce tu sistema?</li> <li>\u00bfCu\u00e1nta est\u00e1 en uso y cu\u00e1nta libre?</li> <li>\u00bfQu\u00e9 es la memoria Swap y como la podemos ver? Ejecuta para ello:<code>grep Swap /proc/meminfo</code></li> </ul> <p>Desde la interfaz gr\u00e1fica (Configuraci\u00f3n \u2192 Acerca de este equipo):</p> <ul> <li>Comprueba si el valor de RAM coincide con el reportado en la terminal.</li> </ul>"},{"location":"TEMA1/Practicas/4.2.%20Pr%C3%A1ctica%20%E2%80%94%20Comparaci%C3%B3n%20GUI%20vs%20CLI%20en%20Ubuntu%20e%20instalaci%C3%B3n%20de%20KDE%20%28copy%29/","title":"4.2. Pr\u00e1ctica \u2014 Comparaci\u00f3n GUI vs CLI en Ubuntu e instalaci\u00f3n de KDE","text":"<p>Abre tu m\u00e1quina virtual de Ubuntu. Los objetivos de estas pr\u00e1ctica son: Comprender las diferencias entre trabajar con GUI y CLI en Ubuntu, realizar tareas equivalentes en ambos entornos e instalar y probar un nuevo desktop environment (KDE Plasma) mediante CLI. Haz capturas del proceso y entrega un archivo pdf.</p>"},{"location":"TEMA1/Practicas/4.2.%20Pr%C3%A1ctica%20%E2%80%94%20Comparaci%C3%B3n%20GUI%20vs%20CLI%20en%20Ubuntu%20e%20instalaci%C3%B3n%20de%20KDE%20%28copy%29/#1-ejecuta-el-siguiente-codigo-en-bash","title":"1- Ejecuta el siguiente c\u00f3digo en bash","text":"<p><pre><code>uname -a\nlsb_release -a\n</code></pre> A partir de este comando, saca la versi\u00f3n del kernel y la versi\u00f3n del S.O.</p> <p>Ahora, en vez de usar el comando, vas a intentar buscar esta informaci\u00f3n en el equipo. Para ello, busca en informaci\u00f3n del sistema  la informaci\u00f3n proporcionada por el comando. Es decir, algo as\u00ed:</p> <p></p>"},{"location":"TEMA1/Practicas/4.2.%20Pr%C3%A1ctica%20%E2%80%94%20Comparaci%C3%B3n%20GUI%20vs%20CLI%20en%20Ubuntu%20e%20instalaci%C3%B3n%20de%20KDE%20%28copy%29/#2-ejecuta-el-siguiente-codigo-en-bash","title":"2- Ejecuta el siguiente c\u00f3digo en bash","text":"<pre><code>ps -eo comm,%cpu,%mem --sort=-%mem | head -15\n</code></pre> <p>La salida del comando debe ser algo parecido a lo siguiente:</p> <p></p> <p>Busca en monitorizaci\u00f3n del sistema la informaci\u00f3n proporcionada por el comando y comprueba, ordenando por memoria, que las salidas coinciden.</p> <p>\u00bfPor qu\u00e9 Firefox tiene distintos procesos corriendo al mismo tiempo? Qu\u00e9 ventajas tiene dividir Firefox en m\u00faltiples procesos e hilos en lugar de un \u00fanico proceso?</p>"},{"location":"TEMA1/Practicas/4.2.%20Pr%C3%A1ctica%20%E2%80%94%20Comparaci%C3%B3n%20GUI%20vs%20CLI%20en%20Ubuntu%20e%20instalaci%C3%B3n%20de%20KDE%20%28copy%29/#3-instala-la-gui-de-kde-y-pruebala-al-cerrar-sesion","title":"3-Instala la GUI de KDE y pru\u00e9bala al cerrar sesi\u00f3n","text":"<pre><code>sudo apt install kde-plasma-desktop -y\n</code></pre> <p>Cierra sesi\u00f3n, dale a la ruedita de configuraci\u00f3n y comprueba que puedes cambiar la interfaz de usuario.</p>"},{"location":"TEMA1/Practicas/4.2.%20Pr%C3%A1ctica%20%E2%80%94%20Comparaci%C3%B3n%20GUI%20vs%20CLI%20en%20Ubuntu%20e%20instalaci%C3%B3n%20de%20KDE%20%28copy%29/#4-responde-coherentemente-a-las-siguientes-preguntas-a-partir-del-archivo-de-teoria-del-punto-4-o-informacion-que-encuentres-en-internet","title":"4-Responde coherentemente a las siguientes preguntas a partir del archivo de Teor\u00eda del punto 4 o informaci\u00f3n que encuentres en Internet","text":"<p>1-\u00bfQu\u00e9 diferencia hay entre un programa y un proceso?</p> <p>2-\u00bfQu\u00e9 recursos asigna el sistema operativo a un proceso cuando lo crea?</p> <p>3-\u00bfQu\u00e9 es un hilo y qu\u00e9 partes del contexto tiene propias y cu\u00e1les comparte con su proceso padre?</p> <p>4-\u00bfEn qu\u00e9 se diferencia un n\u00facleo f\u00edsico de un n\u00facleo l\u00f3gico (HyperThreading/SMT)?</p> <p>5-\u00bfQu\u00e9 es el PID, TID y PID de un proceso?</p> <p>6-\u00bfQu\u00e9 ventajas tiene dividir Firefox en m\u00faltiples procesos e hilos en lugar de un \u00fanico proceso? Contesta.</p> <p>Ahora, escribe en el navegador de firefox:<code>about:processes</code>. Fijate en un proceso que act\u00fae sobre una ventana y qu\u00e9date con el PID de ese proceso (el numerito que aparece al lado del mismo). </p> <p>Posteriormente, a partir de ese n\u00famero (llamado PID), ejecuta;</p> <p><code>ps -L -p &lt;PID&gt; -o pid,tid,psr,comm</code> </p> <p>Busca informaci\u00f3n sobre lo anterior. \u00bfCuantos hilos corre este proceso? Prueba a matar el proceso que maneja una ventana con:</p> <p><code>kill &lt;PID&gt;</code></p> <p>\u00bfQu\u00e9 es lo que sucede?</p> <p>7-Si tu procesador tiene 4 n\u00facleos f\u00edsicos con HyperThreading, \u00bfcu\u00e1ntos procesadores l\u00f3gicos detectar\u00e1 el sistema operativo o el propio virtualizador?</p> <p>8-\u00bfQu\u00e9 estados puede tener un proceso en Linux (ejemplo: R, S, Z, T)?</p>"},{"location":"TEMA1/Practicas/5.%20Pr%C3%A1cticaTrabajoCooperativo/","title":"5\u00aa Practica","text":""},{"location":"TEMA1/Practicas/5.%20Pr%C3%A1cticaTrabajoCooperativo/#gnu-linux","title":"GNU Linux","text":"<ol> <li>\u00bfQu\u00e9 son los directorios en un sistema operativo y qu\u00e9 papel cumplen en la organizaci\u00f3n de la informaci\u00f3n? \u00bfCu\u00e1l es el directorio ra\u00edz en Windows y en Unix-GNU(Linux)?</li> <li>\u00bfQu\u00e9 son los permisos en GNU/Linux, qu\u00e9 tipos existen (lectura, escritura y ejecuci\u00f3n)? Explicalo de forma muy breve y sin precisi\u00f3n t\u00e9cnica.</li> <li>Durante la lectura se ha introducido el concepto de coreutils. Explica qu\u00e9 son los coreutils en GNU/Linux y por qu\u00e9 son importantes en el d\u00eda a d\u00eda de un administrador. Pon un ejemplo de alguna orden b\u00e1sica de coreutils (por ejemplo <code>ls</code>, <code>cp</code>, <code>rm</code>, <code>cat</code>\u2026), o bien haz un listado de los directorios m\u00e1s habituales en un sistema UNIX/Linux (<code>/home</code>, <code>/etc</code>, <code>/var</code>, <code>/bin</code>, <code>/usr</code>, <code>/tmp</code>\u2026) y explica c\u00f3mo moverse entre ellos con comandos como <code>cd</code> o <code>pwd</code></li> <li>\u00bfQu\u00e9 diferencia hay entre un sistema GNU/Linux y otros sistemas tipo Unix como FreeBSD o macOS?</li> <li>En GNU/Linux, \u00bfqu\u00e9 diferencia hay entre un \u201cpaquete\u201d y una \u201caplicaci\u00f3n\u201d? \u00bfQu\u00e9 son los instaladores de Windows con formato (.exe, .msi)? \u00bfQu\u00e9 diferencia hay entre los gestores de paquetes en GNU/Linux y los instaladores tradicionales en Windows (.exe, .msi)? \u00bfExisten tambi\u00e9n gestores de paquetes en Windows? Buscan informaci\u00f3n sobre Winget y Chocolatey para responder a esta \u00faltima pregunta.</li> <li>En lo anterior, ya hemos hablado de paquetes, ahora, hablamos sobre las distintas herramientas que tenemos en una distribuci\u00f3n basada en debian. \u00bfQu\u00e9 es un .deb en una debian?, \u00bfqu\u00e9 es \"apt\" y que diferencia hay vs \"dpkg\" o vs \"snap\"?</li> <li>\u00bfPor qu\u00e9 en muchas distribuciones Linux aparece el debate sobre si decir \u201cLinux\u201d o \u201cGNU/Linux\u201d?</li> <li>\u00bfQu\u00e9 papel juega el Bash dentro de un sistema GNU/Linux y qu\u00e9 significan sus siglas?</li> </ol>"},{"location":"TEMA1/Practicas/5.%20Pr%C3%A1cticaTrabajoCooperativo/#distribuciones-y-paquetes","title":"Distribuciones y paquetes","text":"<ol> <li> <p>\u00bfQu\u00e9 diferencia hay entre los paquetes .deb (Debian/Ubuntu) y los .rpm (Red Hat/Fedora)?</p> </li> <li> <p>\u00bfQu\u00e9 es una distribuci\u00f3n rolling release (ej. Arch, openSUSE Tumbleweed) y en qu\u00e9 se diferencia de una de versiones fijas (ej. Ubuntu LTS, Debian Stable)?</p> </li> <li> <p>La versiones LTS de Ubuntu suelen recibir nombres espec\u00edficos que no son \u00fanicamente de la versi\u00f3n. Indica algunos de ellos. \u00bfDe qu\u00e9 dos cosas se compone este nombre?</p> </li> <li> <p>Ya habr\u00e1s visto gracias a las preguntas anteriores que en GNU/Linux existen distribuciones \\\"rolling release\\\", como Arch o openSUSE Tumbleweed, que se actualizan continuamente sin sacar versiones grandes. En cambio, Debian o Ubuntu usan el modelo de \u201cversiones fijas\u201d (*fixed release*), donde cada cierto tiempo aparece una versi\u00f3n estable que se mantiene durante a\u00f1os con actualizaciones de seguridad.</p> </li> </ol> <p>Por ejemplo, Ubuntu saca cada 6 meses una nueva versi\u00f3n, pero cada 2 a\u00f1os publica una LTS (Long Term Support) que se mantiene durante 5 a\u00f1os, pensada para servidores o equipos donde la estabilidad es m\u00e1s importante que tener lo \u00faltimo.\u00bfCu\u00e1les son los nombres de las versiones estables m\u00e1s comunes en Debian? Da ejemplos de versiones recientes y explica qu\u00e9 significan esos nombres, \u00bfen qu\u00e9 se diferencias de los nombres de las versiones de Ubuntu?</p> <ol> <li>\u00bfQu\u00e9 ventajas tiene una distribuci\u00f3n ligera como Alpine Linux frente a una distribuci\u00f3n generalista como Ubuntu? Da ejemplos donde se suelan utilzar este tipo de versiones ligeras.</li> </ol>"},{"location":"TEMA1/Practicas/5.%20Pr%C3%A1cticaTrabajoCooperativo/#windows","title":"Windows","text":"<ol> <li>\u00bfQu\u00e9 es Active Directory y qu\u00e9 problema resuelve en una red de ordenadores?, \u00bfexiste alg\u00fan equivalente en GNU/Linux?</li> <li>\u00bfQu\u00e9 es BitLocker y qu\u00e9 aporta a la seguridad de un equipo con Windows Pro o Enterprise? \u00bfExiste algo parecido en GNU/Linux?</li> <li>\u00bfQu\u00e9 es IIS (Internet Information Services) y para qu\u00e9 se usa en Windows Server?</li> <li>\u00bfQu\u00e9 diferencia pr\u00e1ctica hay entre Windows Home, Pro y Enterprise desde el punto de vista de un administrador?</li> <li>\u00bfQu\u00e9 significa que Windows 10 se actualiza como Windows as a Service? \u00bfQu\u00e9 cambia respecto a Windows 7?</li> </ol>"},{"location":"TEMA1/Practicas/5.%20Pr%C3%A1cticaTrabajoCooperativo/#sobre-sistemas-operativos-en-general","title":"Sobre sistemas operativos en general","text":"<ol> <li>\u00bfQu\u00e9 diferencia hay entre multiusuario y multitarea en un sistema operativo?</li> <li>\u00bfQu\u00e9 ha cambiado con la llegada de servicios en la nube como AWS, Google Cloud o Azure respecto a los clusters f\u00edsicos?</li> <li>\u00bfQu\u00e9 papel juega la contenerizaci\u00f3n/orquestaci\u00f3n (ej. Docker Kubernetes) en la gesti\u00f3n de clusters actuales?</li> <li>\u00bfQu\u00e9 es exactamente el kernel de Linux y en qu\u00e9 se diferencia de todo el sistema operativo GNU/Linux?</li> <li>\u00bfC\u00f3mo puedes saber qu\u00e9 versi\u00f3n del kernel est\u00e1s usando en tu equipo?</li> <li>\u00bfQu\u00e9 son los m\u00f3dulos del kernel en Linux? \u00bfQu\u00e9 diferencia hay entre un m\u00f3dulo cargable y un driver integrado en el kernel?</li> <li>\u00bfQu\u00e9 es un sistema de archivos y qu\u00e9 papel cumple dentro de un sistema operativo?</li> <li>\u00bfQu\u00e9 sistemas de archivos soporta el kernel de Linux de forma nativa? \u00bfCu\u00e1les son los m\u00e1s habituales en servidores?</li> <li>\u00bfQu\u00e9 significa que un sistema de archivos tenga journaling (ej. ext4, NTFS)?</li> <li>\u00bfPor qu\u00e9 es importante el fin de soporte de un sistema operativo? \u00bfQu\u00e9 riesgos implica seguir usando uno que ya no lo tiene?</li> <li>\u00bfQu\u00e9 es un driver y por qu\u00e9 es necesario para que el sistema operativo use un dispositivo de hardware?</li> <li>Elabora un listado de Sistemas Operativos basados en FreeBSD/OpenBSD.</li> <li>\u00bfCual es el final de ciclo de Vida de Windows XP? \u00bfPorqu\u00e9 Windows alarg\u00f3 tanto el soporte para este producto?</li> <li>Linus Torvalds se enfad\u00f3 con una famosa marca de tarjetas gr\u00e1ficas. \u00bfCu\u00e1l?. Describre brevemente el motivo de su enfado.</li> </ol>"},{"location":"TEMA1/Teoria/1.%20Teoria%20de%20Markdown%20SIMPLE/","title":"1. Teoria de Markdown SIMPLE.","text":""},{"location":"TEMA1/Teoria/1.%20Teoria%20de%20Markdown%20SIMPLE/#1-encabezados","title":"1 Encabezados","text":"<p>Usa <code>#</code> para t\u00edtulos. Cuantos m\u00e1s <code>#</code>, m\u00e1s peque\u00f1o el encabezado.</p> <pre><code># T\u00edtulo H1\n## T\u00edtulo H2\n### T\u00edtulo H3\n#### T\u00edtulo H4\n</code></pre>"},{"location":"TEMA1/Teoria/1.%20Teoria%20de%20Markdown%20SIMPLE/#2-texto","title":"2 Texto","text":"<pre><code>**Negrita**\n*Cursiva*\n~~Tachado~~\n***Negrita y cursiva***\n</code></pre>"},{"location":"TEMA1/Teoria/1.%20Teoria%20de%20Markdown%20SIMPLE/#3-listas","title":"3 Listas","text":""},{"location":"TEMA1/Teoria/1.%20Teoria%20de%20Markdown%20SIMPLE/#31-listas-desordenadas","title":"3.1 Listas desordenadas","text":"<pre><code>- Item 1\n- Item 2\n  - Subitem\n* Otra forma de -\n</code></pre>"},{"location":"TEMA1/Teoria/1.%20Teoria%20de%20Markdown%20SIMPLE/#32-listas-ordenadas","title":"3.2 Listas ordenadas","text":"<pre><code>1. Primer item\n2. Segundo item\n3. Tercer item\n</code></pre>"},{"location":"TEMA1/Teoria/1.%20Teoria%20de%20Markdown%20SIMPLE/#33-listas-concantenadas","title":"3.3 Listas concantenadas","text":"<pre><code>1. Primer item\n2. Segundo item\n   1. Subitem\n   2. Segundo subitem\n3. Tercer item\n</code></pre>"},{"location":"TEMA1/Teoria/1.%20Teoria%20de%20Markdown%20SIMPLE/#4-enlaces-y-urls","title":"4 Enlaces y URLS","text":"<pre><code>[Texto del enlace](https://ejemplo.com)\n&lt;https://ejemplo.com&gt;  # enlace autom\u00e1tico\n</code></pre>"},{"location":"TEMA1/Teoria/1.%20Teoria%20de%20Markdown%20SIMPLE/#5-imagenes","title":"5 Imagenes","text":"<pre><code>![Texto alternativo](ruta/de/la/imagen.png)\n</code></pre>"},{"location":"TEMA1/Teoria/1.%20Teoria%20de%20Markdown%20SIMPLE/#6-codigo","title":"6 Codigo","text":"<p>El codigo se puede encapsular con las siguiente etiquetas: <pre><code>```bash\nEscribe aqu\u00ed dentro lo que sea\n```\n</code></pre></p>"},{"location":"TEMA1/Teoria/1.%20Teoria%20de%20Markdown%20SIMPLE/#7-tablas","title":"7 Tablas","text":"<pre><code>| Encabezado 1 | Encabezado 2 |\n|-------------|-------------|\n| Celda 1     | Celda 2     |\n| Celda 3     | Celda 4     |\n</code></pre>"},{"location":"TEMA1/Teoria/1.%20Teoria%20de%20Markdown%20SIMPLE/#8-separadores","title":"8 Separadores","text":"<pre><code>---\n***\n___\n</code></pre>"},{"location":"TEMA1/Teoria/1.%20Teoria%20de%20Markdown%20SIMPLE/#9-instalar-typora-en-ubuntu","title":"9 Instalar Typora en Ubuntu","text":"<p>Para la instalaci\u00f3n de typora usaremos muchos comandos bash distintos. Por ahora, conviene que os familiariceis con algunos. En el tema 3, veremos un poco sobre los distintos paquetes de las distintas distribuciones. Por ahora, nada de esto.</p> <pre><code>sudo mkdir -p /etc/apt/keyrings\nrl -fsSL https://downloads.typora.io/typora.gpggg. . sudo tee /etc/apt/keyrings/typora.gpg.gpg\necho \"deb [signed-by=/etc/apt/keyrings/typora.gpg] https://downloads.typora.io/linux ./\" . sudo tee /etc/apt/sources.list.d/typora.list\nsudo apt update\nsudo apt install typora\n</code></pre>"},{"location":"TEMA1/Teoria/2.%20Teor%C3%ADa%20de%20Sistemas%20Num%C3%A9ricos%20en%20Inform%C3%A1tica/","title":"2. Teor\u00eda de Sistemas Num\u00e9ricos en Inform\u00e1tica","text":""},{"location":"TEMA1/Teoria/2.%20Teor%C3%ADa%20de%20Sistemas%20Num%C3%A9ricos%20en%20Inform%C3%A1tica/#1-sistema-binario","title":"1 Sistema Binario","text":"<p>El sistema binario es la base de la inform\u00e1tica moderna, ya que los circuitos electr\u00f3nicos manejan dos estados: encendido (1) y apagado (0).</p>"},{"location":"TEMA1/Teoria/2.%20Teor%C3%ADa%20de%20Sistemas%20Num%C3%A9ricos%20en%20Inform%C3%A1tica/#11-definicion","title":"1.1 Definici\u00f3n","text":"<p>Sistema de numeraci\u00f3n en base 2. Solo utiliza los d\u00edgitos 0 y 1.</p>"},{"location":"TEMA1/Teoria/2.%20Teor%C3%ADa%20de%20Sistemas%20Num%C3%A9ricos%20en%20Inform%C3%A1tica/#12-uso-en-informatica","title":"1.2 Uso en inform\u00e1tica","text":"<p>Representa bits, el nivel m\u00e1s b\u00e1sico de informaci\u00f3n. Todos los datos y operaciones internas de la CPU se manejan en binario.</p> Decimal Binario 1 0001 2 0010 3 0011 4 0100 5 0101 6 0110 7 0111 8 1000 9 1001 10 1010"},{"location":"TEMA1/Teoria/2.%20Teor%C3%ADa%20de%20Sistemas%20Num%C3%A9ricos%20en%20Inform%C3%A1tica/#2-sistema-hexadecimal","title":"2 Sistema Hexadecimal","text":"<p>El sistema hexadecimal es un sistema de base 16 muy usado en inform\u00e1tica para representar grandes cantidades de bits de forma m\u00e1s compacta.</p>"},{"location":"TEMA1/Teoria/2.%20Teor%C3%ADa%20de%20Sistemas%20Num%C3%A9ricos%20en%20Inform%C3%A1tica/#21-definicion","title":"2.1 Definici\u00f3n","text":"<p>Base 16: utiliza los d\u00edgitos 0-9 y las letras A-F (A=10, B=11, \u2026, F=15). Cada d\u00edgito hexadecimal equivale exactamente a 4 bits (medio byte o nibble).</p>"},{"location":"TEMA1/Teoria/2.%20Teor%C3%ADa%20de%20Sistemas%20Num%C3%A9ricos%20en%20Inform%C3%A1tica/#22-uso-en-informatica","title":"2.2 Uso en inform\u00e1tica","text":"<p>Representar direcciones de memoria, valores de bytes y colores en programaci\u00f3n. Facilita la lectura y escritura de n\u00fameros binarios largos.</p> Hexadecimal Binario Decimal 0 0000 0 1 0001 1 2 0010 2 3 0011 3 4 0100 4 5 0101 5 6 0110 6 7 0111 7 8 1000 8 9 1001 9 A 1010 10 B 1011 11 C 1100 12 D 1101 13 E 1110 14 F 1111 15"},{"location":"TEMA1/Teoria/2.%20Teor%C3%ADa%20de%20Sistemas%20Num%C3%A9ricos%20en%20Inform%C3%A1tica/#3-convertir-sistemas","title":"3 Convertir sistemas","text":""},{"location":"TEMA1/Teoria/2.%20Teor%C3%ADa%20de%20Sistemas%20Num%C3%A9ricos%20en%20Inform%C3%A1tica/#31-binario-a-hexadecimal","title":"3.1 Binario a hexadecimal","text":"<p>El sistema binario usa base 2 (solo 0 y 1) y el hexadecimal usa base 16 (0\u20139 y A\u2013F). La conversi\u00f3n es muy sencilla porque 1 d\u00edgito hexadecimal equivale exactamente a 4 bits (un nibble).</p>"},{"location":"TEMA1/Teoria/2.%20Teor%C3%ADa%20de%20Sistemas%20Num%C3%A9ricos%20en%20Inform%C3%A1tica/#paso-1","title":"Paso 1","text":"<p>Toma el n\u00famero binario que quieres convertir. Agrupa los bits de derecha a izquierda en bloques de 4. Si el \u00faltimo grupo de la izquierda tiene menos de 4 bits, agrega ceros a la izquierda para completar el grupo.</p>"},{"location":"TEMA1/Teoria/2.%20Teor%C3%ADa%20de%20Sistemas%20Num%C3%A9ricos%20en%20Inform%C3%A1tica/#paso-2","title":"Paso 2","text":"<p>Convertir cada bloque a hexadecimal mirando la tabla siguiente ya mencionada antes \u00bfQu\u00e9 se hace si el numero tiene 10 bits? Pensarlo</p> Hexadecimal Binario Decimal 0 0000 0 1 0001 1 2 0010 2 3 0011 3 4 0100 4 5 0101 5 6 0110 6 7 0111 7 8 1000 8 9 1001 9 A 1010 10 B 1011 11 C 1100 12 D 1101 13 E 1110 14 F 1111 15"},{"location":"TEMA1/Teoria/2.%20Teor%C3%ADa%20de%20Sistemas%20Num%C3%A9ricos%20en%20Inform%C3%A1tica/#32-hexadecimal-al-binario","title":"3.2 Hexadecimal al Binario","text":"<p>Es exactamente lo mismo, al reves. Cada d\u00edgito del hexadecimal representa un n\u00famero binario.</p>"},{"location":"TEMA1/Teoria/2.%20Teor%C3%ADa%20de%20Sistemas%20Num%C3%A9ricos%20en%20Inform%C3%A1tica/#33-decimal-al-binario","title":"3.3 Decimal al Binario","text":"<p>El sistema decimal usa base 10 (0\u20139), y el sistema binario usa base 2 (0 y 1). Para pasar de decimal a binario, usamos el m\u00e9todo de divisiones sucesivas:</p> <p>Toma el n\u00famero decimal que quieres convertir.</p> <p>Div\u00eddelo entre 2.</p> <p>Anota el residuo (0 o 1).</p> <p>Divide el cociente entre 2 nuevamente y repite el proceso hasta que el cociente sea 0.</p> <pre><code>13 \u00f7 2 = 6 residuo 1\n6 \u00f7 2  = 3 residuo 0\n3 \u00f7 2  = 1 residuo 1\n1 \u00f7 2  = 0 residuo 1\n</code></pre>"},{"location":"TEMA1/Teoria/2.%20Teor%C3%ADa%20de%20Sistemas%20Num%C3%A9ricos%20en%20Inform%C3%A1tica/#34-otro-ejemplo","title":"3.4 Otro ejemplo","text":"<p>Imagina que queremos convertir el n\u00famero 19 en decimal a su equivalente en binario.</p> <p>El truco est\u00e1 en dividir el n\u00famero entre 2 varias veces, anotando los restos que van saliendo. Esos restos ser\u00e1n los d\u00edgitos del n\u00famero binario, solo que al final habr\u00e1 que leerlos en orden inverso.</p> <p>Empezamos: si dividimos 19 entre 2, el cociente es 9 y sobra 1. Ese 1 es ya el primer residuo, que corresponde al bit menos importante. Ahora seguimos con el cociente. En la siguiente imagen recordamos el concepto de dividendo, divisor, cociente y resto</p> <p></p> <p>Dividimos 9 entre 2. El resultado es 4 y tambi\u00e9n nos sobra 1. Otro residuo m\u00e1s.</p> <p>Despu\u00e9s cogemos el 4 y lo dividimos entre 2: esta vez el cociente es 2 y el residuo es 0.</p> <p>Seguimos con el 2, lo dividimos entre 2 y nos da un cociente de 1 y residuo 0.</p> <p>Finalmente, dividimos 1 entre 2 y obtenemos cociente 0 y residuo 1. Como ya hemos llegado al cociente cero, ah\u00ed paramos.</p> <p>Ahora tenemos todos los residuos anotados en el orden en que salieron: 1, 1, 0, 0, 1.</p> <p>Pero recuerda: para formar el n\u00famero binario hay que leerlos al rev\u00e9s, es decir, desde el \u00faltimo hasta el primero. As\u00ed que el n\u00famero decimal 19 escrito en binario es 10011.</p>"},{"location":"TEMA1/Teoria/2.%20Teor%C3%ADa%20de%20Sistemas%20Num%C3%A9ricos%20en%20Inform%C3%A1tica/#35-binario-a-decimal","title":"3.5 Binario a decimal","text":"<p>Cada d\u00edgito binario (bit) vale una potencia de 2 seg\u00fan su posici\u00f3n (empezando por 0 desde la derecha).</p> <p>Ejemplo:</p> <pre><code>1011\u2082 = ? decimal\n</code></pre> <p>Calculamos:</p> <pre><code>(1 \u00d7 2\u00b3) + (0 \u00d7 2\u00b2) + (1 \u00d7 2\u00b9) + (1 \u00d7 2\u2070)\n= (1\u00d78) + (0\u00d74) + (1\u00d72) + (1\u00d71)\n= 8 + 0 + 2 + 1\n= 11\u2081\u2080\n</code></pre> <p>Esto es lo mismo que hacer el siguiente c\u00e1lculo mental. Piensa en los bits como \u201cpotencias activadas\u201d. Ejemplo:</p> <pre><code>11010\u2082\n</code></pre> <p>Posiciones: 16 \u2013 8 \u2013 4 \u2013 2 \u2013 1  \u2192 16 + 8 + 2 = 26</p>"},{"location":"TEMA1/Teoria/2.%20Teor%C3%ADa%20de%20Sistemas%20Num%C3%A9ricos%20en%20Inform%C3%A1tica/#36-hexadecimal-a-binario","title":"3.6 Hexadecimal a Binario","text":"<p>El primer paso es pasarlo a binario</p> <p>Ejemplo:</p> <pre><code>BC\u2081\u2086 = 1011\u2082\n</code></pre> <p>Una vez en binario hacemos como en el paso anterior y pasamos a decimal.</p>"},{"location":"TEMA1/Teoria/3.%20Teoria%20de%20Almacenamiento%20de%20datos/","title":"3. Teoria de Almacenamiento de datos","text":"<p>Veamos la teor\u00eda de este punto 3.</p>"},{"location":"TEMA1/Teoria/3.%20Teoria%20de%20Almacenamiento%20de%20datos/#1-unidades-de-medida-de-la-informacion","title":"1. Unidades de medida de la informaci\u00f3n","text":"<p>En inform\u00e1tica, la informaci\u00f3n se mide en bits y sus m\u00faltiplos. Las unidades de medida permiten cuantificar la capacidad de almacenamiento o el tama\u00f1o de datos.</p> <p>1.Bit: S\u00edmbolo: b, es la unidad m\u00ednima de informaci\u00f3n con valores posibles 0 o 1. Representa un estado l\u00f3gico, verdadero/falso, encendido/apagado.</p> <p>2.Byte: S\u00edmbolo: B, representa un conjunto de 8 bits con rango de valores: 0 a 255 (2\u2078 posibles combinaciones). Puede representar un car\u00e1cter de texto, un valor num\u00e9rico peque\u00f1o o un color de 8 bits.</p> <p>3.Resto de medidas: Miramos la siguiente tabla:</p> Unidad decimal (SI) S\u00edmbolo Equivalencia decimal (base 10) Unidad binaria (IEC) S\u00edmbolo Equivalencia binaria (base 2) Uso t\u00edpico Kilobyte kB 10\u00b3 bytes = 1.000 B Kibibyte KiB 2\u00b9\u2070 bytes = 1.024 B Peque\u00f1os archivos de texto Megabyte MB 10\u2076 bytes = 1.000.000 B Mebibyte MiB 2\u00b2\u2070 bytes = 1.048.576 B Archivos de m\u00fasica, im\u00e1genes Gigabyte GB 10\u2079 bytes = 1.000.000.000 B Gibibyte GiB 2\u00b3\u2070 bytes = 1.073.741.824 B Memoria RAM, discos duros Terabyte TB 10\u00b9\u00b2 bytes = 1.000.000.000.000 B Tebibyte TiB 2\u2074\u2070 bytes \u2248 1.099.511.627.776 B Almacenamiento masivo, servidores Petabyte PB 10\u00b9\u2075 bytes Pebibyte PiB 2\u2075\u2070 bytes \u2248 1.125.899.906.842.624 B Centros de datos muy grandes Exabyte EB 10\u00b9\u2078 bytes Exbibyte EiB 2\u2076\u2070 bytes \u2248 1.152.921.504.606.846.976 B Internet global (estimaciones)"},{"location":"TEMA1/Teoria/3.%20Teoria%20de%20Almacenamiento%20de%20datos/#2-ejemplos-de-conversiones-decimales","title":"2. Ejemplos de conversiones decimales","text":""},{"location":"TEMA1/Teoria/3.%20Teoria%20de%20Almacenamiento%20de%20datos/#-de-kilobytes-a-megabytes","title":"- De kilobytes a megabytes","text":"\\[ 1 \\, \\text{MB} = 10^6 \\, \\text{B}, \\quad 1 \\, \\text{kB} = 10^3 \\, \\text{B} \\]"},{"location":"TEMA1/Teoria/3.%20Teoria%20de%20Almacenamiento%20de%20datos/#-de-gigabytes-a-terabytes","title":"- De gigabytes a terabytes","text":"\\[ 1 \\, \\text{GB} = 10^9 \\, \\text{B}, \\quad 1 \\, \\text{TB} = 10^{12} \\, \\text{B} \\]"},{"location":"TEMA1/Teoria/3.%20Teoria%20de%20Almacenamiento%20de%20datos/#3-ejemplos-de-conversiones-binarias","title":"3. Ejemplos de conversiones binarias","text":""},{"location":"TEMA1/Teoria/3.%20Teoria%20de%20Almacenamiento%20de%20datos/#-de-kibibytes-a-mebibytes","title":"- De Kibibytes a Mebibytes","text":"\\[ 1 \\, \\text{KiB} = 2^{10} \\, \\text{B}, \\quad 1 \\, \\text{MiB} = 2^{20} \\, \\text{B} \\]"},{"location":"TEMA1/Teoria/3.%20Teoria%20de%20Almacenamiento%20de%20datos/#-de-gibibytes-a-tebibytes","title":"- De Gibibytes a Tebibytes","text":"\\[ 1 \\, \\text{GiB} = 2^{30} \\, \\text{B}, \\quad 1 \\, \\text{TiB} = 2^{40} \\, \\text{B} \\]"},{"location":"TEMA1/Teoria/3.%20Teoria%20de%20Almacenamiento%20de%20datos/#4-ejemplos-de-conversiones-cruzadas","title":"4. Ejemplos de conversiones cruzadas","text":""},{"location":"TEMA1/Teoria/3.%20Teoria%20de%20Almacenamiento%20de%20datos/#-de-gibibytes-a-gigabytes","title":"- De Gibibytes a Gigabytes","text":"\\[ 1 \\, \\text{GiB} = 2^{30} \\, \\text{B}, \\quad 1 \\, \\text{GB} = 10^9 \\, \\text{B} \\] \\[ 10 \\, \\text{MB} = \\frac{10 \\times 10^6}{2^{20}} \\approx 9,54 \\, \\text{MiB}$ \\]"},{"location":"TEMA1/Teoria/3.%20Teoria%20de%20Almacenamiento%20de%20datos/#5-formas-de-guardar-la-informacion","title":"5. Formas de guardar la informaci\u00f3n","text":"<ul> <li> <p>Cuando hablamos de c\u00f3mo se guarda la informaci\u00f3n en un ordenador, siempre debemos volver a lo esencial: todo se reduce a bits, ceros y unos. Estos valores, que representan estados el\u00e9ctricos o magn\u00e9ticos, necesitan un soporte f\u00edsico en el que almacenarse para que el sistema pueda conservarlos incluso cuando se apaga la m\u00e1quina.</p> </li> <li> <p>Durante d\u00e9cadas, ese soporte ha sido el disco duro mec\u00e1nico o HDD. Un HDD funciona con platos recubiertos de material magn\u00e9tico que giran a gran velocidad. Un cabezal de lectura y escritura se desplaza sobre esos platos, cambiando la orientaci\u00f3n de peque\u00f1\u00edsimas zonas magn\u00e9ticas para representar un 0 o un 1. La informaci\u00f3n no se almacena de forma ca\u00f3tica, sino organizada en sectores (unidades m\u00ednimas de almacenamiento, normalmente de 512 bytes o 4 KB), que a su vez forman pistas. Esta organizaci\u00f3n permite que el sistema operativo localice y lea los datos de manera ordenada.</p> </li> </ul> <p></p> <ul> <li> <p>M\u00e1s recientemente aparecieron los SSD o discos de estado s\u00f3lido, que funcionan de una manera completamente diferente. En lugar de partes mec\u00e1nicas y magn\u00e9ticas, los SSD utilizan memoria flash NAND. Cada bit de informaci\u00f3n queda guardado como una carga el\u00e9ctrica dentro de transistores microsc\u00f3picos. La ventaja fundamental es que no hay partes m\u00f3viles: la lectura y escritura es casi instant\u00e1nea y mucho m\u00e1s fiable a largo plazo frente a golpes o vibraciones. La informaci\u00f3n se organiza en p\u00e1ginas (que suelen ser de 4 a 16 KB). Esas p\u00e1ginas no est\u00e1n sueltas: se agrupan en bloques, normalmente de 1 MB (varias p\u00e1ginas juntas), pero el principio sigue siendo el mismo: representar ceros y unos que luego el sistema operativo agrupa en archivos y carpetas. El borrado siempre se hace a nivel de bloque completo, es decir, la unidad m\u00ednima de borrado es 1MB.</p> </li> <li> <p>Y aqu\u00ed entra en juego una herramienta cl\u00e1sica de Linux: el comando dd. Este programa trabaja copiando datos a bajo nivel, en bloques cuyo tama\u00f1o puede configurarse con el par\u00e1metro bs (block size). Si usas dd con un tama\u00f1o de bloque alineado con las p\u00e1ginas o bloques f\u00edsicos del SSD (por ejemplo, 4K o 1M), el rendimiento ser\u00e1 mucho mejor. Si eliges tama\u00f1os muy peque\u00f1os (1K, 512 bytes), el SSD tiene que hacer m\u00e1s operaciones internas.</p> </li> </ul> <p>-En un SSD, la unidad m\u00ednima f\u00edsica de escritura es la p\u00e1gina (4 KB \u2013 16 KB).</p> <p>-Si usas dd con un tama\u00f1o de bloque (bs) que coincide con la p\u00e1gina f\u00edsica (por ejemplo, 4K), la escritura se alinea bien y es eficiente. Supongamos que quiero llenar un SSD con datos de prueba:</p> <ul> <li> <p>if = input file (/dev/urandom, datos aleatorios).</p> </li> <li> <p>of = output file (prueba.img).</p> </li> <li> <p>bs=1M \u2192 escribo en bloques de 1 MB.</p> </li> <li> <p>Esto coincide bastante con el tama\u00f1o de un bloque interno del SSD (\u2248128 p\u00e1ginas de 8K = 1 MB).</p> </li> </ul> <p>Veamos un ejemplo, como dec\u00edamos, el comando dd se usa en Linux/Unix para copiar datos a bajo nivel, por ejemplo, grabar una ISO de Ubuntu en una memoria USB. Vamos a ver un ejemplo de c\u00f3mo hacerlo:</p> <p><pre><code>sudo dd if=~/Descargas/ubuntu.iso of=/dev/sdX bs=4M status=progress conv=fsync\n</code></pre> donde /dev/sdX es nuestro pendrive, buscado gracias a lsblk.</p>"},{"location":"TEMA1/Teoria/3.%20Teoria%20de%20Almacenamiento%20de%20datos/#6-consola-linea-de-comandos","title":"6. Consola. Linea de comandos.","text":"<p>La interfaz de l\u00ednea de comandos, en ingl\u00e9s Command Line Interface o CLI, es el conjunto de elementos visuales que permiten, sobre un dispositivo de salida, indicar \u00f3rdenes o comandos utilizando un dispositivo de entrada. Concretamente se utiliza el teclado para invocar comandos configurados para realizar una serie de acciones y el resultado de la ejecuci\u00f3n de estas acciones se mostrar\u00e1 por pantalla.</p> <p>En cualquier CLI se pueden encontrar los siguientes elementos, que se estudian con el caso concreto de un terminal Linux (figura 1.13):</p> <ul> <li> <p>Prompt de usuario: indica el nombre del usuario (fer), el nombre de la m\u00e1quina (fer-pc), el directorio en el que se encuentra actualmente (~/Documentos) y si el usuario tiene permisos de administrador (#) o es un usuario corriente ($).</p> </li> <li> <p>Comando: programa que va a ejecutar el usuario (echo).</p> </li> <li> <p>Par\u00e1metros: valores de configuraci\u00f3n que se dan al programa (\u201cHola ISO\u201d). Un tipo de par\u00e1metros especiales son los flags (tambi\u00e9n llamado opci\u00f3n o switch) es un par\u00e1metro que se a\u00f1ade a un comando para modificar su comportamiento.</p> </li> <li> <p>Operadores: elementos para enlazar la salida de un programa con la entrada de otro o con la escritura de datos en ficheros.</p> </li> <li> <p>Salida: datos o informaci\u00f3n que ofrece el programa como resultado de su procesamiento.</p> </li> </ul>"},{"location":"TEMA1/Teoria/3.%20Teoria%20de%20Almacenamiento%20de%20datos/#7-ejemplos-en-ubuntu","title":"7 Ejemplos en ubuntu:","text":"<p>Uno de los comandos m\u00e1s comunes que veremos cuando listemos la estructura de un directorio en linux (siguiente tema), ser\u00e1 el comando ls. En los siguientes ejemplos se muestran casos sencillos de uso dividiendo en la terminolog\u00eda usada anteriormente. La estructura de directorio de un debion tambi\u00e9n se ver\u00e1 en el siguiente tema y no debe ser objeto de preocupaci\u00f3n del alumnado.</p>"},{"location":"TEMA1/Teoria/3.%20Teoria%20de%20Almacenamiento%20de%20datos/#ejemplo-1-ls-simple","title":"Ejemplo 1: ls simple","text":"<pre><code>fer@pc:~/Documentos$ ls\n</code></pre> <p>Prompt de usuario: fer@pc:~/Documentos$</p> <p>Comando: ls</p> <p>Par\u00e1metro: (ninguno en este caso)</p> <p>Operadores: (ninguno)</p> <p>Salida: lista de archivos del directorio actual, ej.: - informe.txt - tareas.pdf - notas.csv</p>"},{"location":"TEMA1/Teoria/3.%20Teoria%20de%20Almacenamiento%20de%20datos/#ejemplo-2-ls-con-parametro-otro-directorio","title":"Ejemplo 2: ls con par\u00e1metro (otro directorio)","text":"<pre><code>fer@pc:~$ ls /etc\n</code></pre> <p>Prompt de usuario: fer@pc:~$</p> <p>Comando: ls</p> <p>Par\u00e1metro: /etc (indico el directorio que quiero listar)</p> <p>Operadores: (ninguno)</p> <p>Salida: -hosts -passwd -shadow -ssh</p>"},{"location":"TEMA1/Teoria/3.%20Teoria%20de%20Almacenamiento%20de%20datos/#ejemplo-3-ls-con-flag-parametro-especial","title":"Ejemplo 3: ls con flag (par\u00e1metro especial)","text":"<pre><code>fer@pc:~/Descargas$ ls -l\n</code></pre> <p>Prompt de usuario: fer@pc:~/Descargas$</p> <p>Comando: ls</p> <p>Par\u00e1metro (flag): -l (listado largo)</p> <p>Operadores: (ninguno)</p> <p>Salida: <pre><code>-rw-r--r-- 1 fer fer  1024 sep  1 10:00 informe.txt\ndrwxr-xr-x 2 fer fer  4096 sep  2 11:30 proyectos\n</code></pre></p>"},{"location":"TEMA1/Teoria/3.%20Teoria%20de%20Almacenamiento%20de%20datos/#ejemplo-4-ls-con-operador-de-redireccion","title":"Ejemplo 4: ls con operador de redirecci\u00f3n","text":"<pre><code>fer@pc:~$ ls /bin &gt; lista.txt\n</code></pre> <p>Prompt de usuario: fer@pc:~$</p> <p>Comando: ls</p> <p>Par\u00e1metro (flag): /bin</p> <p>Operadores: &gt; (redirige la salida a un archivo)</p> <p>Salida: no se muestra nada en pantalla; se guarda en lista.txt.</p>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/","title":"4. Teor\u00eda \u2014 Hardware y Software b\u00e1sico de un ordenador.","text":""},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#1-que-es-la-cpu","title":"1. \u00bfQu\u00e9 es la CPU?","text":"<p>La CPU (Unidad Central de Procesamiento) es el cerebro del ordenador. Se encarga de ejecutar instrucciones de los programas y procesa datos que se encuentran en la memoria o que recibe de dispositivos de entrada. Est\u00e1 formada por varias subunidades internas, como la unidad aritm\u00e9tico-l\u00f3gica (ALU) y la unidad de control.</p> <p>Los registros son peque\u00f1as \u00e1reas de memoria dentro de la CPU que almacenan temporalmente datos o direcciones. Son mucho m\u00e1s r\u00e1pidos que la RAM y cada registro puede almacenar una cantidad fija de bits, seg\u00fan la arquitectura (8, 16, 32 o 64 bits). </p> <p>La unidad aritm\u00e9tico-l\u00f3gica (ALU) es la parte de la CPU que se encarga de realizar todas las operaciones matem\u00e1ticas y l\u00f3gicas. Por ejemplo, suma, resta, multiplicaci\u00f3n, divisi\u00f3n, as\u00ed como operaciones l\u00f3gicas como AND, OR, XOR o comparaciones entre n\u00fameros. Cada vez que ejecutamos una instrucci\u00f3n como ADD AX, BX, la ALU calcula el resultado de la operaci\u00f3n.</p> <p>Por otro lado, la unidad de control (CU) coordina todo el funcionamiento de la CPU. Su funci\u00f3n principal es decodificar las instrucciones, decidir qu\u00e9 se\u00f1ales enviar a la ALU, a los registros y a los buses de memoria, y controlar el flujo de datos dentro de la CPU.  Gracias a la unidad de control, la CPU sabe qu\u00e9 operaci\u00f3n ejecutar, qu\u00e9 registros usar y cu\u00e1ndo leer o escribir datos en la memoria. La arquitectura que pondremos de ejempo es esta</p> Componente Funci\u00f3n Ejemplo Registros Peque\u00f1as memorias internas, muy r\u00e1pidas, que guardan datos temporales (16, 32 o 64 bits seg\u00fan la arquitectura). <code>MOV AX, 5</code> \u2192 guarda el valor 5 en AX ALU (Unidad Aritm\u00e9tico-L\u00f3gica) Realiza operaciones matem\u00e1ticas y l\u00f3gicas. <code>ADD AX, BX</code> suma AX + BX CU (Unidad de Control) Decide qu\u00e9 debe hacer la CPU en cada ciclo de reloj: - Busca la instrucci\u00f3n en memoria (CS:IP) - La decodifica - Genera se\u00f1ales de control para la ALU, registros y buses - Coordina lectura/escritura en memoria - Cambia el flujo del programa (saltos, interrupciones) <code>MOV AX, [1234h]</code> \u2192 la CU ordena leer de memoria y guardar en AX"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#11-ejemplo-de-codigo-ya-cargado-en-memoria","title":"1.1 Ejemplo de c\u00f3digo ya cargado en memoria.","text":"<p>En la RAM no se guarda la instrucci\u00f3n como texto, sino en binario (c\u00f3digo m\u00e1quina). Este c\u00f3digo m\u00e1quina se ha cargado gracias a algun programa (como ensamblador), que ha traducido previamente, al compilar, las intrucciones del lenguaje</p> <ul> <li>El compilador o ensamblador traduce  la instrucci\u00f3n del codigo por ejemplo:<code>MOV AX, [1234h]</code> a bytes, por ejemplo:</li> </ul> <pre><code>A1 34 12\n</code></pre> <ul> <li><code>A1h</code> = c\u00f3digo de operaci\u00f3n (opcode) para <code>MOV AX, [imm16]</code>.</li> <li><code>34 12h</code> = el desplazamiento (offset = 1234h).</li> </ul> <p>As\u00ed que en la memoria RAM, en la posici\u00f3n de c\u00f3digo encontramos esos bytes: encontramos esos bytes (las direcciones donde se encontrar\u00e1 el c\u00f3digo est\u00e1 inventadas ahora mismo, pero despu\u00e9s lo entenderemos mejor):</p> <pre><code>Direcci\u00f3n 20100h: A1h\nDirecci\u00f3n 20101h: 34h\nDirecci\u00f3n 20102h: 12h\n</code></pre>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#1-2-que-hace-la-unidad-de-control","title":"1. 2. \u00bfQu\u00e9 hace la Unidad de Control?","text":"<p>La CU entra en acci\u00f3n en el ciclo de instrucci\u00f3n (fetch-decode-execute):</p>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#fetch-traer-la-instruccion","title":"Fetch (traer la instrucci\u00f3n)","text":"<p>La CU forma la direcci\u00f3n f\u00edsica  en donde e encontrar\u00e1 el c\u00f3digo. Va a la RAM y lee el primer byte (<code>A1h</code>).</p> <ol> <li>Sabe que este es el opcode, as\u00ed que consulta su \u201ctabla interna de microc\u00f3digo\u201d para ver qu\u00e9 significa.</li> <li>Ve que debe leer dos bytes m\u00e1s (el offset).</li> <li>Incrementa <code>IP</code> (un registro ya nombrado, m\u00e1s tarde entenderemos qu\u00e9 significa) para seguir leyendo \u2192 trae <code>34h 12h</code>.</li> </ol> <p>Ahora la CU tiene la instrucci\u00f3n completa en un registro interno llamado Instruction Register (IR).</p>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#b-decode-decodificar","title":"b) Decode (decodificar)","text":"<p>Recordemos que la instrucci\u00f3n era: <code>MOV AX, [1234h].</code> La CU analiza <code>A1h</code> \u2192 corresponde a <code>MOV AX, [imm16]</code> e interpreta que debe:</p> <ul> <li> <p>Usar el valor inmediato <code>1234h</code> como offset.</p> </li> <li> <p>Combinarlo con <code>DS</code> para formar una direcci\u00f3n f\u00edsica, que se calcula como: </p> </li> </ul> \\[ \\text{Direcci\u00f3n f\u00edsica} = (\\text{Segmento} \\times 16) + \\text{Offset} \\] <ul> <li>Leer el valor de esa posici\u00f3n de memoria calculada en los dos pasos anteriores y copiaa ese valor en <code>AX</code>.</li> </ul> <p>Por tanto; La CU convierte la instrucci\u00f3n en se\u00f1ales de control para los dem\u00e1s bloques de la CPU.</p>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#c-execute-ejecutar","title":"c) Execute (ejecutar)","text":"<ol> <li>La CU env\u00eda la orden a la Unidad de Direcci\u00f3n:</li> <li>Calcula la direcci\u00f3n f\u00edsica = <code>DS \u00d7 16 + 1234h</code>.</li> <li>Accede a la RAM.</li> <li>La CU da la orden al bus de datos:</li> <li>Traer 16 bits (dos bytes) de esa direcci\u00f3n de memoria.</li> <li>Esos 16 bits se almacenan temporalmente en un buffer interno (a veces un latch en el bus).</li> <li>La CU activa la se\u00f1al para que esos 16 bits se carguen en el registro <code>AX</code>.</li> </ol>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#13-cuando-participa-realmente-la-alu","title":"1.3 \u00bfCuando participa realmente la ALU?","text":"<p>En el ejemplo anteriores, la ALU no participa en ninguna de las fases. porque lo \u00fanico que ocurre es mover datos de memoria a un registro. Eso lo resuelven la CU, los buses y la unidad de direccionamiento. Pero cuando la instrucci\u00f3n implica una operaci\u00f3n aritm\u00e9tica o l\u00f3gica, entonces s\u00ed la CU tiene que \u201cinvocar\u201d a la ALU.</p> <pre><code>ADD AX, BX\n</code></pre>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#a-fetch","title":"a) Fetch","text":"<p>La CU trae de memoria el opcode correspondiente a <code>ADD</code>. Lo guarda en el registro Instruction Register (IR).</p>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#b-decode","title":"b) Decode","text":"<p>La CU reconoce que es <code>ADD AX, BX</code> y Ttaduce esto en micro\u00f3rdenes:</p> <ol> <li>Cargar el contenido de <code>AX</code> en una entrada de la ALU.</li> <li>Cargar el contenido de <code>BX</code> en la otra entrada de la ALU.</li> <li>Configurar la ALU en modo \u201csuma\u201d.</li> </ol>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#c-execute","title":"c) Execute","text":"<p>La ALU realiza la suma <code>AX + BX</code>. El resultado se coloca en <code>AX</code> y la ALU actualiza las banderas (<code>ZF</code>, <code>CF</code>, <code>OF</code>, etc.) seg\u00fan el resultado. Estan banderas no son m\u00e1s que registros que obtienen valores seg\u00fan el resultado de la operaci\u00f3n realizada, por ejemplo:</p> <ol> <li> <p>Se activa (<code>ZF=1</code>) cuando el resultado de una operaci\u00f3n es cero.</p> </li> <li> <p>Si el resultado no es cero \u2192 <code>ZF=0</code>.</p> </li> </ol> <p>Aqu\u00ed la CU no hace la operaci\u00f3n matem\u00e1tica, solo env\u00eda las se\u00f1ales: \u201cALU, suma estos dos valores y guarda el resultado en AX\u201d.</p>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#2-que-es-la-ram","title":"2. \u00bfQu\u00e9 es la RAM?","text":"<p>La RAM es la memoria principal del sistema. Se organiza en direcciones lineales, cada direcci\u00f3n contiene 1 byte. La CPU puede leer o escribir en la RAM mediante el bus de direcciones (dice d\u00f3nde) y el bus de datos (dice qu\u00e9 valor).</p> <p>Ejemplo: </p> <pre><code>MOV AX, [1234h]\n</code></pre> <p>La CPU coloca 1234h en el bus de direcciones. Activa una lectura de memoria. El valor que hay en RAM en esa direcci\u00f3n entra por el bus de datos y se guarda en AX.  Si quisieramos escribir en la RAM la instrucci\u00f3n se podr\u00eda ejecutar al contrario:</p> <pre><code>MOV [1234h], AX\n</code></pre>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#3-la-arquitectura-de-von-neumann-en-el-diseno-de-un-ordenador","title":"3. La arquitectura de von Neumann en el dise\u00f1o de un ordenador","text":"<p>La arquitectura de von Neumann fue propuesta en 1945 por el matem\u00e1tico John von Neumann (junto con otros como Mauchly y Eckert, quienes trabajaron en la ENIAC). Su idea b\u00e1sica fue unificar memoria y programa.</p> <p>En m\u00e1quinas anteriores (como ENIAC), los programas se cableaban f\u00edsicamente. Von Neumann propuso almacenar instrucciones y datos en la misma memoria, de forma que el computador pudiera modificarse simplemente cargando otro programa.</p>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#componentes-basicos","title":"Componentes b\u00e1sicos","text":"<ol> <li>La arquitectura cl\u00e1sica se compone de 5 bloques fundamentales:</li> <li>Unidad de procesamiento central (CPU)<ul> <li>Unidad de control (CU): interpreta las instrucciones y genera se\u00f1ales para coordinar todo el hardware.</li> <li>ALU (Arithmetic Logic Unit): ejecuta operaciones aritm\u00e9ticas (suma, resta, AND, OR, desplazamientos\u2026).</li> <li>Registros: peque\u00f1as memorias internas muy r\u00e1pidas que almacenan datos temporales, direcciones, contadores.</li> <li>Contador de programa (PC o IP): apunta siempre a la pr\u00f3xima instrucci\u00f3n.</li> </ul> </li> <li>Memoria principal (RAM)<ul> <li>Contiene instrucciones y datos en la misma estructura lineal de direcciones.</li> <li>Cada direcci\u00f3n apunta a una celda de memoria (generalmente un byte).</li> <li>El programa y los datos est\u00e1n mezclados, diferenciados solo por c\u00f3mo los usa la CPU.</li> </ul> </li> <li>Dispositivos de entrada<ul> <li>Permiten cargar datos en la computadora (teclado, lector de tarjetas perforadas en esa \u00e9poca).</li> </ul> </li> <li>Dispositivos de salida<ul> <li>Permiten ver los resultados (impresora, pantalla, etc.).</li> </ul> </li> <li>Buses de comunicaci\u00f3n<ul> <li>Bus de direcciones: la CPU indica en qu\u00e9 celda de memoria quiere leer/escribir.</li> <li>Bus de datos: transporta la informaci\u00f3n le\u00edda o escrita.</li> <li>Bus de control: se\u00f1ales de sincronizaci\u00f3n (lectura/escritura, interrupciones, etc.).</li> </ul> </li> </ol>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#ciclo-basico-ciclo-de-instruccion","title":"Ciclo b\u00e1sico (ciclo de instrucci\u00f3n)","text":"<ol> <li> <p>El \u201clatido\u201d de un computador von Neumann es el ciclo fetch\u2013decode\u2013execute (os debe sonar de lo explicado en el punto anterior):</p> </li> <li> <p>Fetch (captura):</p> <ul> <li>El PC (Instruction Pointer en x86) da la direcci\u00f3n de la pr\u00f3xima instrucci\u00f3n.</li> <li>La CPU la solicita a memoria a trav\u00e9s del bus de direcciones. El contenido de esa direcci\u00f3n (un c\u00f3digo m\u00e1quina) llega por el bus de datos a la CPU.</li> </ul> </li> <li>Decode (decodificaci\u00f3n):<ul> <li>La unidad de control interpreta ese c\u00f3digo binario y decide qu\u00e9 operaci\u00f3n ejecutar y qu\u00e9 recursos activar (ALU, registros, acceso a memoria).</li> </ul> </li> <li>Execute (ejecuci\u00f3n):<ul> <li>Se realiza la operaci\u00f3n: suma, movimiento de datos, salto, etc. Si el resultado debe almacenarse en memoria o un registro, se hace ahora.</li> </ul> </li> <li>Update (actualizaci\u00f3n):<ul> <li>Se incrementa el PC (IP en x86) para apuntar a la siguiente instrucci\u00f3n. El ciclo vuelve al paso 1.</li> </ul> </li> </ol> <p>Este proceso ocurre miles de veces por segundo en un 8086 y millones/miles de millones en procesadores modernos.</p>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#4-arquitectura-8086-de-16-bits-2-bytes","title":"4. Arquitectura 8086 de 16 bits (2 bytes)","text":"<p>Todo lo anterior eran ejemplos de este tipo de arquitectura. El 8086 es un procesador de 16 bits donde todos sus registros  son de 16 bits. Con 16 bits se pueden representar: $$ 2^{16}  \\text{ bytes distintos} = 65.536 \\text{ direcciones en la ram } = 65.536\u00a0, bytes= 64 \\text{ KB} $$ Eso significa: cada direcci\u00f3n de memoria en la ram se\u00f1ala un byte, no un bit.</p> <p>Ejemplo:</p> <ul> <li>Direcci\u00f3n <code>00000h</code> \u2192 primer byte de RAM.</li> <li>Direcci\u00f3n <code>00001h</code> \u2192 segundo byte de RAM.</li> <li>Direcci\u00f3n <code>00002h</code> \u2192 tercer byte de RAM.</li> </ul> <p>Es decir, en teor\u00eda, la RAM no deber\u00eda tener m\u00e1s de 64KB, porque no puedo acceder a registros de m\u00e1s de 2 bytes. Sin embargo, en el 8086 el bus tiene 20 l\u00edneas f\u00edsicas de direcci\u00f3n (A0\u2026A19). Con 20 l\u00edneas se pueden generar: $$ 2^{20} = 1.048.576  \\text{direcciones distintas} = 1 \\text{ MB} $$ Es por eso que la memoria m\u00e1xima f\u00edsica del 8086 es de 1 MB (1.048.576 bytes). Para direccionarla se necesitan 20 bits. Ahora bien, \u00bfc\u00f3mo puedo acceder a direcciones de memoria mayores de 64kb en memoria si s\u00f3lo puedo guardar en registros de la CPU hasta 16 bits?</p>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#41-la-solucion-de-intel-segmentacion","title":"4.1 La soluci\u00f3n de Intel: segmentaci\u00f3n","text":"<p>Como los registros son de 16 bits, no alcanzan para 20 bits. Intel invent\u00f3 el sistema de segmento:offset.</p> <ul> <li>Segmento (16 bits): contenido en CS, DS, SS o ES.</li> <li>Offset (16 bits): valor en registros como IP, SP, BP, SI, DI o inmediato.</li> <li>Direcci\u00f3n f\u00edsica:</li> </ul> \\[ \\text{Direcci\u00f3n f\u00edsica} = (\\text{Segmento} \\times 16) + \\text{Offset} \\] <p>El \u00d716 = desplazar 4 bits a la izquierda : hace que los segmentos empiecen en m\u00faltiplos de 16. El offset puede variar hasta 64 KB. cada segmento cubre un bloque de 64 KB.</p> Tipo de registro en 8086 de 16 bits Ejemplos Uso principal Ejemplo pr\u00e1ctico Prop\u00f3sito general AX, BX, CX, DX Guardar datos temporales y resultados de la ALU <code>MOV AX, 5</code> <code>ADD AX, BX</code> Segmento CS, DS, SS, ES Seleccionar la base de un segmento de memoria (cada uno de 64 KB). <code>MOV AX, [DS:1234h]</code> \u2192 Direcci\u00f3n f\u00edsica = <code>DS\u00d716 + 1234h</code> Puntero de instrucci\u00f3n IP Indica el offset de la pr\u00f3xima instrucci\u00f3n dentro de CS. Lo vemos con mas detalle en el punto 5.1 Si <code>CS=2000h</code> e <code>IP=0100h</code> \u2192 Direcci\u00f3n f\u00edsica = <code>2000h\u00d716 + 0100h = 20100h</code> Registros de pila SS, SP, BP Controlar la pila (stack). \u2022 <code>SS</code> = segmento de pila \u2022 <code>SP</code> = tope de la pila (crece hacia abajo) \u2022 <code>BP</code> = base pointer, usado en marcos de funciones <code>PUSH AX</code> guarda AX en <code>[SS:SP]</code> <code>POP BX</code> saca de <code>[SS:SP]</code> <code>MOV AX, [SS:BP-4]</code> accede a una variable local"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#5-como-se-carga-y-ejecuta-un-programa-en-un-8086","title":"5. C\u00f3mo se carga y ejecuta un programa en un 8086","text":"<p>Cuando ejecutas un programa en un 8086, lo primero que hace el sistema operativo (en MS-DOS, por ejemplo) es copiar el ejecutable desde el disco a la RAM. Ese ejecutable tiene un tama\u00f1o concreto, definido cuando lo compilaste: puede ser de 20 KB, 100 KB o 200 KB, pero nunca \u201cinfinito\u201d. El sistema reserva exactamente la memoria necesaria para tu c\u00f3digo, tus datos y la pila.</p> <p>Veamoslo con un ejemplo. Supongamos que tu programa mide 200 KB. El 8086 no puede acceder directamente a todo el MB de memoria con un registro de 16 bits. Para resolver esto usamos lo visto anteriormente:</p> <p>$$ \\text{Direcci\u00f3n f\u00edsica} = \\text{Segmento} \\times 16 + \\text{Offset} $$ Como el Offset es te 16 bits, nos permite acceder a 64kb m\u00e1s de memoria desde el segmento base. De esta manera, la memoria del programa se organiza en \u201ccap\u00edtulos\u201d de 64 KB que pueden solaparse. Veamos el siguiente ejemplo SIN SOLAPAMIENTOS.</p> <ul> <li> Segmento Direcci\u00f3n base Tama\u00f1o real Explicaci\u00f3n clara C\u00f3digo (CS1) <code>2000h (se puede guardar en el registro porque 2000 tiene 16 bits)</code> 64 KB Aqu\u00ed empieza la primera parte del programa. \u00bfPor qu\u00e9 no empieza en <code>1000h</code>?  Porque normalmente los programas no arrancan \u201cdonde caiga\u201d: el cargador del sistema operativo los ubica en direcciones alineadas y libres, y <code>2000h</code> es una buena frontera. Adem\u00e1s, <code>1000h</code> podr\u00eda estar ocupado por BIOS, vectores de interrupci\u00f3n o datos del sistema. C\u00f3digo (CS2) <code>3000h</code> 56 KB (de los 64 disponibles) El c\u00f3digo era m\u00e1s grande que 64 KB (el l\u00edmite de un segmento), as\u00ed que se parti\u00f3 en otro bloque. Se reserva todo el segmento, pero solo se usan 56 KB. El resto queda vac\u00edo o sin usar. Datos (DS) <code>4000h</code> 64 KB Aqu\u00ed van variables globales y datos est\u00e1ticos. Usamos un segmento completo porque los programas suelen necesitar bastante espacio para datos, y as\u00ed es m\u00e1s f\u00e1cil direccionarlos con <code>DS</code>. Pila (SS) <code>5000h</code> 16 KB El segmento de pila podr\u00eda ser de hasta 64 KB, porque <code>SP</code> (stack pointer) puede contar de <code>0000h</code> a <code>FFFFh</code>. Pero no siempre hace falta. En este programa se reservaron 16 KB, suficiente para guardar direcciones de retorno (2 bytes por llamada), registros salvados y variables locales. Reservar 64 KB ser\u00eda un desperdicio de memoria, sobre todo en PCs de 256 KB o 640 KB de RAM. </li> </ul>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#51-ejecucion-de-instrucciones","title":"5.1 Ejecuci\u00f3n de instrucciones","text":"<p>El flujo de tu programa comienza en <code>CS:IP</code>:</p> <ul> <li><code>CS</code> marca el bloque de c\u00f3digo.</li> <li><code>IP</code> se\u00f1ala la primera instrucci\u00f3n dentro de ese bloque.</li> </ul> <p>La CPU lee la instrucci\u00f3n, la ejecuta y despu\u00e9s incrementa <code>IP</code> en tantos bytes como mida esa instrucci\u00f3n. Por ejemplo, si <code>IP=0100h</code> y la instrucci\u00f3n ocupa 3 bytes, al acabar <code>IP=0103h</code>, es decir, b\u00e1sicamente suma 3 bytes para pasar a la siguiente instrucci\u00f3n.</p>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#52-la-pila-de-ejecucion","title":"5.2 La pila de ejecuci\u00f3n","text":"<p>El stack o pila es otra parte reservada en RAM. Est\u00e1 controlada por <code>SS:SP</code>.<code>SS</code> se\u00f1ala el segmento de pila y <code>SP</code> es el puntero que va subiendo y bajando.</p> <p>La pila funciona como una estructura LIFO:</p> <ul> <li>Cada <code>PUSH</code> reduce <code>SP</code> y guarda un valor en memoria.</li> <li>Cada <code>POP</code> aumenta <code>SP</code> y recupera el valor.</li> </ul> <p>Esto se usa para guardar direcciones de retorno en las llamadas a funciones (<code>CALL</code> / <code>RET</code>) y tambi\u00e9n para variables locales o registros temporales.</p>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#6-ejemplo-de-estructura-lifo","title":"6 Ejemplo de estructura LIFO","text":"<ul> <li>SS = 5000h    \u201cmi pila vive en el segmento de memoria 5000h\u201d. (\u00bfPor qu\u00e9 se llamaba segmento?)</li> <li>Tama\u00f1o que reservo para la pila = 16 KB    16 KB = <code>4000h</code> bytes dentro de ese segmento.</li> <li>SP inicial = 4000h     significa \u201cla pila est\u00e1 vac\u00eda y lista para empezar a llenarse hacia abajo\u201d.</li> </ul> <p>Nota: <code>SP</code> no \u201ctiene\u201d que ser 4000h; lo pongo as\u00ed porque he reservado 16 KB.</p>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#61-estado-inicial-vacio","title":"6.1. Estado inicial (vac\u00edo)","text":"<pre><code>SP = 4000h   \u2190 pila vac\u00eda (16 KB reservados)\n</code></pre>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#62-hacemos-dos-push","title":"6.2. Hacemos dos PUSH","text":"<pre><code>MOV AX, 1234h\nPUSH AX      ; guarda 1234h\n\nMOV BX, 5678h\nPUSH BX      ; guarda 5678h\n</code></pre>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#63-miramos-como-se-guarda-la-informacion-en-cada-direccion-de-memoria","title":"6.3. Miramos como se guarda la informacion en cada direcci\u00f3n de memoria:","text":"<pre><code>Direcci\u00f3n   Contenido\n5000:3FFC   78h   \u2190 byte bajo de BX\n5000:3FFD   56h   \u2190 byte alto de BX\n5000:3FFE   34h   \u2190 byte bajo de AX\n5000:3FFF   12h   \u2190 byte alto de AX\nSP = 3FFCh\n</code></pre> <p>\ud83d\udc49Observa 3 cosas importantes:</p> <ol> <li>BX (5678h) qued\u00f3 m\u00e1s arriba en la pila porque fue el \u00faltimo en entrar.</li> <li>AX (1234h) qued\u00f3 m\u00e1s abajo, porque entr\u00f3 primero.</li> <li><code>SP = 3FFCh</code> \u2192 apunta al inicio del \u00faltimo valor guardado (BX).</li> </ol> <p>Esto refleja la regla LIFO (Last In, First Out): el \u00faltimo en entrar ser\u00e1 el primero en salir.</p>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#64-hacemos-un-pop","title":"6.4. Hacemos un POP","text":"<p>Ejecutamos:</p> <pre><code>POP CX\n</code></pre> <p>Es la instrucci\u00f3n que:</p> <ol> <li>Toma el valor que est\u00e1 arriba de la pila (16 bits = 2 bytes).</li> <li>Lo coloca en el registro CX.</li> <li> <p>Ajusta <code>SP</code> subiendo 2 posiciones, dejando la pila un poco m\u00e1s \u201cvac\u00eda\u201d.</p> </li> <li> <p>La CPU lee los 2 bytes en <code>3FFCh</code> y <code>3FFDh</code>: <code>78h</code> (bajo), <code>56h</code> (alto) \u2192 <code>CX = 5678h</code>. <code>SP</code> sube en 2 \u2192 <code>SP = 3FFEh</code>.</p> </li> </ol> <p>Estado de la pila ahora:</p> <pre><code>Direcci\u00f3n   Contenido\n5000:3FFE   34h   \u2190 byte bajo de AX\n5000:3FFF   12h   \u2190 byte alto de AX\nSP = 3FFEh\nCX = 5678h\n</code></pre>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#3-nucleos-y-threads-hilos","title":"3. N\u00facleos y threads (hilos)","text":""},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#1-cpu","title":"1. CPU","text":"<p>Una CPU lo \u00fanico que sabe hacer es ejecutar instrucciones: sumar, restar, mover datos, saltar a otra parte del programa\u2026, un programa normal est\u00e1 compuesto por miles o millones de estas instrucciones que se ejecutan una tras otra. </p> <ol> <li>Un programa es un conjunto finito y ordenado de instrucciones codificadas, escritas en un lenguaje de programaci\u00f3n y almacenadas en un archivo ejecutable o script.</li> </ol> <p>Ese archivo define qu\u00e9 hacer, pero no lo est\u00e1 haciendo hasta que se carga en memoria. Contiene:</p> <ul> <li>C\u00f3digo: secuencia de instrucciones m\u00e1quina.</li> <li>Datos est\u00e1ticos: constantes, literales, recursos.</li> <li>Estructuras de estado inicial: tablas de s\u00edmbolos, direcciones de memoria preasignadas, etc.</li> </ul> <p>\u200b    Cuando lo cargas y el sistema operativo lo arranca, se convierte en un proceso.</p> <ol> <li> <p>Un proceso es una instancia en ejecuci\u00f3n de un programa, gestionada por el sistema operativo.</p> </li> <li> <p>Se le asignan recursos: espacio de direcciones en memoria, descriptores de archivos, registros de CPU, hilos de ejecuci\u00f3n. Mantiene un contexto de ejecuci\u00f3n:</p> </li> <li> <p>Contador de programa (PC) IInstruction pointer visto antes)</p> </li> <li>Registros de CPU</li> <li>Pila (stack)</li> <li>Informaci\u00f3n de planificaci\u00f3n (prioridad, estado de bloqueo/ejecuci\u00f3n).</li> </ol> <p>Aqu\u00ed ya adquiere un contexto de ejecuci\u00f3n (memoria asignada, hilos, registros  inicializados\u2026). </p> <ol> <li>Un demonio es un tipo especial de proceso en sistemas tipo Unix/Linux que: </li> </ol> <p>Se ejecuta en segundo plano y no est\u00e1 asociado a un terminal ni a la interacci\u00f3n directa del usuario. Normalmente se inicia al arrancar el sistema y permanece activo para proporcionar servicios al sistema o a otros procesos. Uno de los m\u00e1s comunes que utilizaremos ser\u00e1 cron. cron = \u201creloj despertador\u201d que ejecuta tareas a horas programadas.</p>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#2-flujo-de-ejecucion","title":"2. Flujo de ejecuci\u00f3n","text":"<p>Un flujo de ejecuci\u00f3n es simplemente esa secuencia de instrucciones que se ejecutan una detr\u00e1s de otra. Si tuvieras una CPU muy simple, solo podr\u00edas ejecutar un flujo de ejecuci\u00f3n a la vez: empieza en la instrucci\u00f3n 1, luego la 2, la 3\u2026 y as\u00ed hasta terminar. </p>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#3-thread-hilo","title":"3. Thread. Hilo","text":"<p>Un hilo es un flujo de ejecuci\u00f3n con su propio contexto:</p> <ul> <li> <p>Tiene su propio contador de programa (sabe en qu\u00e9 instrucci\u00f3n va).  Registro especial de la CPU que contiene la direcci\u00f3n de memoria de la siguiente instrucci\u00f3n que se debe ejecutar, adem\u00e1s, tiene su propio conjunto de registros  (los registros f\u00edsicos est\u00e1n en el n\u00facleo del procesador)</p> </li> <li> <p>Tambi\u00e9n, puede avanzar de manera independiente respecto a otros hilos.</p> </li> <li> <p>Es importante recalcar que los hilos viven dentro de un proceso. Comparten la misma memoria y recursos del proceso padre, como: variables globales, archivos abiertos, etc.</p> </li> </ul> <p>Como ya hemos dicho, cada hilo tiene su propio contador de programa y pila, as\u00ed que pueden ejecutar partes diferentes del c\u00f3digo al mismo tiempo. Como comparten memoria, deben usar mecanismos de sincronizaci\u00f3n (locks, sem\u00e1foros, colas seguras, lo vemos en el ejemplo de python) </p> <p>Eso significa que dentro de un mismo programa puedes tener varios hilos que hacen cosas distintas en paralelo.</p>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#4-core","title":"4. Core","text":"<p>Un n\u00facleo de CPU es una unidad de procesamiento completa dentro de un chip.  Lo puedes imaginar como un procesador independiente que forma parte de un procesador m\u00e1s grande (multi-core).</p> <p>Cada n\u00facleo puede ejecutar su propio flujo de instrucciones (hilo) de manera independiente, porque tiene sus propios componentes internos</p> <ul> <li>Tiene su propia ALU (suma/resta), FPU (coma flotante), CU (Control Unit) pila de ejecuci\u00f3n.</li> <li>Si tienes 1 n\u00facleo, solo puede ejecutar un hilo a la vez. Si tienes 4 n\u00facleos, puede ejecutar 4 hilos a la vez de verdad, porque son 4 bloques f\u00edsicos de ejecuci\u00f3n.</li> </ul> <p>Cada n\u00facleo de CPU no solo tiene sus unidades de c\u00e1lculo, tambi\u00e9n cuenta con memoria cach\u00e9** para reducir la latencia al acceder a datos e instrucciones y no tener que pasar por la ram:</p> <ul> <li>Cach\u00e9 L1:</li> </ul> <p>La m\u00e1s peque\u00f1a (32\u201364 KB normalmente) y la m\u00e1s r\u00e1pida. Se divide en dos: L1 Data Cache (para datos) y L1 Instruction Cache (para instrucciones). Est\u00e1 dentro del n\u00facleo. - Cach\u00e9 L2:</p> <p>M\u00e1s grande (256 KB \u2013 1 MB por n\u00facleo) y un poco m\u00e1s lenta que L1. Tambi\u00e9n suele ser privada de cada n\u00facleo. - Cach\u00e9 L3:</p> <p>Mucho m\u00e1s grande (varios MB). Es compartida entre todos los n\u00facleos de un mismo procesador. Sirve de \u201calmac\u00e9n com\u00fan\u201d para coordinar la informaci\u00f3n entre n\u00facleos.</p>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#5-hyperthreading-smt","title":"5. HyperThreading / SMT","text":"<p>Los ingenieros se dieron cuenta de que un n\u00facleo muchas veces est\u00e1 ocioso esperando datos de la RAM o de un disco. Para no perder tiempo, dise\u00f1aron un mecanismo donde un n\u00facleo puede mantener dos contextos de hilos (dos contadores de programa, dos juegos de registros) y alternar instrucciones de ambos.</p> <ul> <li>As\u00ed, un \u00fanico n\u00facleo \u201cfinge\u201d ser dos hilos l\u00f3gicos y para el sistema operativo, parece que hay 2 procesadores.</li> <li>En realidad, los dos comparten el mismo hardware y compiten por recurso</li> </ul> <p>Distinguimos pues, dos tipos de n\u00facleos:</p> <ul> <li>N\u00facleo f\u00edsico: lo que acabamos de describir. Es hardware real, con todos esos componentes.</li> <li>N\u00facleo l\u00f3gico (SMT / HyperThreading): un n\u00facleo f\u00edsico que mantiene dos contextos de registros y PC. Permite ejecutar dos hilos de software como si fueran dos CPUs, compartiendo las mismas ALU/FPU.</li> </ul> <p>Un n\u00facleo l\u00f3gico no duplica la ALU, solo aprovecha mejor los tiempos muertos del n\u00facleo f\u00edsico.</p>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#6-que-hace-el-programa-firefox","title":"6. \u00bfQu\u00e9 hace el programa Firefox?","text":"<p>Cuando ejecutas un programa como Firefox, no se lanza un \u00fanico proceso simple, sino varios procesos diferentes. Hay un proceso principal (PPID), que controla la interfaz y coordina el resto (PID), y despu\u00e9s otros procesos auxiliares: cada pesta\u00f1a suele tener su propio proceso de contenido, existe un proceso para la GPU, otro para plugins, y algunos m\u00e1s para aislamiento y seguridad.</p> <p>Dentro de cada uno de esos procesos, adem\u00e1s, no corre un \u00fanico hilo: se crean m\u00faltiples hilos internos que se encargan de tareas concretas. Por ejemplo, unos hilos gestionan la red, otros se ocupan de renderizar p\u00e1ginas, otros manejan la ejecuci\u00f3n de JavaScript, y otros procesan audio o v\u00eddeo. Todo esto ocurre de forma autom\u00e1tica, aunque el usuario no lo vea.</p>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#7-simulando-concurrencia-y-paralelismo-en-un-lenuaje-de-programacion-python","title":"7. Simulando concurrencia y paralelismo en un lenuaje de programaci\u00f3n. Python","text":"<p>En Python hay dos librer\u00edas principales para trabajar con concurrencia:</p> <ul> <li><code>threading</code>: crea hilos de software gestionados por el int\u00e9rprete. </li> <li><code>multiprocessing</code>: crea procesos independientes, cada uno con su propio int\u00e9rprete Python.</li> </ul>"},{"location":"TEMA1/Teoria/4.%20Dificil.Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador%20%28copy%29/#ejemplo-tecnico-en-python","title":"Ejemplo t\u00e9cnico en Python","text":"<pre><code>from multiprocessing import Pool, cpu_count\nimport os\n\ndef tarea(id):\n    print(f\"Tarea {id} ejecut\u00e1ndose en PID {os.getpid()}\")\n    # Simulaci\u00f3n de trabajo pesado (CPU-bound)\n    suma = 0\n    for i in range(10**7):\n        suma += i\n    return f\"Tarea {id} termin\u00f3 con suma={suma}\"\n\nif __name__ == \"__main__\":\n    # Detectamos n\u00ba de CPUs l\u00f3gicas (n\u00facleos \u00d7 hilos por n\u00facleo con SMT/HT)\n    hilos_logicos = cpu_count()\n    print(f\"Procesadores l\u00f3gicos detectados: {hilos_logicos}\")\n\n    # Creamos un pool de procesos igual a los hilos l\u00f3gicos de 8 procesos\n    with Pool(processes=hilos_logicos) as pool:\n        resultados = pool.map(tarea, range(8))\n\n    for r in resultados:\n        print(r)\n</code></pre> <p><code>cpu_count()</code></p> <p>Pregunta al sistema operativo cu\u00e1ntos procesadores l\u00f3gicos hay disponibles. Si tienes 4 n\u00facleos con HyperThreading, devuelve 8.</p> <p><code>Pool(processes=hilos_logicos)</code></p> <ul> <li>Crea un conjunto de procesos hijo, tendran PPID del proceso padre.</li> <li>Cada proceso es independiente, con su propio int\u00e9rprete Python y su propio espacio de memoria.</li> <li>El sistema operativo los distribuye entre los n\u00facleos f\u00edsicos y los hilos de hardware.</li> </ul> <p><code>pool.map(tarea, range(8))</code></p> <p>Lanza 8 tareas que se ejecutan concurrentemente. Si tienes 8 procesadores l\u00f3gicos, todas corren a la vez. Si tienes menos , el sistema operativo hace scheduling y las alterna.</p> <p>Como son procesos independientes, aqu\u00ed s\u00ed se aprovechan los varios n\u00facleos de la CPU. Si tu CPU soporta SMT, entonces algunos procesos pueden compartir un n\u00facleo f\u00edsico mediante HyperThreading. Vemos el siguiente ejemplo</p> <pre><code>import threading, queue, time, random\n\nbuffer = queue.Queue(maxsize=5)\n\ndef productor():\n    for i in range(20):\n        item = f\"item-{i}\"\n        buffer.put(item)  # se bloquea si est\u00e1 llena\n        print(f\"[{threading.get_native_id()}] Produjo: {item} (buffer={buffer.qsize()})\")\n        time.sleep(0.1)  # produce muy r\u00e1pido\n\ndef consumidor():\n    for i in range(20):\n        item = buffer.get()  # se bloquea si est\u00e1 vac\u00eda\n        print(f\"[{threading.get_native_id()}] Consumi\u00f3: {item} (buffer={buffer.qsize()})\")\n        time.sleep(0.5)  # consume m\u00e1s lento\n\nif __name__ == \"__main__\":\n    t1 = threading.Thread(target=productor)\n    t2 = threading.Thread(target=consumidor)\n    t1.start()\n    t2.start()\n    t1.join()\n    t2.join()\n</code></pre> <p>El ejemplo anterior (<code>multiprocessing.Pool</code>) usaba procesos, cada uno con su propio espacio de memoria. Este ejemplo usa hilos, comparten memoria, y por eso necesitan sincronizaci\u00f3n.</p>"},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/","title":"4. Teor\u00eda \u2014 Hardware y Software b\u00e1sico de un ordenador.","text":""},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/#que-es-la-ram","title":"\u00bfQu\u00e9 es la RAM?","text":"<p>La RAM es la memoria principal del sistema. Se organiza en direcciones lineales, cada direcci\u00f3n contiene 1 byte. La CPU puede leer o escribir en la RAM mediante el bus de direcciones (dice d\u00f3nde) y el bus de datos (dice qu\u00e9 valor).</p>"},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/#1-que-es-la-cpu","title":"1. \u00bfQu\u00e9 es la CPU?","text":"<p>La CPU (Unidad Central de Procesamiento) es el cerebro del ordenador. Se encarga de ejecutar instrucciones de los programas y procesa datos que se encuentran en la memoria o que recibe de dispositivos de entrada. Est\u00e1 formada por varias subunidades internas, como la unidad aritm\u00e9tico-l\u00f3gica (ALU) y la unidad de control. Los registros son peque\u00f1as \u00e1reas de memoria dentro de la CPU que almacenan temporalmente datos o direcciones. Son mucho m\u00e1s r\u00e1pidos que la RAM y cada registro puede almacenar una cantidad fija de bits, seg\u00fan la arquitectura (8, 16, 32 o 64 bits). </p> <p>La unidad aritm\u00e9tico-l\u00f3gica (ALU) es la parte de la CPU que se encarga de realizar todas las operaciones matem\u00e1ticas y l\u00f3gicas. Por ejemplo, suma, resta, multiplicaci\u00f3n, divisi\u00f3n, as\u00ed como operaciones l\u00f3gicas como AND, OR, XOR o comparaciones entre n\u00fameros. Cada vez que ejecutamos una instrucci\u00f3n como ADD AX, BX, la ALU calcula el resultado de la operaci\u00f3n.</p> <p>Por otro lado, la unidad de control (CU) coordina todo el funcionamiento de la CPU. Su funci\u00f3n principal es decodificar las instrucciones, decidir qu\u00e9 se\u00f1ales enviar a la ALU, a los registros y a los buses de memoria, y controlar el flujo de datos dentro de la CPU.  Gracias a la unidad de control, la CPU sabe qu\u00e9 operaci\u00f3n ejecutar, qu\u00e9 registros usar y cu\u00e1ndo leer o escribir datos en la memoria. La arquitectura que pondremos de ejempo es esta</p> Componente Funci\u00f3n Ejemplo Registros Peque\u00f1as memorias internas, muy r\u00e1pidas, que guardan datos temporales (16, 32 o 64 bits seg\u00fan la arquitectura). <code>MOV AX, 5</code> \u2192 guarda el valor 5 en AX ALU (Unidad Aritm\u00e9tico-L\u00f3gica) Realiza operaciones matem\u00e1ticas y l\u00f3gicas. <code>ADD AX, BX</code> suma AX + BX CU (Unidad de Control) Decide qu\u00e9 debe hacer la CPU en cada ciclo de reloj: - Busca la instrucci\u00f3n en memoria  - La decodifica - Genera se\u00f1ales de control para la ALU, registros y buses - Coordina lectura/escritura en memoria - Cambia el flujo del programa (saltos, interrupciones) <code>MOV AX, [1234h]</code> : la CU ordena leer de memoria y guardar en AX"},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/#11-ejemplo-de-codigo-ya-cargado-en-memoria","title":"1.1 Ejemplo de c\u00f3digo ya cargado en memoria.","text":"<p>En la RAM no se guarda la instrucci\u00f3n como texto, sino en binario (c\u00f3digo m\u00e1quina). Este c\u00f3digo m\u00e1quina se ha cargado gracias a algun programa (como ensamblador), que ha traducido previamente, al compilar, las intrucciones del lenguaje. El compilador o ensamblador traduce  la instrucci\u00f3n del codigo por ejemplo: MOV AX, [1234h] a bytes, por ejemplo:</p> <pre><code>A1 34 12\n</code></pre> <ul> <li><code>A1h</code> = c\u00f3digo de operaci\u00f3n (opcode) para <code>MOV AX</code></li> <li><code>34 12h</code> = el desplazamiento tambi\u00e9n llamado offset</li> </ul> <p>Posteriormente las isntrucciones se dejan en la memoria RAM, por ejemplo, en las siguientes direcciones de memoria (cada direcci\u00f3n ocupa 1 byte)</p> <pre><code>Direcci\u00f3n 20100h: A1h\nDirecci\u00f3n 20101h: 34h\nDirecci\u00f3n 20102h: 12h\n</code></pre>"},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/#12-que-hace-la-unidad-de-control","title":"1.2. \u00bfQu\u00e9 hace la Unidad de Control?","text":"<p>La CU entra en acci\u00f3n en el ciclo de instrucci\u00f3n (fetch-decode-execute):</p>"},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/#a-fetch-traer-la-instruccion","title":"a) Fetch (traer la instrucci\u00f3n)","text":"<p>La CU forma la direcci\u00f3n f\u00edsica  en donde e encontrar\u00e1 el c\u00f3digo. Va a la RAM y lee el primer byte (<code>A1h</code>, que es el c\u00f3digo que debe ejecutar) (Recordamos que en la RAM se guardas bytes).</p> <ol> <li>Sabe que este es el opcode, as\u00ed que consulta su \u201ctabla interna de microc\u00f3digo\u201d para ver qu\u00e9 significa.</li> <li>Ve que debe leer dos bytes m\u00e1s.</li> <li>Incrementa <code>IP</code> (un registro ya nombrado, m\u00e1s tarde entenderemos qu\u00e9 significa) para seguir leyendo: trae esos dos bytes<code>34h 12h</code>.</li> </ol> <p>Ahora la CU tiene la instrucci\u00f3n completa en un registro interno llamado Instruction Register (IR).</p>"},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/#b-decode-decodificar","title":"b) Decode (decodificar)","text":"<p>Recordemos que la instrucci\u00f3n era: <code>MOV AX, [1234h]</code>. La CU analiza <code>A1h</code>, corresponde a <code>MOV AX</code> e interpreta qu\u00e9 debe hacer. Por tanto, la CU convierte la instrucci\u00f3n en se\u00f1ales de control para los dem\u00e1s bloques de la CPU.</p>"},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/#c-execute-ejecutar","title":"c) Execute (ejecutar)","text":"<ol> <li>La CU env\u00eda la orden a la Unidad de Direcci\u00f3n: Calcula la direcci\u00f3n f\u00edsica</li> <li> <p>La CU da la orden al bus de datos: Traer 16 bits (dos bytes) de esa direcci\u00f3n de memoria, es decir, pasando por la direccion de memoria correspondiente (1 bytes + la siguiente, 1byte)</p> </li> <li> <p>La CU activa la se\u00f1al para que esos 16 bits se carguen en el registro <code>AX</code>.</p> </li> </ol>"},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/#13-cuando-participa-realmente-la-alu","title":"1.3 \u00bfCuando participa realmente la ALU?","text":"<p>En el ejemplo anteriores, la ALU no participa en ninguna de las fases, porque lo \u00fanico que ocurre es mover datos de memoria a un registro. Eso lo resuelven la CU, los buses y la unidad de direccionamiento. Pero cuando la instrucci\u00f3n implica una operaci\u00f3n aritm\u00e9tica (como la siguiente) o l\u00f3gica incluso, entonces s\u00ed la CU tiene que \u201cinvocar\u201d a la ALU.</p> <pre><code>ADD AX, BX\n</code></pre>"},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/#a-fetch","title":"a) Fetch","text":"<p>La CU trae de memoria el opcode correspondiente a ADD (en este caso no sabemos cu\u00e1l es paro da igual). Lo guarda en el registro Instruction Register (IR).</p>"},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/#b-decode","title":"b) Decode","text":"<p>La CU reconoce que es ADD AX, BX y Ttaduce esto en micro\u00f3rdenes:</p> <ol> <li>Cargar el contenido de AX en una entrada de la ALU.</li> <li>Cargar el contenido de BX en la otra entrada de la ALU.</li> <li>Configurar la ALU en modo \u201csuma\u201d.</li> </ol>"},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/#c-execute","title":"c) Execute","text":"<p>La ALU realiza la suma AX + BX. El resultado se coloca en AX y la ALU actualiza las banderas (ZF, CF, OF, etc, que son otros registros) seg\u00fan el resultado de la operaci\u00f3n. Estas banderas no son m\u00e1s que registros que obtienen valores seg\u00fan el resultado de la operaci\u00f3n realizada, por ejemplo:</p> <ol> <li> <p>Se activa (ZF=1) cuando el resultado de una operaci\u00f3n es cero.</p> </li> <li> <p>Si el resultado no es cero: ZF=0.</p> </li> </ol> <p>Aqu\u00ed la CU no hace la operaci\u00f3n matem\u00e1tica, solo env\u00eda las se\u00f1ales: \u201cALU, suma estos dos valores y guarda el resultado en AX\u201d.</p>"},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/#2-la-arquitectura-de-von-neumann-en-el-diseno-de-un-ordenador","title":"2. La arquitectura de von Neumann en el dise\u00f1o de un ordenador","text":"<p>La arquitectura de von Neumann fue propuesta en 1945 por el matem\u00e1tico John von Neumann (junto con otros como Mauchly y Eckert, quienes trabajaron en la ENIAC). Su idea b\u00e1sica fue unificar memoria y programa. Tiene mucha relaci\u00f3n con lo ya explicado. En m\u00e1quinas anteriores (como ENIAC), los programas se cableaban f\u00edsicamente. Von Neumann propuso almacenar instrucciones y datos en la misma memoria, de forma que el computador pudiera modificarse simplemente cargando otro programa.</p>"},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/#componentes-basicos","title":"Componentes b\u00e1sicos","text":"<p>La arquitectura cl\u00e1sica se compone de 5 bloques fundamentales: 1. Unidad de procesamiento central (CPU)    - Unidad de control (CU): interpreta las instrucciones y genera se\u00f1ales para coordinar todo el hardware.    - ALU (Arithmetic Logic Unit): ejecuta operaciones aritm\u00e9ticas (suma, resta, AND, OR, desplazamientos\u2026).    - Registros: peque\u00f1as memorias internas muy r\u00e1pidas que almacenan datos temporales, direcciones, contadores.    - Contador de programa (PC o IP): apunta siempre a la pr\u00f3xima instrucci\u00f3n. 2. Memoria principal (RAM)    - Contiene instrucciones y datos en la misma estructura lineal de direcciones.    - Cada direcci\u00f3n apunta a una celda de memoria (generalmente un byte).    - El programa y los datos est\u00e1n mezclados, diferenciados solo por c\u00f3mo los usa la CPU. 3. Dispositivos de entrada    - Permiten cargar datos en la computadora (teclado, lector de tarjetas perforadas en esa \u00e9poca). 4. Dispositivos de salida    - Permiten ver los resultados (impresora, pantalla, etc.). 5. Buses de comunicaci\u00f3n    - Bus de direcciones: la CPU indica en qu\u00e9 celda de memoria quiere leer/escribir.    - Bus de datos: transporta la informaci\u00f3n le\u00edda o escrita.    - Bus de control: se\u00f1ales de sincronizaci\u00f3n (lectura/escritura, interrupciones, etc.).</p>"},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/#ciclo-basico-ciclo-de-instruccion","title":"Ciclo b\u00e1sico (ciclo de instrucci\u00f3n)","text":"<p>El \u201clatido\u201d de un computador von Neumann es el ciclo fetch\u2013decode\u2013execute (os debe sonar de lo explicado en el punto anterior):</p> <ol> <li>Fetch (captura):</li> <li>El PC \u00f3 IP (Instruction Pointer en x86) da la direcci\u00f3n de la pr\u00f3xima instrucci\u00f3n.</li> <li>La CPU la solicita a memoria a trav\u00e9s del bus de direcciones. El contenido de esa direcci\u00f3n (un c\u00f3digo m\u00e1quina) llega por el bus de datos a la CPU.</li> <li>Decode (decodificaci\u00f3n):</li> <li>La unidad de control interpreta ese c\u00f3digo binario y decide qu\u00e9 operaci\u00f3n ejecutar y qu\u00e9 recursos activar (ALU, registros, acceso a memoria).</li> <li>Execute (ejecuci\u00f3n):</li> <li>Se realiza la operaci\u00f3n: suma, movimiento de datos, salto, etc. Si el resultado debe almacenarse en memoria o un registro, se hace ahora.</li> <li>Update (actualizaci\u00f3n):</li> <li>Se incrementa el PC (IP en x86) para apuntar a la siguiente instrucci\u00f3n. El ciclo vuelve al paso 1.</li> </ol> <p>Este proceso ocurre miles de veces por segundo en un 8086 y millones/miles de millones en procesadores modernos.</p>"},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/#3-nucleos-y-threads-hilos","title":"3. N\u00facleos y threads (hilos)","text":""},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/#31-cpu","title":"3.1 CPU","text":"<p>Una CPU lo \u00fanico que sabe hacer es ejecutar instrucciones: sumar, restar, mover datos, saltar a otra parte del programa\u2026, un programa normal est\u00e1 compuesto por miles o millones de estas instrucciones que se ejecutan una tras otra. </p> <ol> <li>Un programa es un conjunto finito y ordenado de instrucciones codificadas, escritas en un lenguaje de programaci\u00f3n y almacenadas en un archivo ejecutable o script.</li> </ol> <p>Ese archivo define qu\u00e9 hacer, pero no lo est\u00e1 haciendo hasta que se carga en memoria. Contiene:</p> <ul> <li> <p>C\u00f3digo: secuencia de instrucciones m\u00e1quina.</p> </li> <li> <p>Datos est\u00e1ticos: constantes, literales, recursos.</p> </li> <li> <p>Estructuras de estado inicial: tablas de s\u00edmbolos, direcciones de memoria preasignadas, etc</p> <p>Cuando lo cargas y el sistema operativo lo arranca, se convierte en un proceso.</p> </li> <li> <p>Un proceso es una instancia en ejecuci\u00f3n de un programa, gestionada por el sistema operativo. Se le asignan recursos: espacio de direcciones en memoria, descriptores de archivos, registros de CPU, hilos de ejecuci\u00f3n. Mantiene un contexto de ejecuci\u00f3n: Contador de programa (PC), Instrunction pointer (visto antes y ten\u00e9is que saber qu\u00e9 es), registros de CPU, pila (stack) e informaci\u00f3n de planificaci\u00f3n (prioridad, estado de bloqueo/ejecuci\u00f3n). Aqu\u00ed ya adquiere un contexto de ejecuci\u00f3n (memoria asignada, hilos, registros inicializados\u2026). </p> </li> <li> <p>Un demonio es un tipo especial de proceso en sistemas tipo Unix/Linux que: </p> </li> </ul> <p>Se ejecuta en segundo plano y no est\u00e1 asociado a un terminal ni a la interacci\u00f3n directa del usuario. Normalmente se inicia al arrancar el sistema y permanece activo para proporcionar servicios al sistema o a otros procesos. Uno de los m\u00e1s comunes que utilizaremos ser\u00e1 cron. cron = \u201creloj despertador\u201d que ejecuta tareas a horas programadas.</p>"},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/#32-flujo-de-ejecucion","title":"3.2 Flujo de ejecuci\u00f3n","text":"<p>Un flujo de ejecuci\u00f3n es simplemente una secuencia de instrucciones que se ejecutan una detr\u00e1s de otra. Si tuvieras una CPU muy simple, solo podr\u00edas ejecutar un flujo de ejecuci\u00f3n a la vez: empieza en la instrucci\u00f3n 1, luego la 2, la 3\u2026 y as\u00ed hasta terminar. </p>"},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/#33-core","title":"3.3 Core","text":"<p>Un n\u00facleo de CPU es una unidad de procesamiento completa dentro de un chip. Lo puedes imaginar como un procesador independiente que forma parte de un procesador m\u00e1s grande (multi-core).</p> <p>Cada n\u00facleo puede ejecutar su propio flujo de instrucciones (hilo, ver siguiente definici\u00f3n) de manera independiente, porque tiene sus propios componentes internos</p> <ul> <li>Tiene su propia ALU (suma/resta), FPU (coma flotante), CU (Control Unit) pila de ejecuci\u00f3n.</li> <li>Si tienes 1 n\u00facleo, solo puede ejecutar un hilo a la vez. Si tienes 4 n\u00facleos, puede ejecutar 4 hilos a la vez de verdad, porque son 4 bloques f\u00edsicos de ejecuci\u00f3n.</li> </ul> <p>Cada n\u00facleo de CPU no solo tiene sus unidades de c\u00e1lculo, tambi\u00e9n cuenta con memoria cach\u00e9, para reducir la latencia al acceder a datos e instrucciones y no tener que pasar por la ram:</p> <ul> <li> <p>Cach\u00e9 L1: La m\u00e1s peque\u00f1a  y la m\u00e1s r\u00e1pida. Se divide en dos: L1 Data Cache (para datos) y L1 Instruction Cache (para instrucciones). Est\u00e1 dentro del n\u00facleo.</p> </li> <li> <p>Cach\u00e9 L2: M\u00e1s grande y un poco m\u00e1s lenta que L1. Tambi\u00e9n suele ser privada de cada n\u00facleo.</p> </li> <li> <p>Cach\u00e9 L3: Es compartida entre todos los n\u00facleos de un mismo procesador. Sirve de \u201calmac\u00e9n com\u00fan\u201d para coordinar la informaci\u00f3n entre n\u00facleos.</p> </li> </ul>"},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/#34-thread-hilo","title":"3.4 Thread. Hilo","text":"<p>U\u00e7n hilo es un flujo de ejecuci\u00f3n con su propio contexto:</p> <ul> <li> <p>Tiene su propio contador de programa (sabe en qu\u00e9 instrucci\u00f3n va). El contador de programa es un registro especial de la CPU que contiene la direcci\u00f3n de memoria de la siguiente instrucci\u00f3n que se debe ejecutar, adem\u00e1s, tiene su propio conjunto de registros  (los registros f\u00edsicos est\u00e1n en el n\u00facleo del procesador)</p> </li> <li> <p>Tambi\u00e9n, puede avanzar de manera independiente respecto a otros hilos. Es importante recalcar que los hilos viven dentro de un proceso. Comparten la misma memoria y recursos del proceso padre, como: variables globales, archivos abiertos, etc. Adem\u00e1s, los hilos posee distintos estados de ejecuci\u00f3n: listo, en espera, ejecutando, bloqueado, etc. Como ya hemos dicho, cada hilo tiene su propio contador de programa y pila, as\u00ed que pueden ejecutar partes diferentes del c\u00f3digo al mismo tiempo. Como comparten memoria, deben usar mecanismos de sincronizaci\u00f3n (locks, sem\u00e1foros, colas seguras, lo vemos en el ejemplo de python) </p> </li> </ul> <p>Eso significa que dentro de un mismo programa puedes tener varios hilos que hacen cosas distintas \"en paralelo\".</p>"},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/#35-hyperthreading-smt","title":"3.5 HyperThreading / SMT","text":"<p>Los ingenieros se dieron cuenta de que un n\u00facleo muchas veces est\u00e1 \"vago\" esperando datos de la RAM o de un disco. Para no perder tiempo, dise\u00f1aron un mecanismo donde un n\u00facleo puede mantener dos contextos de hilos (dos contadores de programa, dos juegos de registros) y alternar instrucciones de ambos. As\u00ed, un \u00fanico n\u00facleo \u201cfinge\u201d ser dos hilos l\u00f3gicos y para el sistema operativo, parece que hay 2 procesadores. En realidad, los dos comparten el mismo hardware y compiten por recurso</p> <p>Distinguimos pues, dos tipos de n\u00facleos:</p> <ul> <li>N\u00facleo f\u00edsico: lo que acabamos de describir. Es hardware real, con todos esos componentes.</li> <li>N\u00facleo l\u00f3gico (SMT / HyperThreading): un n\u00facleo f\u00edsico que mantiene dos contextos de registros y PC. Permite ejecutar dos hilos de software como si fueran dos CPUs, compartiendo las mismas ALU/FPU.</li> </ul> <p>Un n\u00facleo l\u00f3gico no duplica la ALU, solo aprovecha mejor los tiempos muertos del n\u00facleo f\u00edsico.</p>"},{"location":"TEMA1/Teoria/4.%20Teoria%20%E2%80%94%20Hardware%20y%20Software%20b%C3%A1sico%20de%20un%20ordenador/#36-que-hace-el-programa-firefox","title":"3.6 \u00bfQu\u00e9 hace el programa Firefox?","text":"<p>Cuando ejecutas un programa como Firefox, no se lanza un \u00fanico proceso simple, sino varios procesos diferentes. Hay un proceso principal (PPID), que controla la interfaz y coordina el resto (PID), y despu\u00e9s otros procesos auxiliares: cada pesta\u00f1a suele tener su propio proceso de contenido, existe un proceso para la GPU, otro para plugins, y algunos m\u00e1s para aislamiento y seguridad.</p> <p>Dentro de cada uno de esos procesos, adem\u00e1s, no corre un \u00fanico hilo: se crean m\u00faltiples hilos internos que se encargan de tareas concretas. Por ejemplo, unos hilos gestionan la red, otros se ocupan de renderizar p\u00e1ginas, otros manejan la ejecuci\u00f3n de JavaScript, y otros procesan audio o v\u00eddeo. Todo esto ocurre de forma autom\u00e1tica, aunque el usuario no lo vea. Para comprobar que dicha informaci\u00f3n no es mentira, escribe en el navegador:<code>about:processes</code>. F\u00edjate en un proceso que te llame la atenci\u00f3n y qu\u00e9date con el PID de ese proceso (el numerito que aparece al lado del mismo). Posteriormente, a partir de ese n\u00famero (llamado PID), ejecuta;</p> <p><code>ps -L -p &lt;PID&gt; -o pid,tid,psr,comm</code> </p> <p>Busca informaci\u00f3n sobre lo anterior. \u00bfCuantos hilos corre este proceso? Prueba a matar el proceso que maneja una ventana con:</p> <p><code>kill &lt;PID&gt;</code></p> <p>\u00bfQu\u00e9 es lo que sucede? Esto se ver\u00e1 en la pr\u00e1ctica</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/","title":"Sistemas Operativos","text":""},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#1-objetivos-del-sistema-operativo","title":"1-Objetivos del Sistema Operativo","text":"<p>Desde el punto de vista del usuario, el sistema operativo consiste en una  serie de programas y funciones que ocultan los detalles del  hardware,ofreci\u00e9ndole una v\u00eda sencilla y flexible de acceso al mismo,  teniendo dos objetivos fundamentales:</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#11-seguridad","title":"1.1 Seguridad","text":"<p>El sistema operativo debe actuar contra cualquier manipulaci\u00f3n extra\u00f1a, ya sea accidental o premeditada que pudiera da\u00f1ar la informaci\u00f3n,  perjudicar a otros usuarios o provocar un funcionamiento indeseado del  sistema. Por ejemplo, hay ciertas instrucciones que pueden parar la  m\u00e1quina y otras que realizan operaciones directamente sobre el hardware, que debemos evitar que se utilicen por los programas. Para ello,  algunos sistemas proporcionan dos estados, llamados estado protegido  (Sistema o <code>Kernel</code>), en el cual se ejecuta el sistema operativo, y estado no protegido (Usuario o User), que es el destinado a la ejecuci\u00f3n de los programas de usuario y de aplicaci\u00f3n. De esta  manera se impide que los programas de los usuarios puedan tener contacto directo con el hardware, o puedan forzar un incorrecto funcionamiento  del sistema.</p> <p></p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#12-abstraccion","title":"1.2 Abstracci\u00f3n","text":"<p>La tendencia actual del software y de los lenguajes de programaci\u00f3n es ocultar lo m\u00e1s posible los detalles de m\u00e1s bajo nivel, intentando dar a  los niveles superiores una visi\u00f3n m\u00e1s sencilla, global y abstracta,  ofreci\u00e9ndoles operaciones para manipular dichas estructuras ocultas,  desconociendo por completo la gesti\u00f3n interna de las mismas. Sobre estas estructuras se construyen otras que abstraen a las anteriores, y as\u00ed  sucesivamente. Gracias a la abstracci\u00f3n, los sistemas operativos  enmascaran los recursos f\u00edsicos, permitiendo su manejo con funciones m\u00e1s generales que ocultan las b\u00e1sicas, constituyendo verdaderos recursos  ficticios o virtuales, que mejoran y son m\u00e1s potentes que los f\u00edsicos.  Desde el punto de vista de un programa o usuario, la m\u00e1quina f\u00edsica se  convierte, en una m\u00e1quina extendida, que presenta la ventaja respecto a  la f\u00edsica de ofrecer m\u00e1s funciones de las que normalmente soportar\u00eda  esta \u00faltima. Entre las posibilidades de esto estar\u00edan las carpetas  compartidas, los usuarios de red, las impresoras compartidas, etc.</p> <p></p> <p>Desde el punto de vista del usuario, el sistema operativo  proporciona servicios que no est\u00e1n presentes en la m\u00e1quina subyacente.  Estos servicios incluyen las facilidades de carga y ejecuci\u00f3n de  programas, interacci\u00f3n entre el usuario y los programas, permitiendo que se ejecuten varios al mismo tiempo, gesti\u00f3n de los servicios y  almacenamiento de datos y programas. Como resumen, podemos decir que el sistema operativo  persigue alcanzar la mayor eficiencia posible del hardware y facilitar  el uso del mismo a los usuarios y a las aplicaciones</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#2-funciones-de-los-sistemas-operativos","title":"2. Funciones de los Sistemas Operativos","text":"<p>Las funciones de los sistemas operativos son m\u00faltiples y han evolucionado con los avances de la inform\u00e1tica y el hardware. Sus objetivos principales son administrar los recursos del sistema y ofrecer una interfaz usable para que usuarios y aplicaciones puedan trabajar sin preocuparse de los detalles f\u00edsicos del ordenador.</p> <p>Describimos ahora las funciones m\u00e1s relevantes, con ejemplos concretos en Linux (Bash, herramientas del kernel, Netplan) y en Windows (PowerShell, utilidades del sistema).</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#21-gestion-de-procesos","title":"2.1 Gesti\u00f3n de procesos","text":"<p>Un programa es un conjunto de instrucciones almacenadas en disco; cuando se carga en memoria y se ejecuta, se convierte en uno o varios procesos. El sistema operativo debe crear esos procesos, asignarles CPU, planificarlos seg\u00fan prioridades y finalizarlos cuando terminen.</p> <ul> <li>En Linux, de forma estremadamente escueta (esto es todo un mundo y dedicaremos bastante tiempo a ello) los administradores usan comandos como <code>ps aux</code> para listar procesos, <code>top</code> o <code>htop</code> para monitorizarlos en tiempo real, y <code>kill -9 PID</code> o <code>pkill firefox</code> para terminar procesos bloqueados. (pr\u00e1ctica anterior PID y PPID)</li> <li>En Windows, la forma gr\u00e1fica cl\u00e1sica es el Administrador de Tareas, aunque pero en PowerShell se dispone de un control m\u00e1s t\u00e9cnico: <code>Get-Process firefox</code> lista procesos y <code>Stop-Process -Id 1234</code> permite terminarlos, no veremos esto hasta los terceros y cuartos bloques.</li> </ul>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#22-gestion-de-la-memoria","title":"2.2 Gesti\u00f3n de la memoria","text":"<p>La gesti\u00f3n de memoria, suele ir asociada a la gesti\u00f3n de procesos. Para  ejecutar un proceso es necesario asignarle unas direcciones de memoria  exclusivas para \u00e9l y cargarlo en ellas, cuando el proceso finalice su  ejecuci\u00f3n es necesario liberar las direcciones de memoria que estaba  usando.</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#23-gestion-de-ficheros","title":"2.3 Gesti\u00f3n de ficheros","text":"<p>Un fichero es una abstracci\u00f3n para definir una colecci\u00f3n de informaci\u00f3n no vol\u00e1til. Su objetivo es proporcionar un modelo de trabajo sencillo con  la informaci\u00f3n almacenada en los dispositivos de almacenamiento. Estos  ficheros deben tener espacio asignado en los dispositivos, deben estar  protegidos entre ellos, deben organizarse seg\u00fan unos determinados  esquemas... todo esto es la gesti\u00f3n de ficheros., es decir: un fichero no es \u201cinformaci\u00f3n vaga\u201d, sino una secuencia de bytes con metadatos, almacenada en bloques de un dispositivo y gestionada por el sistema de archivos.</p> <p>En Linux, se utilizan comandos b\u00e1sicos (coreutils): <code>ls</code> para listar, <code>cp</code> para copiar, <code>rm</code> para borrar, y <code>chmod</code> para modificar permisos. La jerarqu\u00eda siempre arranca en <code>/</code>.</p> <p>En Windows, los usuarios suelen usar el Explorador de Archivos, pero con PowerShell se logra lo mismo: <code>Get-ChildItem C:\\Windows</code> (equivalente a <code>ls</code>), <code>Copy-Item</code> o <code>Remove-Item</code>. La jerarqu\u00eda empieza en unidades con letra (<code>C:\\</code>, <code>D:\\</code>).</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#25-gestion-de-la-red","title":"2.5 Gesti\u00f3n de la red","text":"<p>El sistema operativo es el encargado de gestionar los distintos niveles de red, los drivers (controladores) de los dispositivos involucrados en la red, los protocolos de comunicaci\u00f3n, las aplicaciones de red, etc.</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#26-proteccion-y-seguridad","title":"2.6 Protecci\u00f3n y seguridad","text":"<p>Mecanismos para permitir o denegar el acceso a los usuarios y a sus procesos a  determinados recursos (ficheros, dispositivos de E/S, red, etc.).</p> <p>En Linux, el modelo cl\u00e1sico es POSIX: permisos <code>rwx</code> aplicados a propietario, grupo y otros. Solo el administrador (<code>root</code>) puede, por ejemplo, leer <code>/etc/shadow</code> (contrase\u00f1as cifradas). Adem\u00e1s, sistemas como SELinux o AppArmor a\u00f1aden pol\u00edticas m\u00e1s finas de control.</p> <p>En Windows, la seguridad se gestiona con usuarios y grupos, y cada recurso tiene ACLs (Access Control Lists) que permiten un control muy granular. Veremos que PowerShell ofrece cmdlets como <code>Get-Acl</code> para consultar permisos y <code>Set-Acl</code> para modificarlos. Adem\u00e1s, existen mecanismos extra como BitLocker para cifrado de discos o Windows Defender para protecci\u00f3n frente a malware.</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#3-tipos-de-sistemas-operativos","title":"3. Tipos de Sistemas Operativos","text":"<p>Existen muchas categorizaciones, pero una de las m\u00e1s comunes es la de los servicios que ofrece.</p> <p></p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#31-segun-el-numero-de-usuarios","title":"3.1 Seg\u00fan el n\u00famero de usuarios","text":""},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#monousuarios","title":"Monousuarios","text":"<p>Los sistemas operativos monousuarios son aqu\u00e9llos que soportan a un usuario a la vez, sin importar el n\u00famero de procesadores que tenga la  computadora o el n\u00famero de procesos o tareas que el usuario pueda  ejecutar en un mismo instante de tiempo.</p> <p>Sistemas Operativos Monousuario:</p> <ul> <li>MS-DOS (os debe sonar algo del punto anterior)</li> <li>Windows 95</li> <li>Windows 98</li> </ul>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#multiusuario","title":"Multiusuario","text":"<p>Los sistemas operativos multiusuario son capaces de dar servicio a m\u00e1s de  un usuario a la vez, ya sea por medio de varias terminales conectadas a  la computadora o por medio de sesiones remotas en una red de  comunicaciones. No importa el n\u00famero de procesadores en la m\u00e1quina ni el n\u00famero de procesos que cada usuario puede ejecutar simult\u00e1neamente.</p> <p>Sistemas Operativos Multiusuario:</p> <ul> <li>UNIX-GNU/LinuX</li> <li>Windows NT (en adelante), despu\u00e9s hablamos un poco sobre el</li> </ul>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#32-segun-el-numero-de-tareas","title":"3.2 Seg\u00fan el n\u00famero de tareas","text":""},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#monotarea","title":"Monotarea","text":"<p>Los sistemas monotarea son aquellos que s\u00f3lo permiten una tarea a la vez  por usuario. Puede darse el caso de un sistema multiusuario y monotarea, en el cual se admiten varios usuarios al mismo tiempo pero cada uno de  ellos puede estar haciendo solo una tarea a la vez.</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#multitarea","title":"Multitarea","text":"<p>Un sistema operativo multitarea es aqu\u00e9l que le permite al usuario estar  realizando varias labores al mismo tiempo. Por ejemplo, puede estar editando el c\u00f3digo fuente de un programa durante su depuraci\u00f3n mientras  compila otro programa, a la vez que est\u00e1 recibiendo correo electr\u00f3nico  en un proceso en background (segundo plano). Es com\u00fan encontrar en ellos interfaces gr\u00e1ficas orientadas al uso de men\u00fas y el rat\u00f3n, lo cual  permite un r\u00e1pido intercambio entre las tareas para el usuario,  mejorando su productividad.</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#33-sistemas-operativos-distribuidos","title":"3.3 Sistemas Operativos Distribuidos","text":"<p>Un sistema distribuido se define como una colecci\u00f3n de equipos  inform\u00e1ticos separados f\u00edsicamente y conectados entre s\u00ed por una red de  comunicaciones distribuida; cada m\u00e1quina posee sus componentes de  hardware y software de modo que el usuario percibe que existe un solo  sistema (no necesita saber qu\u00e9 cosas est\u00e1n en qu\u00e9 m\u00e1quinas). El usuario  accede a los recursos remotos de la misma manera en que accede a  recursos locales ya que no percibe que existan varios ordenadores, sino  que solo es capaz de ver uno formado por todos los anteriores. Una ventaja fundamental de los sistemas distribuidos, es que permiten  aumentar la potencia del sistema inform\u00e1tico, de modo que 100  ordenadores trabajando en conjunto, permiten formar un \u00fanico ordenador  que ser\u00eda 100 veces m\u00e1s potente que un ordenador convencional.</p> <p>Los sistemas distribuidos son muy confiables, ya que si un componente del sistema se estropea otro componente debe de ser capaz de reemplazarlo, esto se denomina Tolerancia a Fallos.</p> <p>El tama\u00f1o de un sistema distribuido puede ser muy variado, ya sean decenas de hosts (red de \u00e1rea local), centenas de hosts (red de \u00e1rea metropolitana), y miles o millones de hosts (Internet); esto se  denomina escalabilidad. De hecho, si un ordenador formando por un sistema distribuido se queda \u201ccorto\u201d para las necesidades de la  empresa, basta con instalar m\u00e1s.</p> <p>La computaci\u00f3n distribuida ha sido dise\u00f1ada para resolver  problemas demasiado grandes para cualquier supercomputadora y mainframe, mientras se mantiene la flexibilidad de trabajar en m\u00faltiples problemas m\u00e1s peque\u00f1os.</p> <p>Esta forma de computaci\u00f3n se conoce como grid. Los grandes retos de c\u00e1lculo de hoy en d\u00eda, como el descubrimiento de  medicamentos, simulaci\u00f3n de terremotos, inundaciones y otras cat\u00e1strofes naturales,  modelizaci\u00f3n del clima/tiempo, grandes buscadores de internet, el  programa Seti@Home, etc. Son posibles gracias a estos sistemas operativos distribuidos que permiten utilizar la computaci\u00f3n distribuida.</p> <p>El modelo de computaci\u00f3n de ciclos redundantes, tambi\u00e9n conocido como computaci\u00f3n zombi, es el empleado por aplicaciones como Seti@Home, consistente en que un servidor o grupo de servidores distribuyen  trabajo de procesamiento a un grupo de computadoras voluntarias a ceder  capacidad de procesamiento no utilizada. B\u00e1sicamente, cuando dejamos  nuestro ordenador encendido, pero sin utilizarlo, la capacidad de  procesamiento se desperdicia por lo general en alg\u00fan protector de  pantalla, este tipo de procesamiento distribuido utiliza nuestra  computadora cuando nosotros no la necesitamos, aprovechando al m\u00e1ximo la capacidad de procesamiento. La consola PS3 tambi\u00e9n cuenta con una  iniciativa de este tipo.</p> <p>Otro m\u00e9todo similar para crear sistemas de supercomputadoras es el clustering. Un cluster o racimo de computadoras  consiste en un grupo de computadoras de relativo bajo costo conectadas  entre s\u00ed mediante un sistema de red de alta velocidad (gigabit de fibra \u00f3ptica por lo general) y un software que realiza la distribuci\u00f3n de la carga  de trabajo entre los equipos. Por lo general, este tipo de sistemas  cuentan con un centro de almacenamiento de datos \u00fanico. Los clusters  tienen la ventaja de ser sistemas redundantes, si falla un equipo se  resiente un poco la potencia del cluster, pero los dem\u00e1s equipos hacen  que no se note el fallo.</p> <p>Algunos sistemas operativos que permiten realizar clustering o grid, son:</p> <ul> <li>BProc</li> <li>DragonFly BSD</li> <li>G\u00e9nesis</li> <li>Kerrighed</li> <li>Mosix/OpenMosix</li> <li>OpenSSI</li> <li>Plurid</li> </ul> <p>Aunque ojo, la mayor\u00eda de estos ya est\u00e1n en desuso...</p> <p>Un cluster que usamos habitualmente, es el que forma Google. Se estima que en 2010 usaba unos 450.000 ordenadores, distribuidos en  varias sedes por todo el mundo y formando clusters en cada una de dichas sedes.</p> <p>A d\u00eda de hoy, \u00bfcu\u00e1l es la tendencia?</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#4-versiones-en-windows","title":"4. Versiones en Windows","text":"<p>Una vez tenemos claro que tipo de sistema operativo queremos instalar, y  con qu\u00e9 prop\u00f3sito, es necesario hacer un peque\u00f1o estudio de que versi\u00f3n  del mismo es la que m\u00e1s se adecua a nuestras necesidades.</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#41-server","title":"4.1 Server","text":"<p>En los sistemas Windows, si optamos por la familia de sistemas operativos  para servidores, contamos con una serie de versiones que nos ofrecen determinadas opciones y caracter\u00edsticas. Est\u00e1 pensado para servicios de red y empresas, no para uso personal. Se diferencia en que se orienta a roles y caracter\u00edsticas como: Active Directory (usuarios y permisos centralizados), servidor web (IIS), DHCP, DNS, Hyper-V para virtualizaci\u00f3n, etc.</p> <p>Puedes instalarlo con interfaz gr\u00e1fica o en Server Core (modo sin GUI).</p> <p> \\</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#42-windows-10","title":"4.2 Windows &lt;= 10","text":"<p>Los sistemas Windows para escritorio han pasado por un mont\u00f3n de versiones, desde Windows 3.11 a Windows 10. Estas versiones han ido apareciendo en el tiempo y su soporte por parte de Microsoft ha ido caducando.</p> <p>Los sistemas Windows de escritorio tienen una historia larga que arranca en los a\u00f1os 80 y que ha pasado por varias generaciones, cada una con sus propios avances y limitaciones. Windows 3.11 (1993) fue el \u00faltimo de la l\u00ednea \u201ccl\u00e1sica\u201d que funcionaba como una interfaz gr\u00e1fica encima de MS-DOS. No era un sistema operativo moderno en s\u00ed mismo, ya que depend\u00eda de DOS para arrancar y para muchas operaciones b\u00e1sicas.</p> <p>Con la llegada de Windows 95 (1995) y Windows 98, Microsoft dio un salto importante: introdujo un escritorio m\u00e1s intuitivo, soporte para plug-and-play y una pila de red mucho m\u00e1s avanzada. Sin embargo, estos sistemas todav\u00eda arrastraban la herencia de DOS y no ofrec\u00edan la estabilidad que hoy se espera en entornos profesionales. En paralelo, Microsoft hab\u00eda creado la familia Windows NT (New Technology), dise\u00f1ada desde cero como un sistema operativo de 32 bits con un kernel moderno, multitarea real y mucho m\u00e1s seguro. De esta rama salieron Windows 2000 y posteriormente Windows XP (2001), que fue la gran unificaci\u00f3n: el mundo dom\u00e9stico y el empresarial pasaron a compartir la misma base tecnol\u00f3gica (NT).</p> <p>A partir de ah\u00ed, todas las versiones de escritorio \u2014Vista, 7, 8, 8.1 y finalmente 10\u2014 se construyeron sobre NT. Algunas fueron m\u00e1s exitosas que otras: Vista fue criticado por su consumo de recursos, mientras que Windows 7 se consolid\u00f3 como un sistema estable y ampliamente adoptado. Windows 8 introdujo la interfaz Metro, pensada para tablets, que no convenci\u00f3 a muchos usuarios, y por eso Windows 8.1 y Windows 10 recuperaron un enfoque m\u00e1s tradicional de escritorio.</p> <p>Ahora bien, cada una de estas versiones tiene un ciclo de vida definido por Microsoft:</p> <ul> <li>Durante el soporte principal, el sistema recibe nuevas funciones, mejoras y actualizaciones de seguridad.</li> <li>Cuando entra en soporte extendido, ya no recibe novedades, pero s\u00ed parches de seguridad cr\u00edticos.</li> <li>Una vez expira ese ciclo (normalmente 10 a\u00f1os desde el lanzamiento), el sistema queda sin soporte, lo que significa que sigue funcionando, pero se vuelve un riesgo de seguridad porque no recibe m\u00e1s actualizaciones.</li> </ul> <p>Por ejemplo:</p> <ul> <li>Windows XP sali\u00f3 en 2001 y estuvo soportado hasta 2014 (13 a\u00f1os en total, con varias pr\u00f3rrogas).</li> <li>Windows 7 sali\u00f3 en 2009 y su soporte finaliz\u00f3 en 2020.</li> <li>Windows 8.1 sali\u00f3 en 2013 y caduc\u00f3 en 2023.</li> </ul> <p>Esto significa que, a d\u00eda de hoy, Microsoft empuja a todos los usuarios hacia Windows 11, que es la versi\u00f3n en activo con soporte completo.</p> <p></p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#43-actualizaciones-de-windows-10","title":"4.3 Actualizaciones de Windows 10","text":"<p>Windows 10 incluye actualizaciones de manera constante, ya veremos m\u00e1s adelante en el m\u00f3dulo porqu\u00e9 se realizan estos cambios, es importante que por  ahora tengamos en cuenta que es conveniente mantener nuestros sistemas  actualizados y que es una buena pr\u00e1ctica revisar las p\u00e1ginas oficiales  de seguridad de los sistemas operativos que tenemos instalados en los  equipos de los que somos responsables.</p> <p>Actualizaciones de Windows 10</p> <p>Con Windows 10, Microsoft introdujo un modelo nuevo llamado Windows as a Service. En lugar de lanzar grandes versiones cada varios a\u00f1os (como ocurr\u00eda con Windows XP, Vista o 7), Windows 10 se manten\u00eda mediante actualizaciones frecuentes: cada mes recib\u00eda parches de seguridad (quality updates) y, adem\u00e1s, dos veces al a\u00f1o llegaban grandes actualizaciones con nuevas funciones (feature updates). Esto ten\u00eda la ventaja de que el sistema siempre pod\u00eda estar al d\u00eda, pero a nivel empresarial generaba bastante tensi\u00f3n, porque las compa\u00f1\u00edas se ve\u00edan obligadas a planificar migraciones casi constantes para no quedarse fuera de soporte.</p> <p>Con Windows 11 Microsoft ajust\u00f3 esa estrategia. El sistema sigue recibiendo parches mensuales de seguridad, igual que Windows 10, pero las grandes actualizaciones con nuevas funciones ya no llegan dos veces al a\u00f1o, sino una vez al a\u00f1o. El cambio parece peque\u00f1o, pero t\u00e9cnicamente es muy relevante: significa que cada versi\u00f3n de Windows 11 tiene un ciclo de soporte m\u00e1s largo (24 meses para Home y Pro, y hasta 36 meses para Enterprise y Education), lo que da m\u00e1s margen a los administradores de sistemas y reduce el riesgo de problemas por actualizaciones demasiado frecuentes.</p> <p>Adem\u00e1s, Windows 11 optimiza la manera en que aplica esas actualizaciones. Los paquetes de actualizaci\u00f3n son m\u00e1s peque\u00f1os, descargan solo lo que realmente ha cambiado y se instalan en segundo plano, con menos reinicios. La idea es que el usuario final note menos interrupciones y que, en entornos corporativos, el despliegue sea m\u00e1s predecible y menos costoso en t\u00e9rminos de ancho de banda y mantenimiento.</p> <p> </p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#44-ediciones-en-windows-11","title":"4.4 Ediciones en Windows 11","text":"<p>En el mundo de Windows para equipos de escritorio y port\u00e1tiles, Microsoft ofrece varias ediciones con diferentes prop\u00f3sitos y niveles de funcionalidad: Home, Pro, Enterprise y Education. Aunque todas comparten el mismo n\u00facleo NT y la base del sistema, lo que cambia son los servicios disponibles y las posibilidades de administraci\u00f3n, especialmente pensadas para distintos tipos de usuarios, desde un particular en su casa hasta una gran empresa con miles de empleados.</p> <p>La versi\u00f3n Home es la m\u00e1s b\u00e1sica, pensada para uso dom\u00e9stico. Tiene todo lo necesario para navegar, instalar aplicaciones, jugar y trabajar de manera general, pero carece de las funciones avanzadas de seguridad y administraci\u00f3n que necesitan las empresas. Por ejemplo, no se puede unir a un dominio de Active Directory, no incluye BitLocker para cifrar discos completos, ni trae Hyper-V para virtualizaci\u00f3n. Tampoco ofrece herramientas de control centralizado como el Editor de Pol\u00edticas de Grupo. Es ideal para un usuario particular, pero insuficiente en entornos corporativos.</p> <p>Un paso m\u00e1s arriba est\u00e1 Windows Pro, la edici\u00f3n orientada a profesionales, usuarios avanzados y peque\u00f1as empresas. Aqu\u00ed ya se pueden unir equipos a un dominio de Active Directory o a Azure AD, lo que permite integrarlos en una red corporativa con usuarios y permisos centralizados. Tambi\u00e9n a\u00f1ade funciones como BitLocker para proteger discos con cifrado, Hyper-V para virtualizaci\u00f3n nativa y Escritorio Remoto en modo servidor, permitiendo conectarse a ese PC desde otro equipo. Adem\u00e1s, Pro incorpora el Editor de Pol\u00edticas de Grupo (GPO), con el que un administrador puede definir configuraciones obligatorias para todos los usuarios. Para tareas de seguridad o pruebas, incluye tambi\u00e9n Windows Sandbox, un entorno aislado donde ejecutar software sospechoso sin poner en riesgo el sistema principal.</p> <p>La edici\u00f3n Enterprise est\u00e1 dise\u00f1ada espec\u00edficamente para grandes organizaciones. Parte de la base de Windows Pro, pero a\u00f1ade un conjunto de servicios mucho m\u00e1s potente para seguridad y administraci\u00f3n centralizada. Entre ellos destacan DirectAccess, que permite a los empleados conectarse de forma remota a la red corporativa sin necesidad de usar una VPN tradicional; AppLocker, que restringe qu\u00e9 aplicaciones se pueden ejecutar en los equipos de la empresa; y tecnolog\u00edas como Device Guard y Credential Guard, que refuerzan la protecci\u00f3n de arranque y las credenciales del usuario mediante virtualizaci\u00f3n. Enterprise tambi\u00e9n incorpora BranchCache, \u00fatil en sucursales o delegaciones con conexiones limitadas, ya que guarda en cach\u00e9 los archivos accedidos con frecuencia para no saturar la red. Adem\u00e1s, en el \u00e1mbito empresarial, la edici\u00f3n Enterprise cuenta con un ciclo de soporte m\u00e1s largo que Home y Pro, lo que significa que las empresas no tienen que actualizar tan seguido.</p> <p>Por \u00faltimo, Windows Education es pr\u00e1cticamente id\u00e9ntico a Enterprise, pero adaptado a instituciones educativas. Mantiene casi todas las capacidades de seguridad y administraci\u00f3n avanzada, pero con licenciamiento y herramientas pensadas para escuelas y universidades, como configuraciones simplificadas para aulas y ordenadores compartidos. De esta forma, un centro educativo puede tener el mismo control y protecci\u00f3n que una gran compa\u00f1\u00eda, pero con condiciones de uso y precios ajustados al \u00e1mbito acad\u00e9mico.</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#5-distribuciones-de-gnulinux","title":"5. Distribuciones de GNU/LinuX","text":"<p>Los sistemas GNU/LinuX son muy variados, ya que multitud de comunidades han realizado sus propias adaptaciones y selecci\u00f3n de aplicaciones que  desean llevar por defecto. Existen multitud de empresas que  utilizan GNU/LinuX, desde Red Hat (IBM), Canonical (Ubuntu), Microsoft, y otras que aunque lo utilizan no ponen su marca en ella, uno de los  ejemplos es Android y Google.</p> <p>El n\u00facleo (LinuX) + Herramientas (GNU) es lo que da lugar al sistema b\u00e1sico sobre el que las distribuciones y empresas trabajan. Un aspecto muy importante a destacar es que GNU/Linux se distribuye principalmente bajo la GPL (Licencia P\u00fablica General de GNU), lo que garantiza la libertad de estudiar, modificar y redistribuir el software. Este modelo ha permitido su adopci\u00f3n masiva y su adaptaci\u00f3n a distintos fines. M\u00e1s tarde veremos c\u00f3mo sucedi\u00f3 esto.</p> <p></p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#51-un-poco-de-historia","title":"5.1 Un poco de historia","text":"<p>Ken Thompson, Dennis Ritchie y otros investigadores de los Bell Labs (AT&amp;T) empezaron a trabajar en un nuevo sistema operativo tras el fracaso de Multics (un proyecto demasiado ambicioso y complejo). En la d\u00e9cada de 1970 <code>UNIX</code> era un sistema operativo no libre o privativo muy popular entre los reducidos usuarios acad\u00e9micos e industriales de la \u00e9poca.</p> <p>Su \u00e9xito es atribuido a :</p> <ul> <li>La portabilidad, arquitectura simple y estabilidad</li> <li>Debido a restricciones legales de AT&amp;T (no pod\u00eda entrar directamente en el mercado de software por su monopolio en telecomunicaciones), UNIX se distribuy\u00f3 a bajo coste o incluso gratis a universidades y centros de investigaci\u00f3n. Esto provoc\u00f3 que Berkeley (Universidad de California) desarrollara sus propias mejoras, as\u00ed naci\u00f3 BSD (Berkeley Software Distribution), que a\u00f1adi\u00f3 el stack TCP/IP y otras innovaciones.</li> <li>Gran parte del \u00e9xito de UNIX se debe a que fue uno de los primeros sistemas operativos reescritos en un lenguaje de alto nivel (C), lo que lo hizo mucho m\u00e1s portable que otros sistemas escritos en ensamblador.</li> <li>Gracias a su distribuci\u00f3n en universidades (ej. Berkeley, MIT), UNIX se convirti\u00f3 en la cuna donde se formaron generaciones de programadores e investigadores que luego impulsaron proyectos libres (GNU, Linux, BSD).</li> </ul>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#52-richard-stallman","title":"5.2 Richard Stallman","text":"<p>Mientras tanto Stallman ven\u00eda de una tradici\u00f3n de programadores completamente distinta en los laboratorios del MIT.</p> <p> </p> <p>Stallman formaba parte del Laboratorio de Inteligencia Artificial del MIT, donde la norma era compartir c\u00f3digo libremente, corregirlo y mejorarlo colectivamente. La transici\u00f3n al software privativo, con restricciones legales y t\u00e9cnicas (como el uso de contrase\u00f1as en sistemas antes abiertos), fue para \u00e9l una ruptura cultural y \u00e9tica. Hacia principios de la d\u00e9cada de 1980 la comunidad hacker del MIT se desmoronaba junto con sus sistemas.</p> <p>Habi\u00e9ndose acostrumbrado a modificar y compartir tales programas en extinci\u00f3n; Stallman asegura que el desarrollo de un sistema operativo libre moderno y port\u00e1til (y con \u00e9ste el lanzamiento del  movimiento del software libre) fue una reacci\u00f3n contra lo que de otra  manera le parec\u00eda un futuro desagradable rodeado de software privativo.</p> <p>En septiembre de 1983 anunci\u00f3 p\u00fablicamente el inicio del proyecto GNU (GNU\u2019s Not Unix), cuyo objetivo era crear un sistema operativo completamente libre, similar a UNIX pero sin restricciones de copyright que limitaran su modificaci\u00f3n y distribuci\u00f3n. Dos a\u00f1os despu\u00e9s fund\u00f3 la Free Software Foundation (FSF), que proporcion\u00f3 la infraestructura organizativa y legal para impulsar el software libre. Aqu\u00ed tambi\u00e9n se redactaron licencias clave, como la GPL (GNU General Public License), creada por Richard Stallman y la Free Software Foundation en 1989, que garantizaba la libertad de uso, modificaci\u00f3n y redistribuci\u00f3n del software.</p> <p>Se desarrollaron herramientas esenciales que hoy en d\u00eda siguen siendo pilares del software libre:</p> <ul> <li>Bash (Bourne Again Shell)</li> <li>Bibliotecas C (glibc)</li> <li>Utilidades del sistema (coreutils)</li> </ul> <p>La pieza que faltaba: el kernel: aunque GNU logr\u00f3 casi todo el ecosistema de herramientas, le faltaba un n\u00facleo libre. El intento inicial, GNU Hurd, no alcanz\u00f3 la madurez en ese momento. Esta ausencia abri\u00f3 el camino a la uni\u00f3n con el n\u00facleo Linux creado por Linus Torvalds en 1991, lo que permiti\u00f3 el nacimiento de los sistemas GNU/Linux modernos.</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#53-linus-torvalds","title":"5.3 Linus Torvalds","text":"<p>Armado con las herramientas de GNU, en 1991 Linus Torvalds empez\u00f3 a escribir  el n\u00facleo Linux inspirado en el libro de Minix de Andrew Tanenbaum (otro de los grandes).</p> <p> </p> <p>En sus primeros anuncios p\u00fablicos Torvalds le atribu\u00eda su  acci\u00f3n a la frustraci\u00f3n de no poder usar Minix comercialmente, y a la  ausencia de n\u00facleos libres tipo Unix como GNU Hurd o el de BSD. A pesar de sus desacuerdos suscitados a ra\u00edz de la publicaci\u00f3n de Linux, tanto  Torvalds como Tanenbaum pronosticaban que el superior n\u00facleo de GNU  eventualmente dejar\u00eda obsoletos a Linux y Minix.</p> <p>En 1992 Torvalds decidi\u00f3 cambiar la licencia no comercial  de Linux a la GPL. R\u00e1pidamente, m\u00faltiples programadores se unieron en el desarrollo, colaborando a trav\u00e9s de Internet y consiguiendo que  paulatinamente Linux fuera m\u00e1s serio, potente y compatible con UNIX.</p> <p>Linux fue combinado con el resto del sistema GNU,  resultando en un sistema operativo libre y completamente funcional que  sigue us\u00e1ndose al d\u00eda de hoy y en completa expansi\u00f3n. La combinaci\u00f3n es conocida como \"GNU/Linux\" o como una \"distribuci\u00f3n Linux\" y existen diversas variantes.</p> <ul> <li>Slackware (1993): una de las primeras distros ampliamente usadas.</li> <li>Debian (1993): pionera en organizaci\u00f3n comunitaria y en el sistema de paquetes <code>.deb</code>.</li> <li>Red Hat (1994): primera gran distribuci\u00f3n comercial, enfocada en empresas.</li> <li>Estas distribuciones empaquetaban:</li> <li>Kernel Linux</li> <li>Herramientas GNU (bash, gcc, coreutils, glibc)</li> <li>Instaladores, configuraciones, y software adicional</li> </ul> <p>A lo largo del m\u00f3dulo, veremos muchas veces <code>GNU/LinuX</code> y <code>LinuX</code> solo, pido disculpas a los puristas que puedan leer esta documentaci\u00f3n. La nomenclatura <code>correcta</code> es GNU/LinuX.</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#54-distribuciones-y-familias","title":"5.4 Distribuciones y familias","text":"<p>Cuando una distribuci\u00f3n se basa en una anterior, lo que normalmente <code>adopta</code> es la manera de empaquetar y distribuir las aplicaciones que hace disponibles para los usuarios. Por ejemplo, las basadas en Debian, siguen utilizando <code>.deb</code> como paquetes de instalaci\u00f3n, as\u00ed como repositorios que disponen de esos debs de una determinada estructura.</p> <p> </p> <p>Cuando hablamos de distribuciones GNU/Linux famosas como Debian, Ubuntu, Fedora, Red Hat, openSUSE, Arch Linux o Alpine, en realidad estamos viendo distintas formas de empaquetar y mantener el mismo n\u00facleo Linux con herramientas GNU y software adicional. Cada una de estas distribuciones tiene un prop\u00f3sito y una filosof\u00eda distinta. Por ejemplo, Debian es reconocida por su estabilidad y por ser la base de otras muchas distribuciones, mientras que Ubuntu busca un equilibrio entre facilidad de uso y soporte comercial. Fedora se centra en ser vanguardista y probar tecnolog\u00edas nuevas antes de que lleguen a Red Hat Enterprise Linux, que es la opci\u00f3n empresarial con soporte a largo plazo. openSUSE, por su parte, destaca por sus herramientas de administraci\u00f3n (como YaST) y por ofrecer tanto una versi\u00f3n estable (Leap) como una rolling release (Tumbleweed). Arch Linux sigue la filosof\u00eda KISS (Keep It Simple, Stupid), ofreciendo al usuario control total con un sistema rolling release muy personalizable, y Alpine Linux se ha hecho popular en contenedores Docker por ser extremadamente ligera y segura al basarse en musl libc y BusyBox en lugar de glibc y coreutils.</p> <p>A nivel t\u00e9cnico, lo que diferencia a estas familias suele ser el sistema de gesti\u00f3n de paquetes y repositorios (deb/apt en Debian/Ubuntu, rpm/dnf en Fedora/Red Hat, pacman en Arch, zypper en openSUSE), el ciclo de actualizaciones (fijo vs. rolling release) y la orientaci\u00f3n del proyecto (comunidad, empresa, servidores, escritorio, contenedores, etc.).</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#55-no-todo-es-gnulinux","title":"5.5 No todo es GNU/Linux","text":"<p>Pero no todo lo que viene de UNIX hoy en d\u00eda lleva kernel Linux. Existen sistemas operativos Unix-like que siguen en uso y que derivan directamente de la tradici\u00f3n BSD, no de Linux. Los m\u00e1s conocidos son:</p> <ul> <li>FreeBSD: muy usado en servidores de alto rendimiento, almacenamiento en red y sistemas embebidos. De hecho, Netflix y WhatsApp utilizan FreeBSD en sus infraestructuras.</li> <li>OpenBSD: famoso por su enfoque en seguridad y criptograf\u00eda. De aqu\u00ed salen proyectos como OpenSSH, que hoy se usa en pr\u00e1cticamente todos los sistemas Linux y Unix.</li> <li>NetBSD: conocido por su portabilidad, puede ejecutarse en arquitecturas de hardware muy diversas, desde PCs modernos hasta consolas antiguas o sistemas embebidos.</li> <li>DragonFly BSD: un descendiente m\u00e1s reciente, centrado en rendimiento y escalabilidad en sistemas multiprocesador.</li> </ul> <p>El mundo de las distribuciones es muy complejo, y toca  estar al dia de los movimientos de las comunidades y empresas que  soportan estas distribuciones. Aqui adjunto un enlace a las distribuciones de GNU/LinuX m\u00e1s famosas:</p> <p>Distribuciones</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#55-distribuciones-famosas","title":"5.5 Distribuciones Famosas","text":""},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#debian","title":"Debian","text":"<p> \\</p> <p>Debian</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#ubuntu","title":"Ubuntu","text":"<p> \\</p> <p>Ubuntu</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#fedora","title":"Fedora","text":"<p> \\</p> <p>Fedora</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#redhat","title":"RedHat","text":"<p> \\</p> <p>Red Hat</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#opensuse","title":"OpenSuse","text":"<p>OpenSuse</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#archlinux","title":"Archlinux","text":"<p> \\</p> <p>ArchLinux</p>"},{"location":"TEMA1/Teoria/5.%20Dificl%20Teor%C3%ADa%20Sistemas%20Operativos%20%28copy%29/#alpine","title":"Alpine","text":"<p> \\</p> <p>Alpine</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/","title":"Sistemas Operativos","text":""},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#1-objetivos-del-sistema-operativo","title":"1-Objetivos del Sistema Operativo","text":"<p>Desde el punto de vista del usuario, el sistema operativo consiste en una  serie de programas y funciones que ocultan los detalles del  hardware,ofreci\u00e9ndole una v\u00eda sencilla y flexible de acceso al mismo,  teniendo dos objetivos fundamentales:</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#11-seguridad","title":"1.1 Seguridad","text":"<p>El sistema operativo debe actuar contra cualquier manipulaci\u00f3n extra\u00f1a, ya sea accidental o premeditada que pudiera da\u00f1ar la informaci\u00f3n,  perjudicar a otros usuarios o provocar un funcionamiento indeseado del  sistema. Por ejemplo, hay ciertas instrucciones que pueden parar la  m\u00e1quina y otras que realizan operaciones directamente sobre el hardware, que debemos evitar que se utilicen por los programas. Para ello,  algunos sistemas proporcionan dos estados, llamados estado protegido  (Sistema o <code>Kernel</code>), en el cual se ejecuta el sistema operativo, y estado no protegido (Usuario o User), que es el destinado a la ejecuci\u00f3n de los programas de usuario y de aplicaci\u00f3n. De esta  manera se impide que los programas de los usuarios puedan tener contacto directo con el hardware, o puedan forzar un incorrecto funcionamiento  del sistema.</p> <p></p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#12-abstraccion","title":"1.2 Abstracci\u00f3n","text":"<p>La tendencia actual del software y de los lenguajes de programaci\u00f3n es ocultar lo m\u00e1s posible los detalles de m\u00e1s bajo nivel, intentando dar a  los niveles superiores una visi\u00f3n m\u00e1s sencilla, global y abstracta,  ofreci\u00e9ndoles operaciones para manipular dichas estructuras ocultas,  desconociendo por completo la gesti\u00f3n interna de las mismas. Sobre estas estructuras se construyen otras que abstraen a las anteriores, y as\u00ed  sucesivamente. Gracias a la abstracci\u00f3n, los sistemas operativos  enmascaran los recursos f\u00edsicos, permitiendo su manejo con funciones m\u00e1s generales que ocultan las b\u00e1sicas, constituyendo verdaderos recursos  ficticios o virtuales, que mejoran y son m\u00e1s potentes que los f\u00edsicos.  Desde el punto de vista de un programa o usuario, la m\u00e1quina f\u00edsica se  convierte, en una m\u00e1quina extendida, que presenta la ventaja respecto a  la f\u00edsica de ofrecer m\u00e1s funciones de las que normalmente soportar\u00eda  esta \u00faltima. Entre las posibilidades de esto estar\u00edan las carpetas  compartidas, los usuarios de red, las impresoras compartidas, etc.</p> <p></p> <p>Desde el punto de vista del usuario, el sistema operativo  proporciona servicios que no est\u00e1n presentes en la m\u00e1quina subyacente.  Estos servicios incluyen las facilidades de carga y ejecuci\u00f3n de  programas, interacci\u00f3n entre el usuario y los programas, permitiendo que se ejecuten varios al mismo tiempo, gesti\u00f3n de los servicios y  almacenamiento de datos y programas. Como resumen, podemos decir que el sistema operativo  persigue alcanzar la mayor eficiencia posible del hardware y facilitar  el uso del mismo a los usuarios y a las aplicaciones</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#2-funciones-de-los-sistemas-operativos","title":"2. Funciones de los Sistemas Operativos","text":"<p>Las funciones de los sistemas operativos son m\u00faltiples y han evolucionado con los avances de la inform\u00e1tica y el hardware. Sus objetivos principales son administrar los recursos del sistema y ofrecer una interfaz usable para que usuarios y aplicaciones puedan trabajar sin preocuparse de los detalles f\u00edsicos del ordenador.</p> <p>Describimos ahora las funciones m\u00e1s relevantes, con ejemplos concretos en Linux (Bash, herramientas del kernel, Netplan) y en Windows (PowerShell, utilidades del sistema).</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#21-gestion-de-procesos","title":"2.1 Gesti\u00f3n de procesos","text":"<p>Un programa es un conjunto de instrucciones almacenadas en disco; cuando se carga en memoria y se ejecuta, se convierte en uno o varios procesos. El sistema operativo debe crear esos procesos, asignarles CPU, planificarlos seg\u00fan prioridades y finalizarlos cuando terminen.</p> <ul> <li>En Linux, de forma estremadamente escueta (esto es todo un mundo y dedicaremos bastante tiempo a ello) los administradores usan comandos como <code>ps aux</code> para listar procesos, <code>top</code> o <code>htop</code> para monitorizarlos en tiempo real, y <code>kill -9 PID</code> o <code>pkill firefox</code> para terminar procesos bloqueados. (pr\u00e1ctica anterior PID y PPID)</li> <li>En Windows, la forma gr\u00e1fica cl\u00e1sica es el Administrador de Tareas, aunque pero en PowerShell se dispone de un control m\u00e1s t\u00e9cnico: <code>Get-Process firefox</code> lista procesos y <code>Stop-Process -Id 1234</code> permite terminarlos, no veremos esto hasta los terceros y cuartos bloques.</li> </ul>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#22-gestion-de-la-memoria","title":"2.2 Gesti\u00f3n de la memoria","text":"<p>La gesti\u00f3n de memoria, suele ir asociada a la gesti\u00f3n de procesos. Para  ejecutar un proceso es necesario asignarle unas direcciones de memoria  exclusivas para \u00e9l y cargarlo en ellas, cuando el proceso finalice su  ejecuci\u00f3n es necesario liberar las direcciones de memoria que estaba  usando.</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#23-gestion-de-ficheros","title":"2.3 Gesti\u00f3n de ficheros","text":"<p>Un fichero es una abstracci\u00f3n para definir una colecci\u00f3n de informaci\u00f3n no vol\u00e1til. Su objetivo es proporcionar un modelo de trabajo sencillo con  la informaci\u00f3n almacenada en los dispositivos de almacenamiento. Estos  ficheros deben tener espacio asignado en los dispositivos, deben estar  protegidos entre ellos, deben organizarse seg\u00fan unos determinados  esquemas... todo esto es la gesti\u00f3n de ficheros., es decir: un fichero no es \u201cinformaci\u00f3n vaga\u201d, sino una secuencia de bytes con metadatos, almacenada en bloques de un dispositivo y gestionada por el sistema de archivos.</p> <p>En Linux, se utilizan comandos b\u00e1sicos (coreutils): <code>ls</code> para listar, <code>cp</code> para copiar, <code>rm</code> para borrar, y <code>chmod</code> para modificar permisos. La jerarqu\u00eda siempre arranca en <code>/</code>.</p> <p>En Windows, los usuarios suelen usar el Explorador de Archivos, pero con PowerShell se logra lo mismo: <code>Get-ChildItem C:\\Windows</code> (equivalente a <code>ls</code>), <code>Copy-Item</code> o <code>Remove-Item</code>. La jerarqu\u00eda empieza en unidades con letra (<code>C:\\</code>, <code>D:\\</code>).</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#24-gestion-de-la-red","title":"2.4 Gesti\u00f3n de la red","text":"<p>El sistema operativo es el encargado de gestionar los distintos niveles de red, los drivers (controladores) de los dispositivos involucrados en la red, los protocolos de comunicaci\u00f3n, las aplicaciones de red, etc.</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#25-proteccion-y-seguridad","title":"2.5 Protecci\u00f3n y seguridad","text":"<p>Mecanismos para permitir o denegar el acceso a los usuarios y a sus procesos a  determinados recursos (ficheros, dispositivos de E/S, red, etc.).</p> <p>En Linux, el modelo cl\u00e1sico es POSIX: permisos <code>rwx</code> aplicados a propietario, grupo y otros. Solo el administrador (<code>root</code>) puede, por ejemplo, leer <code>/etc/shadow</code> (contrase\u00f1as cifradas). Adem\u00e1s, sistemas como SELinux o AppArmor a\u00f1aden pol\u00edticas m\u00e1s finas de control.</p> <p>En Windows, la seguridad se gestiona con usuarios y grupos, y cada recurso tiene ACLs (Access Control Lists) que permiten un control muy granular. Veremos que PowerShell ofrece cmdlets como <code>Get-Acl</code> para consultar permisos y <code>Set-Acl</code> para modificarlos. Adem\u00e1s, existen mecanismos extra como BitLocker para cifrado de discos o Windows Defender para protecci\u00f3n frente a malware.</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#3-tipos-de-sistemas-operativos","title":"3. Tipos de Sistemas Operativos","text":"<p>Existen muchas categorizaciones, pero una de las m\u00e1s comunes es la de los servicios que ofrece.</p> <p></p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#31-segun-el-numero-de-usuarios","title":"3.1 Seg\u00fan el n\u00famero de usuarios","text":""},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#monousuarios","title":"Monousuarios","text":"<p>Los sistemas operativos monousuarios son aqu\u00e9llos que soportan a un usuario a la vez, sin importar el n\u00famero de procesadores que tenga la  computadora o el n\u00famero de procesos o tareas que el usuario pueda  ejecutar en un mismo instante de tiempo. Sistemas Operativos Monousuario (muy antiguos y en desuso):</p> <ul> <li>MS-DOS (os debe sonar algo del punto anterior)</li> <li>Windows 95</li> <li>Windows 98</li> </ul>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#multiusuario","title":"Multiusuario","text":"<p>Los sistemas operativos multiusuario son capaces de dar servicio a m\u00e1s de  un usuario a la vez, ya sea por medio de varias terminales conectadas a  la computadora o por medio de sesiones remotas en una red de  comunicaciones. No importa el n\u00famero de procesadores en la m\u00e1quina ni el n\u00famero de procesos que cada usuario puede ejecutar simult\u00e1neamente.</p> <p>Sistemas Operativos Multiusuario:</p> <ul> <li>UNIX-GNU/LinuX</li> <li>Windows NT (en adelante), despu\u00e9s hablamos un poco sobre el</li> </ul>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#32-segun-el-numero-de-tareas","title":"3.2 Seg\u00fan el n\u00famero de tareas","text":""},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#monotarea","title":"Monotarea","text":"<p>Los sistemas monotarea son aquellos que s\u00f3lo permiten una tarea a la vez  por usuario. Puede darse el caso de un sistema multiusuario y monotarea, en el cual se admiten varios usuarios al mismo tiempo pero cada uno de  ellos puede estar haciendo solo una tarea a la vez.</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#multitarea","title":"Multitarea","text":"<p>Un sistema operativo multitarea es aqu\u00e9l que le permite al usuario estar  realizando varias labores al mismo tiempo. Por ejemplo, puede estar editando el c\u00f3digo fuente de un programa durante su depuraci\u00f3n mientras  compila otro programa, a la vez que est\u00e1 recibiendo correo electr\u00f3nico  en un proceso en background (segundo plano). Es com\u00fan encontrar en ellos interfaces gr\u00e1ficas orientadas al uso de men\u00fas y el rat\u00f3n, lo cual  permite un r\u00e1pido intercambio entre las tareas para el usuario,  mejorando su productividad.</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#33-sistemas-operativos-distribuidos","title":"3.3 Sistemas Operativos Distribuidos","text":"<p>Un sistema distribuido se define como una colecci\u00f3n de equipos  inform\u00e1ticos separados f\u00edsicamente y conectados entre s\u00ed por una red de  comunicaciones distribuida; cada m\u00e1quina posee sus componentes de  hardware y software de modo que el usuario percibe que existe un solo  sistema (no necesita saber qu\u00e9 cosas est\u00e1n en qu\u00e9 m\u00e1quinas). El usuario  accede a los recursos remotos de la misma manera en que accede a  recursos locales ya que no percibe que existan varios ordenadores, sino  que solo es capaz de ver uno formado por todos los anteriores. Una ventaja fundamental de los sistemas distribuidos, es que permiten  aumentar la potencia del sistema inform\u00e1tico, de modo que 100  ordenadores trabajando en conjunto, permiten formar un \u00fanico ordenador  que ser\u00eda 100 veces m\u00e1s potente que un ordenador convencional.</p> <p>Los sistemas distribuidos son muy confiables, ya que si un componente del sistema se estropea otro componente debe de ser capaz de reemplazarlo, esto se denomina Tolerancia a Fallos.</p> <p>El tama\u00f1o de un sistema distribuido puede ser muy variado, ya sean decenas de hosts (red de \u00e1rea local), centenas de hosts (red de \u00e1rea metropolitana), y miles o millones de hosts (Internet); esto se  denomina escalabilidad. De hecho, si un ordenador formando por un sistema distribuido se queda \u201ccorto\u201d para las necesidades de la  empresa, basta con instalar m\u00e1s.</p> <p>Un m\u00e9todo similar para crear sistemas de supercomputadoras es el clustering. Un cluster o racimo de computadoras  consiste en un grupo de computadoras de relativo bajo costo conectadas  entre s\u00ed mediante un sistema de red de alta velocidad (gigabit de fibra \u00f3ptica por lo general) y un software que realiza la distribuci\u00f3n de la carga  de trabajo entre los equipos. Por lo general, este tipo de sistemas  cuentan con un centro de almacenamiento de datos \u00fanico. Los clusters  tienen la ventaja de ser sistemas redundantes, si falla un equipo se  resiente un poco la potencia del cluster, pero los dem\u00e1s equipos hacen  que no se note el fallo.</p> <p>Algunos sistemas operativos que permiten realizar clustering  son:</p> <ul> <li>DragonFly BSD</li> </ul> <p>\u00f3</p> <ul> <li>Mosix/OpenMosix</li> </ul> <p>Aunque ojo, la mayor\u00eda de estos ya est\u00e1n en desuso debido a la contenerizaci\u00f3n de Docker...</p> <p>Un cluster que usamos habitualmente, es el que forma Google. Se estima que en 2010 usaba unos 450.000 ordenadores, distribuidos en  varias sedes por todo el mundo y formando clusters en cada una de dichas sedes.</p> <p>A d\u00eda de hoy, \u00bfcu\u00e1l es la tendencia? Busca mas \u00ednformaci\u00f3n sobre la contenerizaci\u00f3n comentada.</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#4-versiones-en-windows","title":"4. Versiones en Windows","text":"<p>Una vez tenemos claro que tipo de sistema operativo queremos instalar, y  con qu\u00e9 prop\u00f3sito, es necesario hacer un peque\u00f1o estudio de que versi\u00f3n  del mismo es la que m\u00e1s se adecua a nuestras necesidades.</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#41-server","title":"4.1 Server","text":"<p>En los sistemas Windows, si optamos por la familia de sistemas operativos  para servidores, contamos con una serie de versiones que nos ofrecen determinadas opciones y caracter\u00edsticas. Est\u00e1 pensado para servicios de red y empresas, no para uso personal. Se diferencia en que se orienta a roles y caracter\u00edsticas como: Active Directory (usuarios y permisos centralizados), servidor web (IIS), DHCP, DNS, Hyper-V para virtualizaci\u00f3n, etc. Puedes instalarlo con interfaz gr\u00e1fica o en Server Core (modo sin GUI).</p> <p> \\</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#42-windows-10","title":"4.2 Windows &lt;= 10","text":"<p>Los sistemas Windows para escritorio han pasado por un mont\u00f3n de versiones, desde Windows 3.11 a Windows 10. Estas versiones han ido apareciendo en el tiempo y su soporte por parte de Microsoft ha ido caducando.</p> <p>Los sistemas Windows de escritorio tienen una historia larga que arranca en los a\u00f1os 80 y que ha pasado por varias generaciones, cada una con sus propios avances y limitaciones. Windows 3.11 (1993) fue el \u00faltimo de la l\u00ednea \u201ccl\u00e1sica\u201d que funcionaba como una interfaz gr\u00e1fica encima de MS-DOS.</p> <p>Con la llegada de Windows 95 (1995) y Windows 98, Microsoft dio un salto importante: introdujo un escritorio m\u00e1s intuitivo, soporte para plug-and-play y una pila de red mucho m\u00e1s avanzada. Sin embargo, estos sistemas todav\u00eda arrastraban la herencia de DOS y no ofrec\u00edan la estabilidad que hoy se espera en entornos profesionales. En paralelo, Microsoft hab\u00eda creado la familia Windows NT (New Technology), dise\u00f1ada desde cero como un sistema operativo de 32 bits con un kernel moderno, multitarea real y mucho m\u00e1s seguro. De esta rama salieron Windows 2000 y posteriormente Windows XP (2001), que fue la gran unificaci\u00f3n: el mundo dom\u00e9stico y el empresarial pasaron a compartir la misma base tecnol\u00f3gica (NT).</p> <p>A partir de ah\u00ed, todas las versiones de escritorio \u2014Vista, 7, 8, 8.1 y finalmente 10\u2014 se construyeron sobre NT. </p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#5-distribuciones-de-gnulinux","title":"5. Distribuciones de GNU/LinuX","text":"<p>Los sistemas GNU/LinuX son muy variados, ya que multitud de comunidades han realizado sus propias adaptaciones y selecci\u00f3n de aplicaciones que  desean llevar por defecto. Existen multitud de empresas que  utilizan GNU/LinuX, desde Red Hat (IBM), Canonical (Ubuntu), Microsoft, y otras que aunque lo utilizan no ponen su marca en ella, uno de los  ejemplos es Android y Google.</p> <p>El n\u00facleo (LinuX) + Herramientas (GNU) es lo que da lugar al sistema b\u00e1sico sobre el que las distribuciones y empresas trabajan. Un aspecto muy importante a destacar es que GNU/Linux se distribuye principalmente bajo la GPL (Licencia P\u00fablica General de GNU), lo que garantiza la libertad de estudiar, modificar y redistribuir el software. Este modelo ha permitido su adopci\u00f3n masiva y su adaptaci\u00f3n a distintos fines. M\u00e1s tarde veremos c\u00f3mo sucedi\u00f3 esto.</p> <p></p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#51-un-poco-de-historia","title":"5.1 Un poco de historia","text":"<p>Ken Thompson, Dennis Ritchie y otros investigadores de los Bell Labs (AT&amp;T) empezaron a trabajar en un nuevo sistema operativo tras el fracaso de Multics (un proyecto demasiado ambicioso y complejo). En la d\u00e9cada de 1970 <code>UNIX</code> era un sistema operativo no libre o privativo muy popular entre los reducidos usuarios acad\u00e9micos e industriales de la \u00e9poca.</p> <p>Su \u00e9xito es atribuido a :</p> <ul> <li>La portabilidad, arquitectura simple y estabilidad</li> <li>Debido a restricciones legales de AT&amp;T (no pod\u00eda entrar directamente en el mercado de software por su monopolio en telecomunicaciones), UNIX se distribuy\u00f3 a bajo coste o incluso gratis a universidades y centros de investigaci\u00f3n. Esto provoc\u00f3 que Berkeley (Universidad de California) desarrollara sus propias mejoras, as\u00ed naci\u00f3 BSD (Berkeley Software Distribution), que a\u00f1adi\u00f3 el stack TCP/IP y otras innovaciones.</li> <li>Gran parte del \u00e9xito de UNIX se debe a que fue uno de los primeros sistemas operativos reescritos en un lenguaje de alto nivel (C), lo que lo hizo mucho m\u00e1s portable que otros sistemas escritos en ensamblador.</li> <li>Gracias a su distribuci\u00f3n en universidades (ej. Berkeley, MIT), UNIX se convirti\u00f3 en la cuna donde se formaron generaciones de programadores e investigadores que luego impulsaron proyectos libres (GNU, Linux, BSD).</li> </ul>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#52-richard-stallman","title":"5.2 Richard Stallman","text":"<p>Mientras tanto Stallman ven\u00eda de una tradici\u00f3n de programadores completamente distinta en los laboratorios del MIT.</p> <p> </p> <p>Stallman formaba parte del Laboratorio de Inteligencia Artificial del MIT, donde la norma era compartir c\u00f3digo libremente, corregirlo y mejorarlo colectivamente. La transici\u00f3n al software privativo, con restricciones legales y t\u00e9cnicas (como el uso de contrase\u00f1as en sistemas antes abiertos), fue para \u00e9l una ruptura cultural y \u00e9tica. Hacia principios de la d\u00e9cada de 1980 la comunidad hacker del MIT se desmoronaba junto con sus sistemas.</p> <p>Habi\u00e9ndose acostrumbrado a modificar y compartir tales programas en extinci\u00f3n; Stallman asegura que el desarrollo de un sistema operativo libre moderno y port\u00e1til (y con \u00e9ste el lanzamiento del  movimiento del software libre) fue una reacci\u00f3n contra lo que de otra  manera le parec\u00eda un futuro desagradable rodeado de software privativo.</p> <p>En septiembre de 1983 anunci\u00f3 p\u00fablicamente el inicio del proyecto GNU (GNU\u2019s Not Unix), cuyo objetivo era crear un sistema operativo completamente libre, similar a UNIX pero sin restricciones de copyright que limitaran su modificaci\u00f3n y distribuci\u00f3n. Dos a\u00f1os despu\u00e9s fund\u00f3 la Free Software Foundation (FSF), que proporcion\u00f3 la infraestructura organizativa y legal para impulsar el software libre. Aqu\u00ed tambi\u00e9n se redactaron licencias clave, como la GPL (GNU General Public License), creada por Richard Stallman y la Free Software Foundation en 1989, que garantizaba la libertad de uso, modificaci\u00f3n y redistribuci\u00f3n del software.</p> <p>Se desarrollaron herramientas esenciales que hoy en d\u00eda siguen siendo pilares del software libre:</p> <ul> <li>Bash (Bourne Again Shell)</li> <li>Bibliotecas C (glibc)</li> <li>Utilidades del sistema (coreutils)</li> </ul> <p>La pieza que faltaba: el kernel: aunque GNU logr\u00f3 casi todo el ecosistema de herramientas, le faltaba un n\u00facleo libre. El intento inicial, GNU Hurd, no alcanz\u00f3 la madurez en ese momento. Esta ausencia abri\u00f3 el camino a la uni\u00f3n con el n\u00facleo Linux creado por Linus Torvalds en 1991, lo que permiti\u00f3 el nacimiento de los sistemas GNU/Linux modernos.</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#53-linus-torvalds","title":"5.3 Linus Torvalds","text":"<p>Armado con las herramientas de GNU, en 1991 Linus Torvalds empez\u00f3 a escribir  el n\u00facleo Linux inspirado en el libro de Minix de Andrew Tanenbaum (otro de los grandes).</p> <p> </p> <p>En sus primeros anuncios p\u00fablicos Torvalds le atribu\u00eda su  acci\u00f3n a la frustraci\u00f3n de no poder usar Minix comercialmente, y a la  ausencia de n\u00facleos libres tipo Unix como GNU Hurd o el de BSD. A pesar de sus desacuerdos suscitados a ra\u00edz de la publicaci\u00f3n de Linux, tanto  Torvalds como Tanenbaum pronosticaban que el superior n\u00facleo de GNU  eventualmente dejar\u00eda obsoletos a Linux y Minix.</p> <p>En 1992 Torvalds decidi\u00f3 cambiar la licencia no comercial  de Linux a la GPL. R\u00e1pidamente, m\u00faltiples programadores se unieron en el desarrollo, colaborando a trav\u00e9s de Internet y consiguiendo que  paulatinamente Linux fuera m\u00e1s serio, potente y compatible con UNIX.</p> <p>Linux fue combinado con el resto del sistema GNU,  resultando en un sistema operativo libre y completamente funcional que  sigue us\u00e1ndose al d\u00eda de hoy y en completa expansi\u00f3n. La combinaci\u00f3n es conocida como \"GNU/Linux\" o como una \"distribuci\u00f3n Linux\" y existen diversas variantes.</p> <ul> <li>Slackware (1993): una de las primeras distros ampliamente usadas.</li> <li>Debian (1993): pionera en organizaci\u00f3n comunitaria y en el sistema de paquetes <code>.deb</code>.</li> <li>Red Hat (1994): primera gran distribuci\u00f3n comercial, enfocada en empresas.</li> <li>Estas distribuciones empaquetaban:</li> <li>Kernel Linux</li> <li>Herramientas GNU (bash, gcc, coreutils, glibc)</li> <li>Instaladores, configuraciones, y software adicional</li> </ul> <p>A lo largo del m\u00f3dulo, veremos muchas veces <code>GNU/LinuX</code> y <code>LinuX</code> solo, pido disculpas a los puristas que puedan leer esta documentaci\u00f3n. La nomenclatura <code>correcta</code> es GNU/LinuX.</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#54-distribuciones-y-familias","title":"5.4 Distribuciones y familias","text":"<p>Cuando una distribuci\u00f3n se basa en una anterior, lo que normalmente <code>adopta</code> es la manera de empaquetar y distribuir las aplicaciones que hace disponibles para los usuarios. Por ejemplo, las basadas en Debian, siguen utilizando <code>.deb</code> como paquetes de instalaci\u00f3n, as\u00ed como repositorios que disponen de esos debs de una determinada estructura.</p> <p> </p> <p>Cuando hablamos de distribuciones GNU/Linux famosas como Debian, Ubuntu, Fedora, Red Hat, openSUSE, Arch Linux o Alpine, en realidad estamos viendo distintas formas de empaquetar y mantener el mismo n\u00facleo Linux con herramientas GNU y software adicional. Cada una de estas distribuciones tiene un prop\u00f3sito y una filosof\u00eda distinta. Por ejemplo, Debian es reconocida por su estabilidad y por ser la base de otras muchas distribuciones, mientras que Ubuntu busca un equilibrio entre facilidad de uso y soporte comercial. Fedora se centra en ser vanguardista y probar tecnolog\u00edas nuevas antes de que lleguen a Red Hat Enterprise Linux, que es la opci\u00f3n empresarial con soporte a largo plazo. openSUSE, por su parte, destaca por sus herramientas de administraci\u00f3n (como YaST) y por ofrecer tanto una versi\u00f3n estable (Leap) como una rolling release (Tumbleweed). Arch Linux sigue la filosof\u00eda KISS (Keep It Simple, Stupid), ofreciendo al usuario control total con un sistema rolling release muy personalizable, y Alpine Linux se ha hecho popular en contenedores Docker por ser extremadamente ligera y segura al basarse en musl libc y BusyBox en lugar de glibc y coreutils.</p> <p>A nivel t\u00e9cnico, lo que diferencia a estas familias suele ser el sistema de gesti\u00f3n de paquetes y repositorios (deb/apt en Debian/Ubuntu, rpm/dnf en Fedora/Red Hat, pacman en Arch, zypper en openSUSE), el ciclo de actualizaciones (fijo vs. rolling release) y la orientaci\u00f3n del proyecto (comunidad, empresa, servidores, escritorio, contenedores, etc.).</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#55-no-todo-es-gnulinux","title":"5.5 No todo es GNU/Linux","text":"<p>Pero no todo lo que viene de UNIX hoy en d\u00eda lleva kernel Linux. Existen sistemas operativos Unix-like que siguen en uso y que derivan directamente de la tradici\u00f3n BSD, no de Linux. Los m\u00e1s conocidos son:</p> <ul> <li>FreeBSD: muy usado en servidores de alto rendimiento, almacenamiento en red y sistemas embebidos. De hecho, Netflix y WhatsApp utilizan FreeBSD en sus infraestructuras.</li> <li>OpenBSD: famoso por su enfoque en seguridad y criptograf\u00eda. De aqu\u00ed salen proyectos como OpenSSH, que hoy se usa en pr\u00e1cticamente todos los sistemas Linux y Unix.</li> <li>NetBSD: conocido por su portabilidad, puede ejecutarse en arquitecturas de hardware muy diversas, desde PCs modernos hasta consolas antiguas o sistemas embebidos.</li> <li>DragonFly BSD: un descendiente m\u00e1s reciente, centrado en rendimiento y escalabilidad en sistemas multiprocesador.</li> </ul> <p>El mundo de las distribuciones es muy complejo, y toca  estar al dia de los movimientos de las comunidades y empresas que  soportan estas distribuciones. Aqui adjunto un enlace a las distribuciones de GNU/LinuX m\u00e1s famosas:</p> <p>Distribuciones</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#56-distribuciones-famosas","title":"5.6 Distribuciones Famosas","text":""},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#debian","title":"Debian","text":"<p> \\</p> <p>Debian</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#ubuntu","title":"Ubuntu","text":"<p> \\</p> <p>Ubuntu</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#fedora","title":"Fedora","text":"<p> \\</p> <p>Fedora</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#redhat","title":"RedHat","text":"<p> \\</p> <p>Red Hat</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#opensuse","title":"OpenSuse","text":"<p>OpenSuse</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#archlinux","title":"Archlinux","text":"<p> \\</p> <p>ArchLinux</p>"},{"location":"TEMA1/Teoria/5.%20Teor%C3%ADa%20Sistemas%20Operativos/#alpine","title":"Alpine","text":"<p> \\</p> <p>Alpine</p>"},{"location":"TEMA1/Teoria/6.%20Teor%C3%ADa%3A%20Tipos%20de%20Licencias%20de%20programas%20vs%20Sistemas%20operativos/","title":"6. Teor\u00eda: Tipos de Licencias de programas vs Sistemas operativos","text":""},{"location":"TEMA1/Teoria/6.%20Teor%C3%ADa%3A%20Tipos%20de%20Licencias%20de%20programas%20vs%20Sistemas%20operativos/#1-clasificacion-de-sistemas-operativos-segun-la-licencia","title":"1. Clasificaci\u00f3n de sistemas operativos seg\u00fan la licencia","text":"<p>Los sistemas operativos (SO) se caracterizan por la licencia de uso del usuario final. Esa licencia corresponde al contrato de privacidad, t\u00e9rminos de uso y cualquier otra legislaci\u00f3n que acompa\u00f1a al software.</p> <ul> <li>Licencia OEM (Original Equipment Manufacturer):    Preinstalada en equipos originales por fabricantes como Dell, HP, Lenovo, etc. Puede ser v\u00e1lida solo para ese hardware.</li> <li>Licencia Retail:    Se compra en tienda f\u00edsica o digital. Permite instalar el sistema en distintos equipos (aunque no simult\u00e1neamente) y se activa con una clave.</li> <li>Licencia por volumen:    Pensada para instituciones educativas, administraciones p\u00fablicas o grandes empresas. Permite instalar el mismo SO en muchos equipos gestionados bajo un contrato.</li> <li>Licencia MSDN (Microsoft Developer Network):    Dise\u00f1ada para desarrolladores. Permite acceder a un amplio cat\u00e1logo de software y versiones de sistemas para pruebas y desarrollo.</li> </ul> <p>Nota importante: El tipo de licencia afecta a la legalidad del uso, al soporte t\u00e9cnico recibido y, en ocasiones, a la posibilidad de actualizar el software.</p>"},{"location":"TEMA1/Teoria/6.%20Teor%C3%ADa%3A%20Tipos%20de%20Licencias%20de%20programas%20vs%20Sistemas%20operativos/#2-arquitectura-de-un-sistema-operativo","title":"2. Arquitectura de un sistema operativo","text":"<p>Un sistema operativo tiene una estructura l\u00f3gica por capas que controla, organiza y gestiona los recursos f\u00edsicos y l\u00f3gicos de un sistema inform\u00e1tico. Sus principales componentes son:</p> <ul> <li>Kernel (n\u00facleo):    Gestiona directamente el hardware: CPU, RAM, almacenamiento, dispositivos de entrada/salida. Proporciona abstracci\u00f3n para que el software lo utilice de forma segura, es decir, act\u00faa como intermediario entre el hardware y el espacio de usuario (programas, servicios, shells, etc.).</li> <li>Controladores (drivers):    Software que permite que el SO se comunique con dispositivos concretos (impresoras, tarjetas gr\u00e1ficas, etc.).</li> <li>Servicios del sistema:    Programas que se ejecutan en segundo plano (demonios en Linux) y que gestionan usuarios, accesos, red, archivos y m\u00e1s.</li> <li>Aplicaciones:    Programas que resuelven tareas concretas para el usuario.</li> </ul> <p>Arquitectura representada en capas:  Aplicaciones \u2192 Servicios \u2192 Controladores \u2192 Kernel</p>"},{"location":"TEMA1/Teoria/6.%20Teor%C3%ADa%3A%20Tipos%20de%20Licencias%20de%20programas%20vs%20Sistemas%20operativos/#3-funciones-de-un-sistema-operativo","title":"3. Funciones de un sistema operativo","text":"<p>El sistema operativo debe:</p> <ul> <li>Gestionar usuarios.</li> </ul> <p>El SO permite crear, modificar y eliminar cuentas de usuario. Define qu\u00e9 puede hacer cada uno: administrador (root en Linux, Administrador en Windows) o usuarios normales con permisos limitados. Controla permisos de archivos y directorios (lectura, escritura, ejecuci\u00f3n).</p> <p>-En Linux puedes tener un usuario estudiante sin privilegios, y otro usuario profesor con permisos para instalar software.</p> <ul> <li>Gestionar dispositivos de E/S.</li> </ul> <p>Se encarga de que el software pueda comunicarse con el hardware a trav\u00e9s de drivers (controladores). lSO abstrae la complejidad del hardware: el programa no necesita saber los detalles el\u00e9ctricos de un teclado o de un disco, solo usa funciones est\u00e1ndar. </p> <p>-Cuando guardas un archivo en un USB, el SO coordina la petici\u00f3n, llama al driver del USB y env\u00eda los datos al dispositivo.</p> <ul> <li>Gestionar procesos.</li> </ul> <p>Ya vimos que un proceso (en el punto de teor\u00eda anterior) es un programa en ejecuci\u00f3n, con su memoria, variables y contexto. El SO decide qu\u00e9 procesos se ejecutan, en qu\u00e9 orden y durante cu\u00e1nto tiempo , esto lo hace el planificador (scheduler). El scheduler de Ubuntu (y de cualquier Linux moderno) es el Completely Fair Scheduler (CFS). Es un planificador generalista que reparte la CPU de manera justa entre procesos, aunque tambi\u00e9n existen planificadores en tiempo real. Si hay m\u00e1s procesos que n\u00facleos disponibles, el SO reparte el tiempo entre ellos (multitarea). </p> <p>-Puedes escuchar m\u00fasica en Spotify mientras navegas con Firefox y a la vez compilas un programa en Python \u2192 todos son procesos que el SO coordina.</p> <ul> <li>Gestionar memoria principal.</li> </ul> <p>La RAM es limitada, y el SO decide qu\u00e9 parte se asigna a cada proceso. Evita que un proceso \u201cpise\u201d la memoria de otro. Si falta memoria, el SO usa memoria secundaria (swap) para simular m\u00e1s RAM. </p> <p>-Si tienes abierto un videojuego y a la vez un navegador con muchas pesta\u00f1as, el SO asigna RAM a ambos, pero puede \u201csacar\u201d pesta\u00f1as a disco (swap) cuando no se usan mucho.</p> <ul> <li>Gestionar almacenamiento secundario.</li> </ul> <p>Maneja discos duros, SSDs o cualquier dispositivo donde se almacenen datos de forma persistente, organiza la informaci\u00f3n en sistemas de archivos (NTFS en Windows, ext4 en Linux, APFS en macOS\u2026) y controla qu\u00e9 usuario o proceso puede leer/escribir en cada archivo.</p> <p>-Cuando guardas un documento en Word, el SO traduce esa acci\u00f3n en operaciones concretas sobre el sistema de archivos de tu disco.</p> <ul> <li>Gestionar comunicaciones y red.</li> </ul> <p>Permite que los procesos se comuniquen entre s\u00ed, ya sea en el mismo ordenador o a trav\u00e9s de una red e implementa protocolos de comunicaci\u00f3n (TCP/IP, UDP, HTTP\u2026). Tambi\u00e9n administra interfaces de red (Ethernet, Wi-Fi).</p> <p>-Cuando haces una videollamada por Zoom, el SO se encarga de enviar los datos de tu micr\u00f3fono y c\u00e1mara a trav\u00e9s de Internet y de recibir los de la otra persona.</p> <p>Adem\u00e1s, cumple dos funciones transversales:</p> <ul> <li>Seguridad: proteger los datos y controlar accesos.</li> <li>Abstracci\u00f3n: simplificar la complejidad del hardware ofreciendo una interfaz manejable al usuario.</li> </ul>"},{"location":"TEMA1/Teoria/6.%20Teor%C3%ADa%3A%20Tipos%20de%20Licencias%20de%20programas%20vs%20Sistemas%20operativos/#4-interfaces","title":"4. Interfaces","text":"<p>La interfaz es el medio de comunicaci\u00f3n entre el usuario y el sistema operativo.  Puede ser:</p> <ul> <li>De texto (l\u00ednea de comandos, CLI).</li> <li>Gr\u00e1fica (ventanas, iconos, men\u00fas, puntero).</li> </ul> <p>La calidad de una interfaz afecta directamente a la usabilidad, la eficiencia y la forma en que el usuario percibe el sistema.</p>"},{"location":"TEMA2/Otras_cosas_importantes/","title":"3 Directorios principales desde la ra\u00edz <code>/</code> en Ubuntu","text":"<p>Conviene destacar las siglas FHS (Filesystem Hierarchy Standard) (FHS).</p> <ul> <li><code>/</code> (ra\u00edz)</li> </ul> <p>El directorio <code>/</code>, conocido como ra\u00edz, es el punto de partida de todo el sistema de ficheros en Ubuntu y en cualquier sistema basado en Linux. A diferencia de Windows, que organiza los discos por letras (C:, D:, E:), en Linux todo el sistema de archivos cuelga de un \u00fanico \u00e1rbol que comienza en <code>/</code>. Dentro de la ra\u00edz se montan todas las dem\u00e1s carpetas, discos, dispositivos. Esto significa que, aunque tengas varios discos duros o memorias USB, no aparecer\u00e1n como unidades independientes con letras, sino que se integrar\u00e1n dentro de la jerarqu\u00eda del sistema bajo un directorio espec\u00edfico (por ejemplo, <code>/media/usuario/USB</code>). Es importante aclarar que la ra\u00edz no almacena directamente el \u201cn\u00facleo\u201d del sistema (el kernel est\u00e1 en realidad en <code>/boot</code>), sino que act\u00faa como el contenedor inicial que da acceso a todos los directorios esenciales. En una instalaci\u00f3n t\u00edpica de Ubuntu, la partici\u00f3n ra\u00edz suele contener:</p> <ul> <li>El propio sistema operativo.</li> <li>Todos los directorios principales (<code>/bin</code>, <code>/etc</code>, <code>/home</code>, <code>/var</code>, etc.).</li> <li> <p>Archivos fundamentales de configuraci\u00f3n y bibliotecas compartidas.</p> </li> <li> <p><code>/bin</code></p> </li> </ul> <p>El directorio <code>/bin</code> (abreviatura de binary) contiene los binarios esenciales del sistema, es decir, los programas ejecutables b\u00e1sicos que todo usuario y el propio sistema necesitan para funcionar. Estos comandos est\u00e1n disponibles incluso cuando el sistema est\u00e1 en un estado m\u00ednimo, como en modo de recuperaci\u00f3n, porque son imprescindibles para la administraci\u00f3n y operaci\u00f3n diaria.</p> <p>Dentro de <code>/bin</code> se encuentran utilidades fundamentales como:</p> <ul> <li>Gesti\u00f3n de archivos: <code>ls</code> (listar), <code>cp</code> (copiar), <code>mv</code> (mover/renombrar), <code>rm</code> (eliminar), <code>cat</code> (ver contenido).</li> <li>Manipulaci\u00f3n de texto: <code>echo</code>, <code>grep</code>, <code>more</code>, <code>less</code>.</li> <li>Gesti\u00f3n de directorios: <code>pwd</code> (mostrar ruta actual), <code>mkdir</code> (crear directorios), <code>rmdir</code> (eliminar directorios).</li> <li>Shells: <code>bash</code>, el int\u00e9rprete de comandos m\u00e1s utilizado en Ubuntu.</li> </ul> <p>Un detalle importante es que, en sistemas modernos basados en el Filesystem Hierarchy Standard (FHS), muchas distribuciones han fusionado <code>/bin</code> con <code>/usr/bin</code>. Esto significa que en algunas versiones de Ubuntu los binarios se encuentran f\u00edsicamente en <code>/usr/bin</code>, pero <code>/bin</code> se mantiene como un enlace simb\u00f3lico por compatibilidad con programas antiguos. Ese detalle de la fusi\u00f3n entre <code>/bin</code> y <code>/usr/bin</code> ocurre en muchas distribuciones modernas de Linux, incluyendo Ubuntu desde la versi\u00f3n 16.04 en adelante (aunque se consolid\u00f3 totalmente en Ubuntu 18.04 y posteriores). El proyecto detr\u00e1s de esto se llama \u201cusr merge\u201d.</p> <ul> <li><code>/sbin</code></li> </ul> <p>El directorio <code>/sbin</code> (de system binaries) es el complemento de <code>/bin</code>, pero orientado a la administraci\u00f3n del sistema. Aqu\u00ed se encuentran los programas ejecutables que normalmente no son necesarios para un usuario com\u00fan, sino para el superusuario (root) o administradores que requieren herramientas de bajo nivel para mantener el sistema en funcionamiento.</p> <p>Entre los comandos m\u00e1s representativos que suelen encontrarse en <code>/sbin</code> est\u00e1n:</p> <ul> <li><code>fsck</code> \u2192 comprobar y reparar sistemas de archivos.</li> <li><code>ifconfig</code> o <code>ip</code> \u2192 configurar interfaces de red.</li> <li><code>mount</code> y <code>umount</code> \u2192 montar y desmontar dispositivos.</li> <li><code>shutdown</code> y <code>reboot</code> \u2192 gestionar el apagado y reinicio del sistema.</li> <li><code>mkfs</code> \u2192 crear sistemas de archivos en discos o particiones.</li> </ul> <p>Un detalle importante es que, al igual que ocurri\u00f3 con <code>/bin</code>, muchas distribuciones modernas (incluido Ubuntu desde la versi\u00f3n 18.04 LTS) han fusionado <code>/sbin</code> con <code>/usr/sbin</code> como parte del proyecto usr merge. Esto significa que <code>/sbin</code> ahora suele ser un enlace simb\u00f3lico hacia <code>/usr/sbin</code>, manteni\u00e9ndose \u00fanicamente por compatibilidad con scripts o programas antiguos.</p> <p>Para los usuarios normales, los binarios de <code>/sbin</code> no suelen estar en la variable de entorno PATH por defecto, lo que significa que si intentan ejecutarlos deben especificar la ruta completa (por ejemplo, <code>/sbin/ifconfig</code>). En cambio, el usuario root s\u00ed tiene <code>/sbin</code> en su PATH y puede acceder a estas herramientas directamente. Entramos en mas detalle de lo anterior:</p> <p>En Linux (y en general en sistemas Unix), la variable de entorno <code>PATH</code> es una lista de directorios que la shell revisa autom\u00e1ticamente cuando intentas ejecutar un comando.</p> <p>Por ejemplo:</p> <ul> <li>Si escribes <code>ls</code>, la shell busca <code>ls</code> dentro de todos los directorios definidos en tu <code>PATH</code> (como <code>/bin</code>, <code>/usr/bin</code>, etc.).</li> <li>Si el binario se encuentra en alguno de esos directorios, se ejecuta.</li> <li>Si no est\u00e1 en el <code>PATH</code>, aunque exista en el disco, el sistema no lo encuentra a menos que pongas la ruta completa.</li> </ul> <p>En Linux (y en general en sistemas Unix), la variable de entorno <code>PATH</code> es una lista de directorios que la shell revisa autom\u00e1ticamente cuando intentas ejecutar un comando.</p> <ul> <li><code>/boot</code></li> </ul> <p>El directorio <code>/boot</code> contiene todos los archivos esenciales para el proceso de arranque del sistema operativo. Aqu\u00ed se encuentra el kernel de Linux en forma de archivo ejecutable, acompa\u00f1ado de la imagen de memoria inicial (<code>initramfs</code>), que es un sistema de archivos temporal cargado en memoria al inicio y que permite al kernel acceder a los controladores y m\u00f3dulos necesarios antes de montar el sistema real. Se carga en memoria RAM durante los primeros segundos del arranque de Linux.</p> <p>Tambi\u00e9n en <code>/boot</code> se aloja el cargador de arranque, generalmente GRUB (GRand Unified Bootloader) en el caso de Ubuntu, el cual se encarga de mostrar el men\u00fa de inicio y de cargar el kernel junto con los par\u00e1metros adecuados. Si tienes m\u00e1s de un sistema operativo instalado, GRUB es el que ofrece la posibilidad de elegir entre ellos al encender el ordenador.</p> <p>En la pr\u00e1ctica, sin la carpeta <code>/boot</code>, Ubuntu no podr\u00eda arrancar, ya que el firmware (BIOS o UEFI) no tendr\u00eda forma de acceder al kernel ni al cargador de arranque. Por eso, en muchas configuraciones, sobre todo en servidores o sistemas con cifrado completo, <code>/boot</code> suele colocarse en una partici\u00f3n independiente para garantizar que siempre est\u00e9 accesible en el arranque.</p> <ul> <li><code>/dev</code></li> </ul> <p>El directorio <code>/dev</code> es uno de los m\u00e1s particulares de Linux, ya que contiene los llamados archivos de dispositivo. En este sistema, todo se trata como un archivo: desde un documento hasta un disco duro o un puerto de comunicaci\u00f3n. Esto significa que los dispositivos f\u00edsicos (como discos, impresoras o terminales) y algunos dispositivos virtuales tienen una representaci\u00f3n dentro de <code>/dev</code>.</p> <p>Por ejemplo, un disco duro completo puede aparecer como <code>/dev/sda</code>, y sus particiones como <code>/dev/sda1</code>, <code>/dev/sda2</code>, etc. Tambi\u00e9n existen dispositivos especiales como <code>/dev/null</code>, que funciona como un \u201cagujero negro\u201d: cualquier informaci\u00f3n que se env\u00ede all\u00ed se descarta inmediatamente. Otro caso es <code>/dev/zero</code>, que genera un flujo infinito de ceros, \u00fatil en pruebas y configuraciones. Estos archivos no contienen datos en s\u00ed mismos, sino que son interfaces de comunicaci\u00f3n con el kernel y el hardware.</p> <ul> <li><code>/etc</code></li> </ul> <p>El directorio <code>/etc</code> es el lugar donde se guardan todos los archivos de configuraci\u00f3n del sistema en Ubuntu y en la mayor\u00eda de distribuciones Linux. A diferencia de Windows, que utiliza un registro centralizado, Linux organiza la configuraci\u00f3n en m\u00faltiples archivos de texto plano, f\u00e1ciles de leer y editar con un editor como <code>nano</code> o <code>vim</code>.</p> <p>Dentro de <code>/etc</code> se encuentran par\u00e1metros cr\u00edticos del sistema: configuraciones de red, informaci\u00f3n de usuarios y grupos, ajustes de servicios, demonios y pr\u00e1cticamente todas las aplicaciones instaladas. Por ejemplo, el archivo <code>/etc/passwd</code> almacena la lista de usuarios del sistema junto con informaci\u00f3n b\u00e1sica de cada uno, mientras que <code>/etc/hosts</code> permite definir asociaciones entre direcciones IP y nombres de dominio de manera local.</p> <p>Muchos \"servicios\" (palabra ya comentada en apuntes anteriores) tienen su propia carpeta dentro de <code>/etc</code>. Por ejemplo, <code>/etc/ssh/</code> contiene la configuraci\u00f3n del servidor SSH, y <code>/etc/apache2/</code> la del servidor web Apache. Esto permite que cada componente del sistema mantenga sus par\u00e1metros organizados en un lugar espec\u00edfico.</p> <p>Es importante destacar que <code>/etc</code> contiene principalmente archivos de configuraci\u00f3n global, que afectan a todo el sistema y a todos los usuarios, a diferencia de las configuraciones personales que suelen guardarse en carpetas ocultas dentro del directorio <code>/home</code> de cada usuario.</p> <p>En resumen, <code>/etc</code> es el \u201ccerebro\u201d de la configuraci\u00f3n de Linux: cualquier cambio en sus archivos puede modificar profundamente el comportamiento del sistema operativo. Algunos otros archivos importantes son:</p> <p><code>/etc/sudoers</code> define qui\u00e9n puede usar <code>sudo</code>, desde qu\u00e9 hosts, qu\u00e9 comandos y bajo qu\u00e9 condiciones. Nunca edites <code>/etc/sudoers</code> con un editor normal: usa <code>visudo</code> (bloquea el archivo y verifica la sintaxis antes de guardar). Adem\u00e1s de <code>/etc/sudoers</code>, muchos sistemas usan el directorio <code>/etc/sudoers.d/</code> para fragmentos de configuraci\u00f3n (m\u00e1s manejable y seguro).</p> <ul> <li><code>/home</code></li> </ul> <p>El directorio <code>/home</code> es el espacio reservado para los archivos y configuraciones personales de cada usuario del sistema. Dentro de \u00e9l, se crea una carpeta individual para cada cuenta, cuyo nombre coincide con el nombre de usuario. Por ejemplo, si el usuario se llama <code>juan</code>, su directorio personal ser\u00e1 <code>/home/juan</code>. En estas carpetas, cada usuario guarda sus documentos, im\u00e1genes, descargas, m\u00fasica y cualquier otro tipo de archivo personal. Adem\u00e1s, dentro de cada directorio de usuario existen carpetas ocultas (cuyos nombres empiezan con un punto <code>.</code>), que almacenan configuraciones espec\u00edficas de aplicaciones y del entorno de escritorio. Por ejemplo:</p> <ul> <li><code>.bashrc</code> \u2192 configuraci\u00f3n personalizada de la terminal.</li> <li><code>.mozilla/</code> \u2192 configuraciones y perfiles de Firefox.</li> <li><code>.config/</code> \u2192 ajustes de aplicaciones modernas seg\u00fan el est\u00e1ndar XDG.</li> </ul> <p>De esta manera, cada usuario puede tener un entorno completamente personalizado, independiente del resto. Incluso si varias personas usan la misma computadora, cada una tendr\u00e1 sus preferencias, documentos y configuraciones guardadas en su propia carpeta dentro de <code>/home</code>. En instalaciones m\u00e1s avanzadas, es com\u00fan que <code>/home</code> se ubique en una partici\u00f3n separada del sistema. Esto permite que, aunque se reinstale Ubuntu o se actualice la distribuci\u00f3n, los archivos y configuraciones personales de los usuarios se mantengan intactos, aumentando la seguridad y la comodidad.</p> <ul> <li><code>/lib</code></li> </ul> <p>El directorio <code>/lib</code> contiene las bibliotecas compartidas que permiten que los programas y comandos esenciales ubicados en <code>/bin</code> y <code>/sbin</code> puedan ejecutarse correctamente. Dentro de <code>/lib</code> se encuentran archivos con extensiones como <code>.so</code> (shared object), que representan estas bibliotecas din\u00e1micas. Por ejemplo, funciones matem\u00e1ticas, manejo de cadenas de texto, acceso a la red o comunicaci\u00f3n con el kernel est\u00e1n centralizadas en estas librer\u00edas. Esto permite que el sistema sea m\u00e1s ligero, modular y f\u00e1cil de actualizar: si una biblioteca se corrige o se mejora, todos los programas que dependen de ella se benefician autom\u00e1ticamente.</p> <p>Adem\u00e1s, en <code>/lib</code> tambi\u00e9n se almacenan los m\u00f3dulos del kernel, que son componentes cargables din\u00e1micamente y que ampl\u00edan las capacidades del n\u00facleo sin necesidad de reiniciar el sistema. Estos m\u00f3dulos permiten, por ejemplo, a\u00f1adir soporte para un nuevo tipo de hardware, sistemas de archivos o controladores de red.</p> <p>En distribuciones modernas que han adoptado la fusi\u00f3n de directorios (usr merge), es com\u00fan que el contenido de <code>/lib</code> se encuentre realmente en <code>/usr/lib</code>, manteni\u00e9ndose <code>/lib</code> como un enlace simb\u00f3lico por compatibilidad.</p> <ul> <li><code>/media</code></li> </ul> <p>El directorio <code>/media</code> est\u00e1 reservado para el montaje autom\u00e1tico de dispositivos externos en Ubuntu y en la mayor\u00eda de distribuciones Linux. Cada vez que conectas una memoria USB, un disco duro port\u00e1til, una tarjeta SD o incluso un CD/DVD, el sistema crea de manera temporal una carpeta dentro de <code>/media</code> y all\u00ed monta el contenido del dispositivo para que el usuario pueda acceder a \u00e9l f\u00e1cilmente.</p> <p>Por ejemplo, si un usuario llamado <code>juan</code> conecta una memoria USB llamada USB, Ubuntu montar\u00e1 ese dispositivo en la ruta <code>/media/juan/USB</code>. Esto significa que todos los archivos de la memoria estar\u00e1n accesibles en esa carpeta mientras el dispositivo permanezca conectado.</p> <p>El proceso es gestionado autom\u00e1ticamente por udev (el sistema que administra dispositivos en Linux) y por los entornos de escritorio como GNOME o KDE, de modo que el usuario no necesita montar manualmente los discos, a diferencia de lo que ocurr\u00eda en versiones antiguas de Linux. Es importante diferenciar <code>/media</code> de <code>/mnt</code>. Mientras que <code>/media</code> est\u00e1 pensado para los dispositivos externos que se montan de manera autom\u00e1tica y temporal, <code>/mnt</code> se reserva para montajes manuales realizados por administradores, normalmente en tareas de mantenimiento o pruebas.</p> <ul> <li><code>/mnt</code></li> </ul> <p>El directorio <code>/mnt</code> se utiliza como punto de montaje temporal en Linux. Tradicionalmente, era el lugar donde los administradores montaban manualmente discos duros, particiones adicionales o incluso recursos de red para poder acceder a ellos de forma moment\u00e1nea. Por ejemplo, si se conectaba un disco que no se montaba autom\u00e1ticamente, un administrador pod\u00eda ejecutar un comando como:</p> <pre><code> sudo mount /dev/sdb1 /mnt\n</code></pre> <p>directorio volv\u00eda a estar vac\u00edo y listo para usarse con otro dispositivo. Aunque hoy en d\u00eda el montaje autom\u00e1tico de dispositivos externos suele hacerse en <code>/media</code>, el directorio <code>/mnt</code> sigue existiendo y mantiene su funci\u00f3n como espacio flexible para pruebas, configuraciones temporales o situaciones en las que un administrador necesita montar sistemas de archivos manualmente.</p> <ul> <li><code>/opt</code></li> </ul> <p>El directorio <code>/opt</code> est\u00e1 reservado para aplicaciones adicionales que se instalan de forma manual o que no forman parte del sistema base ni del gestor de paquetes de Ubuntu. Su nombre proviene de optional, lo que refleja su prop\u00f3sito: albergar software opcional que complementa al sistema.</p> <p>A diferencia de otros directorios como <code>/usr/bin</code> o <code>/usr/lib</code>, que est\u00e1n gestionados directamente por el sistema de paquetes de Ubuntu (APT), <code>/opt</code> se utiliza cuando un programa se distribuye en un directorio completo que incluye todos sus binarios, bibliotecas y archivos de configuraci\u00f3n. Este m\u00e9todo es com\u00fan en aplicaciones propietarias o comerciales que no se integran al 100 % con el sistema.</p> <p>Por ejemplo, si descargas un programa en forma de paquete comprimido o un instalador que no usa APT, probablemente cree su propia carpeta en <code>/opt</code>. Dentro de esa carpeta, el software suele tener su propia estructura organizada, por ejemplo:</p> <ul> <li><code>/opt/google/chrome/</code> \u2192 instalaci\u00f3n de Google Chrome.</li> </ul> <p>Esto permite que dichas aplicaciones est\u00e9n separadas del resto del sistema y sean f\u00e1ciles de identificar, actualizar o eliminar simplemente borrando su carpeta correspondiente.</p> <ul> <li><code>/proc</code></li> </ul> <p>El directorio <code>/proc</code> es un sistema de archivos virtual, lo que significa que no ocupa espacio real en el disco ni contiene archivos convencionales. En lugar de eso, se genera din\u00e1micamente por el kernel de Linux y ofrece una ventana en tiempo real al estado interno del sistema y de los procesos en ejecuci\u00f3n.</p> <p>Cada archivo o subdirectorio dentro de <code>/proc</code> representa informaci\u00f3n o una interfaz hacia alguna parte del kernel. Por ejemplo:</p> <ul> <li><code>/proc/cpuinfo</code> muestra detalles sobre el procesador: modelo, n\u00facleos, velocidad, etc.</li> <li><code>/proc/meminfo</code> ofrece datos sobre la memoria RAM disponible y utilizada.</li> <li><code>/proc/uptime</code> indica cu\u00e1nto tiempo lleva encendido el sistema.</li> </ul> <p>Adem\u00e1s de los archivos de informaci\u00f3n general, <code>/proc</code> tambi\u00e9n contiene un subdirectorio por cada proceso en ejecuci\u00f3n, identificado por su PID (Process ID). Por ejemplo, <code>/proc/1234/</code> corresponde al proceso con PID 1234 y dentro de esa carpeta se encuentran archivos que permiten consultar \u2014e incluso modificar\u2014 par\u00e1metros de ese proceso en tiempo real.</p> <p>Un detalle interesante es que <code>/proc</code> no solo sirve para leer informaci\u00f3n, sino que tambi\u00e9n permite al administrador interactuar con el kernel. Por ejemplo, el archivo <code>/proc/sys/</code> contiene par\u00e1metros ajustables del sistema que pueden modificarse temporalmente mediante el comando <code>sysctl</code>.</p> <p>Es posible consultar informaci\u00f3n de hardware como el procesador en <code>/proc/cpuinfo</code>, que muestra modelo, velocidad y n\u00famero de n\u00facleos, o la memoria en <code>/proc/meminfo</code>, donde aparecen los detalles del uso y disponibilidad de la RAM. Tambi\u00e9n permite obtener datos generales del sistema, como la versi\u00f3n del kernel en <code>/proc/version</code>, el tiempo que lleva encendido el equipo en <code>/proc/uptime</code>, o la carga promedio en <code>/proc/loadavg</code>.</p> <p>Adem\u00e1s, cada proceso en ejecuci\u00f3n tiene su propio directorio dentro de <code>/proc</code>, identificado por su PID. All\u00ed se puede ver con qu\u00e9 comando fue iniciado (<code>cmdline</code>), qu\u00e9 variables de entorno utiliza (<code>environ</code>), qu\u00e9 archivos tiene abiertos (<code>fd/</code>) o su consumo de memoria y estado actual (<code>status</code>).</p> <p>Por \u00faltimo, <code>/proc</code> tambi\u00e9n permite modificar configuraciones del kernel en caliente a trav\u00e9s de <code>/proc/sys/</code>, como habilitar el reenv\u00edo de paquetes en red o ajustar par\u00e1metros de seguridad, algo que se suele gestionar con el comando <code>sysctl</code>.</p> <ul> <li><code>/root</code></li> </ul> <p>El directorio <code>/root</code> es el directorio personal exclusivo del superusuario (root) en Linux. Aunque el nombre pueda inducir a error, no debe confundirse con <code>/</code>, que es la ra\u00edz del sistema de archivos. La diferencia es clara:</p> <ul> <li><code>/</code> \u2192 punto de partida del sistema, donde se montan todos los directorios y particiones.</li> <li><code>/root</code> \u2192 carpeta personal del usuario root, equivalente a <code>/home/usuario</code> para cuentas normales.</li> </ul> <p>Los usuarios normales guardan sus datos en <code>/home/usuario</code>, pero la cuenta root no lo hace por dos razones principales:</p> <ol> <li>Disponibilidad en arranque y recuperaci\u00f3n: si el sistema se da\u00f1a y la partici\u00f3n <code>/home</code> no est\u00e1 disponible, el superusuario necesita tener su propio espacio dentro de la partici\u00f3n ra\u00edz (<code>/</code>). De este modo, root siempre puede iniciar sesi\u00f3n y reparar el sistema.</li> <li>Seguridad y separaci\u00f3n: los archivos de configuraci\u00f3n y datos de root no deben mezclarse con los de los usuarios normales.</li> </ol> <p>Por eso <code>/root</code> est\u00e1 directamente bajo <code>/</code>, y no dentro de <code>/home</code>.</p> <p>El usuario root es la cuenta administrativa por antonomasia en Linux: tiene UID 0, lo que le otorga permisos ilimitados sobre el sistema. Root puede leer/escribir cualquier archivo, cargar o descargar m\u00f3dulos del kernel, cambiar permisos, crear o borrar usuarios, y m\u00e1s. Por seguridad, muchas distribuciones (como Ubuntu) bloquean la contrase\u00f1a de root por defecto y recomiendan usar <code>sudo</code> para acciones administrativas en su lugar.</p> <p>Los datos sobre las cuentas est\u00e1n en <code>/etc/passwd</code> (datos p\u00fablicos de la cuenta) y las contrase\u00f1as (hashed) en <code>/etc/shadow</code> (accesible solo por root). Si una l\u00ednea en <code>/etc/passwd</code> tiene UID 0, esa cuenta tendr\u00e1 privilegios root. Aqu\u00ed entra una clasificaci\u00f3n muy importante de comandos.</p> <ul> <li><code>su</code> (substitute user): cambia de usuario a otro (por defecto a root). Con <code>su -</code> obtienes el entorno de root completo. <code>su</code> pide la contrase\u00f1a de la cuenta objetivo (ej. la contrase\u00f1a de root).</li> <li> <p><code>sudo</code> (superuser do): permite ejecutar un comando con privilegios elevados sin conocer la contrase\u00f1a de root, solicitando la contrase\u00f1a del usuario actual (si est\u00e1 autorizado en sudoers). <code>sudo</code> deja un rastro m\u00e1s fino y controlado y es la pr\u00e1ctica recomendada hoy en d\u00eda.</p> </li> <li> <p><code>/run</code></p> </li> </ul> <p>El directorio <code>/run</code> es un sistema de archivos temporal que se crea en memoria cada vez que el sistema arranca. Su funci\u00f3n principal es almacenar informaci\u00f3n din\u00e1mica sobre procesos y servicios en ejecuci\u00f3n, como identificadores de procesos (PID), sockets de comunicaci\u00f3n, archivos de bloqueo (lock files) y otros datos que los programas necesitan mientras est\u00e1n activos.</p> <p>Por ejemplo, cuando un servicio como <code>sshd</code> (el servidor de conexiones seguras) se inicia, crea un archivo como <code>/run/sshd.pid</code> para indicar qu\u00e9 proceso est\u00e1 corriendo y con qu\u00e9 identificador. De igual forma, servicios como <code>NetworkManager</code> o <code>systemd</code> almacenan en <code>/run</code> informaci\u00f3n de estado que desaparece en cuanto el sistema se apaga o reinicia.</p> <p>Antes de la introducci\u00f3n de <code>/run</code>, distintos directorios cumpl\u00edan este rol: algunos programas guardaban estos datos en <code>/var/run</code> o <code>/var/lock</code>. Hoy en d\u00eda, por compatibilidad, esos directorios suelen ser enlaces simb\u00f3licos que apuntan a <code>/run</code>.</p> <p>Es importante tener en cuenta que <code>/run</code> reside en un sistema de archivos temporal en RAM (tmpfs), por lo que todo su contenido se pierde autom\u00e1ticamente al reiniciar. Esto garantiza que solo contenga informaci\u00f3n fresca y relevante para la sesi\u00f3n actual del sistema.</p> <ul> <li><code>/srv</code></li> </ul> <p>El directorio <code>/srv</code> est\u00e1 destinado a almacenar los datos que sirven los distintos servicios del sistema. Su nombre proviene de service, y la idea es que cualquier aplicaci\u00f3n que act\u00fae como servidor \u2014ya sea un servidor web, de archivos o de bases de datos\u2014 disponga aqu\u00ed de un espacio est\u00e1ndar para organizar su contenido.</p> <p>Por ejemplo, si el equipo funciona como servidor web, los archivos del sitio podr\u00edan ubicarse en <code>/srv/www/</code>; si act\u00faa como servidor FTP, los datos compartidos estar\u00edan en <code>/srv/ftp/</code>. La ventaja de esta organizaci\u00f3n es que permite mantener claramente separados los archivos de servicio de los archivos del sistema operativo y de los datos de los usuarios.</p> <p>Cabe se\u00f1alar que no todas las distribuciones de Linux utilizan activamente <code>/srv</code> de forma predeterminada. En Ubuntu, por ejemplo, los servidores web como Apache suelen usar <code>/var/www/</code> para sus documentos. Sin embargo, el est\u00e1ndar FHS (Filesystem Hierarchy Standard) recomienda <code>/srv</code> como el lugar correcto para almacenar los datos ofrecidos por servicios de red.</p> <ul> <li><code>/sys</code></li> </ul> <p>El directorio <code>/sys</code> es un sistema de archivos virtual, al igual que <code>/proc</code>, pero con un prop\u00f3sito diferente: sirve como interfaz entre el kernel de Linux y los dispositivos y controladores del sistema. </p> <p>Un ejemplo pr\u00e1ctico es <code>/sys/class/net/</code>, donde cada interfaz de red aparece como un directorio (por ejemplo, <code>eth0</code>, <code>wlan0</code>). Dentro, se pueden consultar archivos que muestran su estado (si est\u00e1 activa, su direcci\u00f3n MAC, velocidad del enlace) o par\u00e1metros que pueden ajustarse din\u00e1micamente.</p> <p>A diferencia de <code>/proc</code>, que ofrece principalmente informaci\u00f3n sobre procesos y el estado general del sistema, <code>/sys</code> est\u00e1 centrado en la gesti\u00f3n de dispositivos y sus controladores, lo que lo convierte en una herramienta clave para el kernel, los administradores y programas de configuraci\u00f3n.</p> <ul> <li><code>/tmp</code></li> </ul> <p>El directorio <code>/tmp</code> est\u00e1 destinado a almacenar archivos temporales generados tanto por el sistema como por las aplicaciones y los usuarios. Cualquier programa puede crear ficheros en esta carpeta \u2014por ejemplo, instaladores que necesitan espacio intermedio, navegadores web que guardan descargas incompletas, o editores de texto que almacenan copias de seguridad mientras se trabaja en un archivo\u2014.</p> <p>Por dise\u00f1o, todos los usuarios tienen permisos de escritura en <code>/tmp</code>, lo que lo convierte en un espacio compartido y de uso abierto. Para evitar problemas de seguridad, los ficheros creados aqu\u00ed suelen tener permisos restringidos a su propietario, y en muchos sistemas la carpeta est\u00e1 montada con opciones especiales (como <code>sticky bit</code>) que impiden a un usuario borrar los archivos de otro.</p> <p>Una caracter\u00edstica clave es que el contenido de <code>/tmp</code> no es permanente: normalmente se borra autom\u00e1ticamente al reiniciar el sistema, ya que suele estar montado en un sistema de archivos temporal en memoria (<code>tmpfs</code>). Esto garantiza que no se acumulen datos obsoletos o innecesarios.</p> <ul> <li><code>/usr</code></li> </ul> <p>A d\u00eda de hoy contiene muchos enlaces simb\u00f3licos a los comentados anteriormente</p> <ul> <li>El directorio <code>/var</code> est\u00e1 dedicado a almacenar datos variables, es decir, informaci\u00f3n que cambia de forma constante a medida que el sistema y las aplicaciones se ejecutan. A diferencia de directorios como <code>/usr</code>, que suelen contener archivos est\u00e1ticos y de solo lectura, en <code>/var</code> se concentran los ficheros din\u00e1micos y en crecimiento continuo, lo que lo convierte en un punto clave para la administraci\u00f3n y el mantenimiento del sistema.</li> </ul> <p>Dentro de <code>/var</code> destacan varios subdirectorios esenciales:</p> <ul> <li><code>/var/log</code>: aqu\u00ed se guardan los registros del sistema, que documentan pr\u00e1cticamente todas las actividades relevantes. Encontramos, por ejemplo, los registros de inicio de sesi\u00f3n, de errores del kernel, de servicios como Apache o SSH, y tambi\u00e9n los relacionados con la administraci\u00f3n mediante <code>sudo</code>. En Debian y Ubuntu, las acciones realizadas con <code>sudo</code> se registran en <code>/var/log/auth.log</code>, mientras que en sistemas como RHEL o CentOS aparecen en <code>/var/log/secure</code>. Estos archivos permiten rastrear qui\u00e9n ejecut\u00f3 qu\u00e9 comando, en qu\u00e9 momento y si la autenticaci\u00f3n fue exitosa o fallida, por lo que resultan fundamentales para la auditor\u00eda de seguridad y la depuraci\u00f3n de problemas.</li> <li><code>/var/spool</code>: almacena colas de procesos que deben ser atendidos, como trabajos pendientes de impresi\u00f3n o mensajes de correo electr\u00f3nico a\u00fan no entregados. Funciona como un \u00e1rea de espera donde los procesos gestionan tareas en curso.</li> <li><code>/var/cache</code>: contiene archivos de cach\u00e9 generados por aplicaciones, que permiten acelerar su funcionamiento al evitar recalcular o descargar de nuevo informaci\u00f3n. Por ejemplo, los gestores de paquetes como <code>apt</code> almacenan aqu\u00ed los paquetes descargados para instalaciones o actualizaciones.</li> </ul> <p>Adem\u00e1s, <code>/var</code> puede incluir otros subdirectorios como <code>/var/tmp</code>, usado para temporales que deben sobrevivir a reinicios, o <code>/var/lib</code>, donde se guardan datos persistentes de servicios (por ejemplo, las bases de datos de <code>dpkg</code> o <code>apt</code>).</p>"},{"location":"TEMA2/Otras_cosas_importantes/#24-instalacion-de-aplicaciones-en-linux","title":"2.4 Instalaci\u00f3n de aplicaciones en Linux","text":"<p>En Linux, los programas pueden instalarse de dos formas: a nivel de sistema o solo para un usuario concreto.</p> <p>Cuando se instalan con el gestor de paquetes, como <code>apt</code> en Ubuntu, los archivos se copian en directorios compartidos y quedan disponibles para todos los usuarios del sistema. Los binarios suelen ir a <code>/usr/bin</code> o <code>/usr/sbin</code>, las bibliotecas a <code>/usr/lib</code>, y los datos a <code>/usr/share</code>. Por ejemplo, si instalas Firefox con <code>sudo apt install firefox</code>, su ejecutable se encuentra en <code>/usr/bin/firefox</code>, las bibliotecas en <code>/usr/lib/firefox/</code> y los iconos o manuales en <code>/usr/share/firefox/</code>. Otro caso es el de programas propietarios como Google Chrome, que se instalan en <code>/opt/google/chrome/</code> y crean un enlace en <code>/usr/bin/</code> para que cualquier usuario pueda ejecutarlos.</p>"},{"location":"TEMA2/Otras_cosas_importantes/#25-buenas-practicas-para-particionado-de-linux","title":"2.5 Buenas pr\u00e1cticas para particionado de Linux","text":""},{"location":"TEMA2/Otras_cosas_importantes/#1-siempre-separar-la-raiz","title":"1. Siempre separar la ra\u00edz <code>/</code>","text":"<p>La partici\u00f3n ra\u00edz <code>/</code> es obligatoria, ya que contiene el sistema operativo. Lo recomendable es darle un tama\u00f1o suficiente para instalar programas y librer\u00edas sin preocupaciones: Escritorio: entre 20 y 30 GB suele bastar. Servidor: 50 GB o m\u00e1s, dependiendo de cu\u00e1ntos paquetes o servicios se instalen.</p>"},{"location":"TEMA2/Otras_cosas_importantes/#2-separar-home-para-proteger-los-datos-de-usuario","title":"2. Separar <code>/home</code> para proteger los datos de usuario","text":"<p>Tener <code>/home</code> en una partici\u00f3n independiente permite que los archivos personales y configuraciones de los usuarios sobrevivan incluso si reinstalas o actualizas el sistema operativo.</p> <ul> <li>Escritorio: darle la mayor parte del espacio disponible.</li> <li>Servidor: menos relevante, salvo que haya muchos usuarios locales.</li> </ul>"},{"location":"TEMA2/Otras_cosas_importantes/#3-usar-una-particion-var-independiente-en-servidores","title":"3. Usar una partici\u00f3n <code>/var</code> independiente en servidores","text":"<p>En servidores, los logs, cach\u00e9s y datos variables pueden crecer r\u00e1pidamente. Si <code>/var</code> se llena en la misma partici\u00f3n que <code>/</code>, el sistema podr\u00eda dejar de funcionar. Separar <code>/var</code> garantiza que el sistema operativo siga operativo aunque los registros crezcan demasiado. Tama\u00f1o recomendado: depende de la carga; 10\u201320 GB m\u00ednimo en servidores peque\u00f1os, m\u00e1s en sistemas cr\u00edticos.</p>"},{"location":"TEMA2/Otras_cosas_importantes/#4-considerar-separar-tmp-para-mayor-seguridad","title":"4. Considerar separar <code>/tmp</code> para mayor seguridad","text":"<p>La carpeta temporal <code>/tmp</code> es usada por cualquier aplicaci\u00f3n. Si un atacante o proceso malicioso llena esta carpeta, podr\u00eda provocar problemas graves en el sistema. Al poner <code>/tmp</code> en una partici\u00f3n separada, puedes montarla con opciones de seguridad como <code>noexec</code>, <code>nosuid</code> y <code>nodev</code>, que reducen riesgos de ejecuci\u00f3n de c\u00f3digo malicioso. Tama\u00f1o: 2\u20134 GB suele ser suficiente en escritorios, m\u00e1s en servidores que procesen archivos grandes.</p>"},{"location":"TEMA2/Otras_cosas_importantes/#5-la-particion-boot-en-escenarios-especiales","title":"5. La partici\u00f3n <code>/boot</code> en escenarios especiales","text":"<p>Separar <code>/boot</code> no siempre es necesario, pero s\u00ed recomendable en:</p> <ul> <li>Sistemas con cifrado completo (LUKS). Ojo:</li> </ul> <p>Cuando se utiliza cifrado completo de disco con LUKS (Linux Unified Key Setup), la partici\u00f3n ra\u00edz <code>/</code> y todo lo que contiene quedan cifrados. Eso incluye el kernel de Linux, la imagen de memoria inicial (<code>initrd/initramfs</code>) y el cargador de arranque (GRUB). El problema es que, para poder arrancar el sistema, el firmware (BIOS/UEFI) necesita cargar primero el gestor de arranque y luego el kernel. Pero si <code>/boot</code> estuviera dentro de la partici\u00f3n cifrada, el sistema se encontrar\u00eda en un c\u00edrculo vicioso: Para cargar el kernel necesitas abrir el cifrado. Pero para abrir el cifrado necesitas cargar primero el kernel y los m\u00f3dulos de LUKS.</p> <p>Por eso, en esquemas de cifrado completo se suele crear una partici\u00f3n <code>/boot</code> separada y sin cifrar, que contiene: El cargador de arranque (GRUB2). El kernel de Linux. La imagen initramfs, que lleva consigo los m\u00f3dulos necesarios para montar la partici\u00f3n cifrada.</p> <p>El flujo ser\u00eda as\u00ed:</p> <ol> <li>El firmware (UEFI/BIOS) carga GRUB desde <code>/boot</code>.</li> <li>GRUB carga el kernel y el initramfs, tambi\u00e9n desde <code>/boot</code>.</li> <li>El initramfs contiene el soporte para LUKS y pide la contrase\u00f1a de cifrado.</li> <li>Una vez descifrada la partici\u00f3n ra\u00edz, el sistema operativo contin\u00faa arrancando normalmente.</li> </ol> <p>De este modo, solo la carpeta <code>/boot</code> permanece sin cifrar, y el resto del disco (incluyendo <code>/</code>, <code>/home</code>, <code>/var</code>, etc.) queda protegido.</p>"},{"location":"TEMA2/Otras_cosas_importantes/#6-swap-particion-o-archivo","title":"6. Swap: \u00bfpartici\u00f3n o archivo?","text":"<p>El swap act\u00faa como memoria virtual cuando se agota la RAM. Hoy en d\u00eda, muchas distribuciones (incluido Ubuntu) crean un archivo swap en lugar de una partici\u00f3n dedicada, lo que simplifica la gesti\u00f3n. Sin embargo, la partici\u00f3n swap a\u00fan tiene usos:</p> <ul> <li>Para hibernaci\u00f3n, es obligatorio que el swap tenga al menos el mismo tama\u00f1o que la RAM.</li> <li>En servidores o PCs con poca RAM, una partici\u00f3n swap garantiza memoria adicional aunque m\u00e1s lenta.</li> <li>Como regla general:</li> <li>RAM &lt; 4 GB \u2192 swap = 2\u00d7 RAM.</li> <li>RAM 4\u20138 GB \u2192 swap = igual a RAM.</li> <li>RAM &gt; 8 GB \u2192 swap = 4\u20138 GB suele bastar</li> </ul> <p>En un entorno m\u00e1s profesional o multiusuario hay que hablar s\u00ed o s\u00ed de cuotas de disco, RAID y otras estrategias de particionado avanzadas. Vamos a comentarlo.</p>"},{"location":"TEMA2/Otras_cosas_importantes/#26-cuotas-de-disco-limitar-el-uso-de-espacio-por-usuario-o-grupo","title":"2.6 Cuotas de disco: limitar el uso de espacio por usuario o grupo","text":"<p>Cuando un sistema lo utilizan varios usuarios (p. ej. un servidor educativo o empresarial), es recomendable separar ciertas particiones para poder aplicar cuotas de disco. Esto evita que un \u00fanico usuario llene todo el sistema y afecte a los dem\u00e1s.</p> <ul> <li>Lo habitual es separar <code>/home</code> en su propia partici\u00f3n y activar cuotas de disco all\u00ed.</li> <li>Tambi\u00e9n puede hacerse en <code>/var</code> si se quiere limitar el uso de espacio por parte de servicios como correo, logs o colas de impresi\u00f3n.</li> <li>Ejemplo: si cada usuario tiene 5 GB de cuota en <code>/home</code>, aunque copie archivos enormes no afectar\u00e1 al resto del sistema.</li> </ul> <p>Las cuotas se configuran editando <code>/etc/fstab</code> para activar la opci\u00f3n <code>usrquota</code> o <code>grpquota</code> en la partici\u00f3n correspondiente, y luego gestionando con comandos como <code>edquota</code> o <code>repquota</code>.</p>"},{"location":"TEMA2/Otras_cosas_importantes/#27-raid-redundancia-y-rendimiento-lo-utilizaremos-cuando-sepamos-mas-sobre-comandos-linux-y-el-so","title":"2.7 RAID: redundancia y rendimiento (lo utilizaremos cuando sepamos m\u00e1s sobre comandos linux y el S.O)","text":"<p>El RAID (Redundant Array of Independent/Inexpensive Disks) es esencial en servidores donde se requiere alta disponibilidad o gran velocidad. La elecci\u00f3n del esquema RAID condiciona c\u00f3mo particionar y distribuir discos:</p> <ul> <li> <p>RAID 0 (striping): divide datos entre discos:  m\u00e1ximo rendimiento pero sin tolerancia a fallos. No recomendable en sistemas cr\u00edticos.</p> </li> <li> <p>RAID 1 (mirroring): duplica los datos en dos discos los datos se duplican en dos discos. Por ejemplo, si tienes dos discos de 1 TB, solo podr\u00e1s usar 1 TB, porque el segundo ser\u00e1 una copia exacta. La ventaja es que, si un disco falla, la informaci\u00f3n sigue estando disponible en el otro, lo que lo hace ideal para servidores peque\u00f1os o para quienes priorizan la seguridad frente a la capacidad.</p> </li> <li> <p>RAID 5 (paridad distribuida): funciona con un m\u00ednimo de tres discos y combina reparto de datos y bloques de paridad distribuidos.  La paridad es un bloque de datos especial que no guarda directamente la informaci\u00f3n original, sino un c\u00e1lculo matem\u00e1tico sobre ella (normalmente un XOR, es decir, una suma binaria). Ese bloque sirve como \u201cseguro\u201d: si uno de los discos se rompe, el RAID puede reconstruir los datos perdidos usando la paridad y lo que queda en los dem\u00e1s discos. Esto significa que si tienes tres discos de 1 TB, obtendr\u00e1s 2 TB utilizables: uno se reserva para la informaci\u00f3n de paridad. Si se rompe un disco, los datos se pueden reconstruir a partir de los dem\u00e1s. Es una soluci\u00f3n muy usada en NAS dom\u00e9sticos porque ofrece un buen equilibrio entre capacidad, velocidad y tolerancia a fallos, aunque la reconstrucci\u00f3n tras un fallo puede ser lenta.</p> </li> <li> <p>RAID 6 (doble paridad):  pero guarda dos bloques de paridad en lugar de uno, lo que permite que se puedan estropear dos discos sin perder datos. Necesita un m\u00ednimo de cuatro discos y la capacidad \u00fatil es el total menos dos. As\u00ed, con cuatro discos de 1 TB, tendr\u00edas 2 TB utilizables</p> </li> </ul>"},{"location":"TEMA2/Otras_cosas_importantes/#28-instalacion-desantendida","title":"2.8 Instalacion desantendida","text":"<p>Una instalaci\u00f3n desatendida (o unattended installation) es aquella en la que el sistema operativo se instala sin intervenci\u00f3n manual del usuario. Normalmente, el instalador hace preguntas: idioma, zona horaria, particiones, usuario, contrase\u00f1a\u2026</p> <p>En una instalaci\u00f3n desatendida, todas esas respuestas se definen antes en un archivo de configuraci\u00f3n o script.</p> <pre><code>#cloud-config\nautoinstall:\n  version: 1\n\n  locale: es_ES.UTF-8\n  keyboard:\n    layout: es\n    variant: ''\n  timezone: Europe/Madrid\n\n  identity:\n    hostname: ubuntu-desktop-clase\n    username: alumno\n    password: \"$6$abcd1234$Fv9N...\" #Hay que hashear la contrase\u00f1a\n  ssh:\n    install-server: false   # en Desktop no suele hacer falta\n\n  storage:\n    layout:\n      name: direct   # usar todo el disco de manera autom\u00e1tica\n\n  updates: security\n\n  packages:\n    - vim\n    - curl\n    - htop\n</code></pre> <p>En una instlaci\u00f3n como la de la pr\u00e1ctica 4 tendriamos algo as\u00ed</p> <pre><code>#cloud-config\nautoinstall:\n  version: 1\n\n  locale: es_ES.UTF-8\n  keyboard:\n    layout: es\n    variant: ''\n  timezone: Europe/Madrid\n\n  identity:\n    hostname: ubuntu-desktop-clase\n    username: alumno\n    password: \"$6$abcd1234$Fv9N...\" \n  ssh:\n    install-server: false\n\n  storage:\n    config:\n      - { type: disk, id: disk0, match: { size: largest }, ptable: gpt }\n\n      # Partici\u00f3n EFI (ESP) obligatoria en UEFI\n      - { type: partition, id: efi, device: disk0, size: 512M, flag: boot }\n      - { type: format, volume: efi, fstype: fat32 }\n      - { type: mount, device: efi, path: /boot/efi }\n\n      # Partici\u00f3n /boot\n      - { type: partition, id: boot, device: disk0, size: 1G }\n      - { type: format, volume: boot, fstype: ext4 }\n      - { type: mount, device: boot, path: /boot }\n\n      # Partici\u00f3n ra\u00edz /\n      - { type: partition, id: root, device: disk0, size: 30G }\n      - { type: format, volume: root, fstype: ext4 }\n      - { type: mount, device: root, path: / }\n\n      # Partici\u00f3n /home\n      - { type: partition, id: home, device: disk0, size: 60G }\n      - { type: format, volume: home, fstype: ext4 }\n      - { type: mount, device: home, path: /home }\n\n      # Partici\u00f3n swap\n      - { type: partition, id: swap, device: disk0, size: 8G }\n      - { type: format, volume: swap, fstype: swap }\n\n  updates: security\n\n  packages:\n    - vim\n    - curl\n    - htop\n</code></pre>"},{"location":"TEMA2/Practicas/1%C2%AA%20Pr%C3%A1ctica%20virtualizacion/","title":"1\u00aa Pr\u00e1ctica: Instalar KVM + QEMU en tu m\u00e1quina virtual","text":"<p>Instalar la m\u00e1quina virtual, dentro de tu m\u00e1quina virtual Ubuntu 24.04, para ello, deber\u00e1s leer los puntos de la teor\u00eda, comprobando primero si tu ordenador puede realizar virtualizaci\u00f3n anidada. Sigue los puntos 8 y 7 de la Teor\u00eda (en ese orden, por favor)</p> <p>Cuando instales virt manager en tu VM Ubuntu 24.04, deber\u00e1s crea una maquina virtual Xubuntu Jammy Jellyfish  y deber\u00e1s dar al sistema tu nombre (en el proceso de instalaci\u00f3n) Una vez hayas creado la m\u00e1quina virtual, ejecuta lo siguiente por bash. <code>whoami &gt; nombre_usuario.txt</code>, \u00bfQu\u00e9 hace esto?</p> <p>El esquema de Sistemas Operativos es el siguiente:</p> <p>(host) Xubuntu----&gt; MV Clase: Ubuntu 24.04 -----&gt; MV Pr\u00e1ctica dentro de MV Clase: Xubuntu Jammy Jellyfish</p>"},{"location":"TEMA2/Practicas/2%20Pr%C3%A1ctica%20Instalaci%C3%B3n%20de%20Ubuntu%20sin%20LUKS%20%28sin%20LVM%29/","title":"2 Pr\u00e1ctica: Instalaci\u00f3n de Ubuntu (sin LUKS, sin LVM) en UEFI/GPT. El disco virtual debe estar en un pool en el escritorio","text":"<p>video a seguir: https://drive.google.com/file/d/1iVko8_qio1GJt7jcBRAxUaZ0sEWoJO1r/view?usp=sharing</p>"},{"location":"TEMA2/Practicas/2%20Pr%C3%A1ctica%20Instalaci%C3%B3n%20de%20Ubuntu%20sin%20LUKS%20%28sin%20LVM%29/#21-objetivos","title":"2.1 Objetivos","text":"<ul> <li>Instalar Ubuntu en un disco en modo UEFI/GPT.</li> <li>Comprender la estructura m\u00ednima de particiones en este esquema.</li> <li>Tener un sistema sencillo, claro y sin capas adicionales de cifrado o LVM.</li> </ul>"},{"location":"TEMA2/Practicas/2%20Pr%C3%A1ctica%20Instalaci%C3%B3n%20de%20Ubuntu%20sin%20LUKS%20%28sin%20LVM%29/#22-escenario","title":"2.2 Escenario","text":"<ul> <li>Disco duro: 120 GB.</li> <li>Sistema: Ubuntu Desktop 24.04 LTS.</li> <li>Modo de arranque: UEFI.</li> <li>Particionado: manual.</li> <li>Deber\u00e1s crear tu disco virtual (qcow2 en un pool dentro de tu escritorio. Esto es lo \u00fanico que no aparece en el v\u00eddeo en donde resuelvo la pr\u00e1ctica. Para saber como hacer esto, ve al punto de teor\u00eda anterior donde est\u00e1n todos los tutoriales, deber\u00e1s ser independiente y buscarlo t\u00fa.)</li> </ul>"},{"location":"TEMA2/Practicas/2%20Pr%C3%A1ctica%20Instalaci%C3%B3n%20de%20Ubuntu%20sin%20LUKS%20%28sin%20LVM%29/#23-esquema-de-particiones","title":"2.3 Esquema de particiones","text":"<p>EFI System Partition (ESP)</p> <p>-Tama\u00f1o: 512 MB</p> <p>-Sistema de archivos: <code>FAT32</code></p> <p>-Punto de montaje: <code>/boot/efi</code></p> <p>-Contiene los cargadores (Olvidaos de esto por ahora)</p> <p>/boot</p> <p>-Tama\u00f1o: 1 GB</p> <p>-Sistema de archivos: <code>ext4</code></p> <p>-Contiene kernel, initramfs y m\u00f3dulos de GRUB.</p> <p>/ (ra\u00edz)</p> <p>-Tama\u00f1o: 30 GB</p> <p>-Sistema de archivos: <code>ext4</code></p> <p>-Contiene el sistema operativo y programas.</p> <p>/home</p> <p>-Tama\u00f1o: 80 GB</p> <p>-Sistema de archivos: <code>ext4</code></p> <p>-Contiene los datos de usuario.</p> <p>swap</p> <p>-Tama\u00f1o: 8 GB (ajustar seg\u00fan la RAM, mirar teor\u00eda para saber cuanta)Tipo: \u00e1rea de intercambio.</p> <p>\u00a1La pr\u00e1ctica se basa en hacer capturas a pantalla completa del proceso de instalaci\u00f3n que hago yo en el video!. En el v\u00eddeo que os dejo se ve qu\u00e9 ten\u00e9is que hacer, paso a paso. No os olvid\u00e9is de documentar como creais el pool.</p>"},{"location":"TEMA2/Practicas/3%20Pr%C3%A1ctica%20Instalaci%C3%B3n%20Dual%20de%20ubuntu%20%2B%20Windows/","title":"3 Pr\u00e1ctica: Instalaci\u00f3n de Ubuntu (sin LUKS, sin LVM) en UEFI/GPT + Dual Boot con Windows","text":""},{"location":"TEMA2/Practicas/3%20Pr%C3%A1ctica%20Instalaci%C3%B3n%20Dual%20de%20ubuntu%20%2B%20Windows/#1-guia-principal","title":"1 Gu\u00eda principal","text":"<p>Video a seguir: https://drive.google.com/file/d/1Dc1_ymx2eRcDjbyKJYRrLrS7X0Ya5Tgv/view?usp=sharing (MUY IMPORTANTE) sigue los pasos del video pero lee estas instrucciones. En el video hay dos cosas que he introducido nuevas y antes no estaban. </p> <p>La primera es c\u00f3mo compartir una carpeta entre guest y host para pasarte la iso, m\u00e1s abajo se detalla al dedillo (en los siguientes puntos)</p> <p>La segunda y m\u00e1s importante de todas es que, a la hora de a\u00f1adir el disco de la pr\u00e1ctica anterior donde instalaste UBUNTU particionado, deber\u00e1s a\u00f1adirlo con el tipo de BUS \"SATA\", si lo a\u00f1ades como \"Virtio\", Windows no lo detectar\u00e1 y tendr\u00e1s que usar Drivers espec\u00edficos de Virtio desarrollados por RED HAT (esto sal\u00eda mencionado en la ter\u00eda)</p> <p></p>"},{"location":"TEMA2/Practicas/3%20Pr%C3%A1ctica%20Instalaci%C3%B3n%20Dual%20de%20ubuntu%20%2B%20Windows/#11-pasos-de-la-practica","title":"1.1 Pasos de la pr\u00e1ctica","text":"<p>1-Una vez has instalado Ubuntu (pr\u00e1ctica anterior, deber\u00e1s darle + tama\u00f1o al disco en el que est\u00e1 ubuntu instalado,para ello, ejercutar: qemu-img resize /var/lib/libvirt/images/tu_vm.qcow2 +40G)</p> <p>2-Como dec\u00eda antes, a la hora de a\u00f1adir el disco de la pr\u00e1ctica anterior donde instalaste UBUNTU particionado, deber\u00e1s a\u00f1adirlo con el tipo de BUS \"SATA\", si no, Windows no lo detectar\u00e1 y tendr\u00e1s uq eusar Drivers espec\u00edficos de Virtio desarrollados por RED HAT (esto sal\u00eda mencionado en la ter\u00eda)</p> <p>3-Ojo, debereis descargar la iso oficial de Windows, para ello, teneis que descargarla desde un Guest \"Linux\" que posea por defecto navegador (ya que todav\u00eda no hemos visto las herramientas para instalar paquetes) y enlazar a una carpeta compartida con tu host, para as\u00ed llevarte la ISO a tu m\u00e1quina real. El video a seguir para esto est\u00e1 en la teor\u00eda y este: https://www.youtube.com/watch?v=CdWjyJCBYA0 (minuto 6)</p> <p>4-En caso de que lo anterior no vaya, descargad la iso desde aqui: https://drive.google.com/file/d/1H0AH9SUJ2XsJ5_Fscm8FLb87FtMKuYwJ/view?usp=drive_link</p> <p>5-Una vez ya veis la carpeta /mnt/compartir, es posible que al pegar la iso en la carpeta \"/mnt/compartir\" necesiteis ejecutar el siguiente comando para copiar</p> <pre><code>sudo cp ruta_origen (donde teneis la iso) ruta destino (en este caso /mnt/compartir)\n</code></pre> <p>Es decir, si vuestra iso se llama \"Windows_11.iso\" y est\u00e1 en descargas, para pegarla en /mnt/compartir deber\u00e9is hacer:</p> <pre><code>sudo cp /home/(tu usuario)/Descargas/Windows_11.iso /mnt/compartir\n</code></pre> <p>Esto os copiar\u00e1 la iso en vustra carpeta /mnt/compartir que se podr\u00e1 ver en el host.</p> <p>6-Posteriormente, se procede como en el video y se pide instalar Windows en el espacio no asignado de la particion, para ello, cuando pida d\u00f3nde instalar, selecciona el espacio no asignado. Vamos a explicar esto un poco m\u00e1s:</p> <p>-Windows no toca la partici\u00f3n EFI existente, solo a\u00f1adir\u00e1 sus archivos de arranque en <code>/boot/efi/EFI/Microsoft/Boot/</code>.</p> <p>-Tambi\u00e9n crear\u00e1 sus particiones t\u00edpicas:</p> <ul> <li>MSR (16 MB, reservada).</li> <li>C: (NTFS, donde va Windows).</li> <li>Recovery (~500 MB, para herramientas de recuperaci\u00f3n).</li> </ul> <p>-Al final de la instalaci\u00f3n, muestra en Gparted estas particiones que se han creado y expl\u00edcalas.</p> <p>7-Una vez instalado windows, vete el boot men\u00fa de tu disco virtual y selecciona ubuntu por defecto. \u00bfSale siempre grub cada vez que enciendes la m\u00e1quina virtual? Realiza las configuraciones de Grub (es decir, sigue los pasos que yo hago en el video)</p> <p>\u00a1Haced capturas a pantalla completa del proceso de instalaci\u00f3n. En el video que os dejo se ve qu\u00e9 ten\u00e9is que hacer, paso a paso!</p>"},{"location":"TEMA2/Practicas/4%C2%AA%20Pr%C3%A1ctica%20Migraci%C3%B3n%20de%20un%20disco%20de%20120%20GB%20%28M%C3%A1s%20grande%29%20a%20otro%20de%20100%20GB%20%28M%C3%A1s%20chico%29%20usando%20GParted%20y%20el%20comando%20dd/","title":"4\u00aa Practica: Migraci\u00f3n de un disco de 120 GB (M\u00e1s grande) a otro de 100 GB (M\u00e1s chico) usando GParted y el comando dd","text":"<p>Objetivo: Aprender a migrar un sistema instalado en un disco de mayor tama\u00f1o (160 GB) hacia otro m\u00e1s peque\u00f1o (120 GB), utilizando redimensionado y copia de particiones con GParted. La pr\u00e1ctica se realizar\u00e1 de forma segura en un entorno virtual, pero se dise\u00f1ar\u00e1 para que el alumno comprenda c\u00f3mo aplicar el mismo procedimiento en un ordenador real con SSDs f\u00edsicos.</p> <p>Video a seguir: https://drive.google.com/file/d/1WCdgbt8Ft16aUmUvdIfQaFHdDkuHqeV8/view?usp=sharing (volumen subido)</p>"},{"location":"TEMA2/Practicas/4%C2%AA%20Pr%C3%A1ctica%20Migraci%C3%B3n%20de%20un%20disco%20de%20120%20GB%20%28M%C3%A1s%20grande%29%20a%20otro%20de%20100%20GB%20%28M%C3%A1s%20chico%29%20usando%20GParted%20y%20el%20comando%20dd/#1-en-el-laboratorio-virtual-simulacion","title":"1 En el laboratorio virtual (simulaci\u00f3n)","text":"<p>Se usar\u00e1n dos discos virtuales en Virt-Manager: - Uno de 160 GB con un sistema ya instalado (origen). utilizad el disco de la practica anterior - Uno de 120 GB vac\u00edo (destino). Creadlo desde virt-maanger, debe ser un disco vac\u00edo.</p> <p>Se crear\u00e1 una m\u00e1quina intermedia que arranca con un Live CD de Ubuntu (es decir, ISO de Ubuntu) y que monta ambos discos a la vez, para redimensionar y clonar las particiones.</p>"},{"location":"TEMA2/Practicas/4%C2%AA%20Pr%C3%A1ctica%20Migraci%C3%B3n%20de%20un%20disco%20de%20120%20GB%20%28M%C3%A1s%20grande%29%20a%20otro%20de%20100%20GB%20%28M%C3%A1s%20chico%29%20usando%20GParted%20y%20el%20comando%20dd/#2-en-la-vida-real-aplicacion-practica","title":"2 En la vida real (aplicaci\u00f3n pr\u00e1ctica)","text":"<p>En lugar de discos virtuales, se trabaja con dos SSDs f\u00edsicos conectados al mismo equipo:</p> <ul> <li>El SSD de 160 GB con el sistema a migrar.</li> <li>El SSD de 120 GB vac\u00edo como destino.</li> </ul> <p>Para no interferir con el sistema en uso, se arranca el ordenador desde un Live USB/CD con GParted o desde una instalaci\u00f3n de Linux en un tercer disco distinto con LINUX instalado. Desde ah\u00ed se ejecutan las mismas operaciones que en la simulaci\u00f3n: redimensionar, copiar particiones y reinstalar GRUB en el nuevo disco.</p>"},{"location":"TEMA2/Practicas/4%C2%AA%20Pr%C3%A1ctica%20Migraci%C3%B3n%20de%20un%20disco%20de%20120%20GB%20%28M%C3%A1s%20grande%29%20a%20otro%20de%20100%20GB%20%28M%C3%A1s%20chico%29%20usando%20GParted%20y%20el%20comando%20dd/#3-pasos-principales-de-la-practica","title":"3 Pasos principales de la pr\u00e1ctica","text":"<p>1.Crear en Virt-Manager una nueva VM que arranque con la ISO de Ubuntu y monte los dos discos virtuales, el vac\u00edo y el de la pr\u00e1ctica anterior.</p> <p>2.Iniciar la VM con Ubuntu Live y redimensiona las particiones del disco de 120 GB hasta que quepan en 100 GB.</p> <p>3.Copiar las particiones al disco de 100 GB usando el comando dd.</p> <p>4.Es posible que al terminar de copiar, no puedas ver el disco copiado en Gparted (a mi no me pasa en el primer video pero es una posibilidad que os puede ocurrir, es decir). Los siguientes pasos en la pr\u00e1ctica se pueden seguir desde las capturas de pantalla o desde el siguiente video. Es t\u00e1n f\u00e1cil que desde las capturas os deber\u00eda salir solo: https://drive.google.com/file/d/1cXXj6BIagIzb9j_hg1KGPxTrxv4UCEh5/view?usp=sharing</p> <p>Cuando vais a abrir el disco copiado desde g-parted, os sale esto:</p> <p></p> <p>La idea es que GPT no ha podido copiar el \"backup\" que guardan las particiones GPT al final del disco (pensad por qu\u00e9 sucede esto). Para arreglarlo, deber\u00e9is ejecutar la siguiente secuencia de comandos:</p> <pre><code>sudo gdisk /dev/nvme0\n</code></pre> <p>(aqu\u00ed hareis referencia al disco en donde estais copiando la informaci\u00f3n)</p> <p></p> <p>Desupu\u00e9s pulsais la opci\u00f3n <code>e</code>  que consiste en: \"relocate backup strctures at the end of the disk\". \u00bfPor qu\u00e9 deb\u00e9is hacer esto? Contesta de forma que se entienda y sea explicativo.</p> <p></p> <p>Por \u00faltimo, una vez hab\u00e9is reubicado el backup al final del disco, le dais a la opci\u00f3n <code>w</code>  y despu\u00e9s <code>Y (de Yes)</code>que escribir\u00e1 los cambios establecidos mediante los pasos anteriores.</p> <p></p> <p>Si todo ha salido correctamente, podr\u00e9is ver el disco en G-Parted.</p> <p>5.Por ultimo, se pide verificar que el sistema inicia correctamente y que el espacio se ha adaptado al nuevo tama\u00f1o. Verifica con capturas como queda el disco final.</p>"},{"location":"TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/","title":"Sistemas de Virtualizaci\u00f3n","text":""},{"location":"TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/#1-que-es-un-sistema-de-virtualizacion","title":"1. \u00bfQu\u00e9 es un Sistema de Virtualizaci\u00f3n?","text":"<p>En inform\u00e1tica un sistema de virtualizaci\u00f3n se refiere a la creaci\u00f3n a trav\u00e9s de Software de un recurso tecnol\u00f3gico, este puede ser un ordenador f\u00edsico completo, u otros recursos de Hardware.</p> <p>Nos ofrece una abstracci\u00f3n de los recursos hardware de un ordenador a trav\u00e9s de lo que llamaremos Hypervisor.</p> <p>Los sistemas virtualizados han sido un gran avance en las tecnolog\u00edas de la informaci\u00f3n, las ventajas de estos sistemas en cuanto a aprovechamiento de recursos han hecho que sean una opci\u00f3n cada vez m\u00e1s usada en los sistemas de informaci\u00f3n incluidos los servidores.</p> <p>Ahora es posible hacer pr\u00e1cticas que antes eran inviables de llevar a cabo en una clase ordinaria por la insuficiencia de recursos hardware, o por los problemas derivados de realizarlas.</p> <p>Por poner alg\u00fan ejemplo, cuando se estudia la interconexi\u00f3n de ordenadores en red, antes era necesaria la coordinaci\u00f3n de un m\u00ednimo de dos ordenadores con sus respectivos alumnos para hacer las pruebas, mientras que ahora se pueden hacer usando una sola m\u00e1quina anfitriona y otra virtualizada. Otro claro ejemplo, es la instalaci\u00f3n de varios sistemas operativos en la misma m\u00e1quina sin peligro de que un mal paso modifique el arranque, o altere accidentalmente particiones de alguno de los sistemas que se pretend\u00eda hacer \u201cconvivir\u201d en el mismo sistema. Las ventajas de este sistema frente a otros para realizar las pruebas este modelo no modifica en ning\u00fan momento el sistema sobre el que se instala. En este modelo existe un administrador de los recursos hardware llamado Hypervisor, o monitor de m\u00e1quina virtual que ser\u00e1 el encargado de hacer las peticiones a la CPU y administrar los privilegios en dichas peticiones. En nuestro caso Virt-manager ser\u00e1 este Hypervisor</p> <p>Una m\u00e1quina virtual es un contenedor de software perfectamente aislado que puede ejecutar sus propios sistemas operativos y aplicaciones como si fuera un ordenador f\u00edsico. La m\u00e1quina virtual se comporta exactamente igual que un ordenador f\u00edsico y contiene su propia CPU virtual, memoria, disco duro, tarjeta de interfaz de red... A todos los efectos una m\u00e1quina virtual se considera como una m\u00e1quina con su sistema operativo propio incluso los otros ordenadores de la red as\u00ed lo ver\u00e1n. </p>"},{"location":"TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/#2-guest-y-host","title":"2. Guest y Host","text":"<p>A medida que vayamos leyendo documentaci\u00f3n veremos muchas maneras de referirse a las m\u00e1quinas virtualizadas y a los hypervisores. Una de las nomenclaturas que m\u00e1s puede aparecer son las palabras Guest y Host :</p> <ul> <li>Guest (invitado) es la m\u00e1quina virtualizada, la que vive \"dentro\" de la m\u00e1quina real.</li> <li>Host (anfitri\u00f3n) es la m\u00e1quina real, la que dispone de hardware real y virtualiza las otras.</li> </ul>"},{"location":"TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/#3-ventajas-de-la-virtualizacion","title":"3. Ventajas de la Virtualizaci\u00f3n","text":"<p>La principal ventaja de la virtualizaci\u00f3n es poder tener varios sistemas dentro de un solo hardware f\u00edsico como si de varias m\u00e1quinas con sus respectivos componentes hardware se tratase, siendo independientes los unos de los otros.</p> <p>Otras de las ventajas son:</p> <ul> <li>Los usuarios ver\u00e1n los recursos que usan como si fueran dedicados.</li> <li>Una administraci\u00f3n centralizada. Facilita hacer recursos m\u00e1s homog\u00e9neos llegando a estandarizarlos.</li> <li>Soporta trasladar sistemas y configuraciones de un sistema a otro, incluso en \u201ccaliente\u201d.</li> <li>Mejora la tolerancia a fallos, si cae un sistema los otros siguen inalterados. Facilita las copias de seguridad.</li> </ul>"},{"location":"TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/#4-desventajas-de-la-virtualizacion","title":"4. Desventajas de la Virtualizaci\u00f3n","text":"<p>La principal desventaja de la virtualizaci\u00f3n, es que l\u00f3gicamente el sistema principal que soportara las m\u00e1quinas virtuales, debe disponer de una mayor cantidad y potencia de recursos a mayor n\u00famero de sistemas queramos tener virtualizados en \u00e9l. Los componentes principales que determinar\u00e1n el n\u00famero de m\u00e1quinas virtuales que se podr\u00e1n soportar sobre un hardware y el rendimiento de cada una de ellas son: la cantidad y velocidad de memoria RAM, la potencia del procesador y la velocidad de lectura, acceso y transferencia del disco duro, aunque hay m\u00e1s factores que determinar\u00e1n el rendimiento final del sistema.</p>"},{"location":"TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/#5-tipos-de-virtualizacion","title":"5. Tipos de Virtualizaci\u00f3n","text":"<p>Cuando hablamos de virtualizaci\u00f3n es importante distinguir dos cosas:</p> <ol> <li>D\u00f3nde se ejecuta el hipervisor (clasificaci\u00f3n en tipo 1 o tipo 2).</li> <li>Qu\u00e9 t\u00e9cnica de virtualizaci\u00f3n se utiliza (virtualizaci\u00f3n completa, paravirtualizaci\u00f3n o emulaci\u00f3n).</li> </ol>"},{"location":"TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/#51-hipervisor-tipo-1-bare-metal","title":"5.1. Hipervisor tipo 1 (bare metal)","text":"<p>El hipervisor tipo 1, tambi\u00e9n llamado nativo o bare metal, es aquel que se ejecuta directamente sobre el hardware f\u00edsico, sin que haya un sistema operativo anfitri\u00f3n por debajo, es decir, in hipervisor tipo 1 (bare metal) no necesita que antes instales un sistema operativo como Windows o Linux. El propio hipervisor se instala directamente en el hardware, igual que si fuera un sistema operativo. De este modo, el propio hipervisor se encarga de gestionar la CPU, la memoria, el almacenamiento y los dispositivos de red, y reparte esos recursos entre las m\u00e1quinas virtuales. El siguiente ejemplo es bastante descriptivo:</p> <p>Cuando instalas VMware ESXi en un servidor:</p> <ul> <li>Descargas la ISO de ESXi.</li> <li>La grabas en un USB o CD.</li> <li>Arrancas el servidor y lo instalas en el disco duro.</li> </ul> <p>Al terminar, no tendr\u00e1s \u201cWindows\u201d ni \u201cLinux\u201d de fondo: lo \u00fanico que hay es el hipervisor. Desde \u00e9l gestionas las m\u00e1quinas virtuales.</p> <p>Al ejecutarse directamente sobre el hardware, este tipo de hipervisor ofrece un mayor rendimiento y estabilidad, por lo que es el modelo preferido en servidores y entornos de producci\u00f3n..</p> <p></p> <p>Ejemplos de esta tecnologia:</p> <ul> <li>VMware ESXi (free y de pago)</li> <li>Xen (libre)</li> <li>Microsoft Hyper-V Server (gratis)</li> <li>Proxmox VE (gratis/de pago, basado en KVM)</li> </ul> <p>Un peque\u00f1o apunte sobre lo anterior es que hay veces que el hipervisor puede ser considerado de tipo 1 aunque corra sobre un sistema operativo, pero son casos muy especiales. Por ejemplo:</p> <p>Proxmox VE se basa en Debian Linux. En este caso s\u00ed hay un sistema operativo, pero est\u00e1 tan integrado con el hipervisor (KVM + LXC) que, a efectos pr\u00e1cticos, se considera tipo 1, porque el control de hardware y la gesti\u00f3n de VMs la hace directamente el kernel de Linux.</p>"},{"location":"TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/#52-hipervisor-tipo-2-hosted","title":"5.2. Hipervisor tipo 2 (HOSTED)","text":"<p>El hipervisor tipo 2, tambi\u00e9n llamado hosted, funciona como una aplicaci\u00f3n que se instala dentro de un sistema operativo anfitri\u00f3n (Windows, Linux o macOS). En este modelo, es el sistema operativo host el que controla directamente el hardware, mientras que el hipervisor se limita a pedirle recursos para repartirlos entre las m\u00e1quinas virtuales.</p> <p>Este enfoque introduce una capa adicional, lo que implica algo menos de rendimiento que en el caso del tipo 1. Sin embargo, ofrece la gran ventaja de la simplicidad: basta con instalarlo como un programa m\u00e1s y en pocos minutos se pueden crear y ejecutar m\u00e1quinas virtuales. Por eso se usa sobre todo en entornos de escritorio, pruebas de software, formaci\u00f3n o desarrollo.</p> <p></p> <p>Ejemplos :</p> <ul> <li>VirtualBox (gratis)</li> <li>VMware Server (gratis)</li> <li>QEMU (libre, sin KVM, qunque veremos que tambi\u00e9n funciona como emulador)</li> </ul>"},{"location":"TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/#53-tecnicas-de-virtualizacion","title":"5.3 T\u00e9cnicas de virtualizaci\u00f3n","text":"<p>Independientemente de que un hipervisor sea tipo 1 o tipo 2, puede utilizar diferentes t\u00e9cnicas para hacer funcionar a los sistemas invitados:</p> <ul> <li>Virtualizaci\u00f3n completa: se refiere principalmente a la ejecuci\u00f3n del procesador invitado. </li> </ul> <p>Puede implementarse tanto en un hipervisor tipo 1 como en uno de tipo 2. La diferencia entre tipo 1 y 2 es la capa sobre la que corre el hipervisor.</p> <p>En este modelo, el sistema invitado funciona como si estuviera en un hardware f\u00edsico real y no necesita modificaciones especiales. </p> <p>Si la CPU no soporta estas instrucciones especiales: El hipervisor no puede ejecutar directamente las instrucciones del guest en la CPU f\u00edsica. Para que la VM funcione, se recurre a t\u00e9cnicas de emulaci\u00f3n o \u201ctraducci\u00f3n binaria\u201d, donde el hipervisor intercepta y traduce las instrucciones que el guest intenta ejecutar. Esto implica una sobrecarga enorme y un rendimiento mucho m\u00e1s bajo</p> <ul> <li>Paravirtualizaci\u00f3n: se aplica sobre todo a los dispositivos de entrada/salida (E/S), como discos, tarjetas de red o memoria. Aunque la CPU pueda ejecutarse directamente gracias a la virtualizaci\u00f3n completa, los perif\u00e9ricos virtuales a\u00fan deben presentarse al sistema invitado. Esto puede hacerse de dos formas:</li> </ul> <p>En lugar de emular hardware real (como en el caso de la virtualizaci\u00f3n completa), el hipervisor ofrece dispositivos virtuales dise\u00f1ados espec\u00edficamente para entornos virtuales. Aqu\u00ed entra en juego virtio, un est\u00e1ndar que define c\u00f3mo se comunican estos dispositivos con el hipervisor de manera m\u00e1s eficiente. No son copias de hardware f\u00edsico, sino interfaces simplificadas y optimizadas que reducen la sobrecarga y aumentan el rendimiento.</p> <p>Ejemplos de dispositivos virtio son:</p> <ul> <li>virtio-blk: discos paravirtualizados m\u00e1s r\u00e1pidos que los IDE o SATA emulados.</li> <li>virtio-scsi: discos con interfaz SCSI optimizada.</li> <li>virtio-net: tarjetas de red m\u00e1s r\u00e1pidas y ligeras que las emuladas.</li> </ul> <p>La ventaja de virtio es clara: mayor rendimiento en disco, red y memoria, junto con un menor uso de CPU en el host frente a la emulaci\u00f3n tradicional.</p> <p>En cuanto a los controladores, los sistemas Linux ya incluyen drivers virtio en su kernel, por lo que funcionan de inmediato. En cambio, Windows no los incorpora por defecto, y es necesario instalarlos manualmente desde el proyecto oficial: VirtIO drivers (Fedora Project).</p>"},{"location":"TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/#6emulacion","title":"6.Emulaci\u00f3n","text":"<p>La emulaci\u00f3n es cuando un software simula por completo un hardware diferente al real.</p> <ul> <li>El host (tu m\u00e1quina f\u00edsica) tiene una arquitectura de CPU concreta, por ejemplo x86_64 (Intel/AMD).</li> <li>Con emulaci\u00f3n puedes ejecutar un sistema operativo invitado de otra arquitectura, por ejemplo ARMv7, MIPS o PowerPC.</li> <li>El emulador traduce cada instrucci\u00f3n que espera esa CPU \u201cfalsa\u201d a instrucciones que entienda la CPU real.</li> </ul> <p>Esto permite una compatibilidad total (puedes correr casi cualquier sistema en casi cualquier host), pero el rendimiento es bajo porque cada instrucci\u00f3n debe traducirse.</p>"},{"location":"TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/#7-qemu-kvm-explicacion-instalacion-en-ubuntu","title":"7. QEMU + KVM (Explicaci\u00f3n + Instalaci\u00f3n en Ubuntu)","text":"<p>QEMU/KVM es la combinaci\u00f3n de dos piezas de software que, al trabajar juntas, convierten a Linux en un potente entorno de virtualizaci\u00f3n. Sin embargo, hay que distinguir cu\u00e1l es su funcionamiento cuando van juntos y cuando van separados.</p> <p>Por un lado est\u00e1 QEMU, que naci\u00f3 como un emulador capaz de reproducir distintas arquitecturas de CPU y de crear m\u00e1quinas virtuales completas con sus discos, redes y dispositivos. Por s\u00ed solo, QEMU puede funcionar tanto como emulador (ejecutando arquitecturas distintas, aunque con menor rendimiento) como hipervisor tipo 2 (cuando ejecuta la misma arquitectura que el host, pero sin aceleraci\u00f3n por hardware).</p> <p>La segunda pieza es KVM (Kernel-based Virtual Machine), un m\u00f3dulo del kernel de Linux que aprovecha las extensiones de virtualizaci\u00f3n de las CPUs modernas (Intel VT-x, AMD-V, ARM-VT) y transforma al propio kernel en un hipervisor tipo 1. Esto significa que, gracias a KVM, Linux ya no solo act\u00faa como un sistema operativo, sino tambi\u00e9n como el gestor que reparte el hardware f\u00edsico entre las m\u00e1quinas virtuales.</p> <p>Cuando se combinan, QEMU y KVM se reparten el trabajo: KVM se encarga de la ejecuci\u00f3n directa de la CPU invitada sobre el hardware, logrando un rendimiento pr\u00e1cticamente nativo, mientras que QEMU proporciona la infraestructura alrededor de esa CPU, es decir, los dispositivos virtuales (discos, red, gr\u00e1ficos, memoria, snapshots, etc.). As\u00ed, el resultado pr\u00e1ctico es un sistema que ofrece la potencia de un hipervisor tipo 1, con la flexibilidad de un hipervisor tipo 2, porque puedes gestionarlo desde el espacio de usuario como si fuera una aplicaci\u00f3n m\u00e1s.</p> <p>Aqu\u00ed es donde entran en juego las t\u00e9cnicas de virtualizaci\u00f3n:</p> <ul> <li>Para la CPU, QEMU + KVM utiliza virtualizaci\u00f3n completa. Gracias a las extensiones de hardware, las instrucciones del sistema invitado se ejecutan directamente en el procesador f\u00edsico, sin necesidad de modificaciones y con un rendimiento casi igual al nativo.</li> <li>Para los dispositivos de entrada/salida, QEMU ofrece dos posibilidades: emulaci\u00f3n de hardware real conocido (compatible, pero lenta) o paravirtualizaci\u00f3n mediante virtio, un est\u00e1ndar que define dispositivos optimizados para entornos virtuales. Con virtio, discos, tarjetas de red o controladores de memoria funcionan de forma mucho m\u00e1s r\u00e1pida y eficiente, reduciendo la carga de CPU en el host.</li> </ul> <p>En cuanto a d\u00f3nde puede ejecutarse, QEMU/KVM corre en hosts que utilicen Linux como sistema operativo y que dispongan de CPU con soporte de virtualizaci\u00f3n por hardware. Es habitual usarlo en servidores con distribuciones como Ubuntu, Debian, CentOS, Fedora o Proxmox (que, de hecho, se apoya en QEMU/KVM). Tambi\u00e9n funciona en ordenadores de escritorio con Linux, lo que lo convierte en una soluci\u00f3n tanto para entornos de producci\u00f3n como para desarrollo y pruebas.</p> <p>Su funcionalidad principal es crear y ejecutar m\u00e1quinas virtuales de alto rendimiento. Con QEMU/KVM puedes levantar sistemas invitados Windows, Linux, BSD o incluso macOS (con algunas limitaciones), asign\u00e1ndoles recursos de tu host como CPU, memoria, disco y red. Adem\u00e1s, gracias a virtio y otros controladores paravirtualizados, esas m\u00e1quinas alcanzan velocidades de disco y red muy cercanas al hardware real.La instalaci\u00f3n en Ubuntu es bastante directa. Primero se actualizan los paquetes:</p> <pre><code>sudo apt update &amp;&amp; sudo apt upgrade\n</code></pre> <p>Despu\u00e9s se instalan QEMU, KVM y las utilidades necesarias para gestionar m\u00e1quinas virtuales:</p> <pre><code>sudo apt install qemu-kvm libvirt-daemon-system libvirt-clients bridge-utils virt-manager\n</code></pre> <p>Las explicamos a continuaci\u00f3n:</p> <p><code>qemu-kvm</code></p> <p>Es el paquete que instala QEMU con soporte para KVM. Aqu\u00ed tienes la base del sistema de virtualizaci\u00f3n: QEMU para emular y gestionar las m\u00e1quinas virtuales, y la integraci\u00f3n con KVM para que la CPU invitada use directamente el hardware del host con rendimiento casi nativo.</p> <p><code>libvirt-daemon-system</code></p> <p>Libvirt es una capa de gesti\u00f3n que se comunica con KVM y QEMU. Permite administrar m\u00e1quinas virtuales de forma uniforme, tanto desde la l\u00ednea de comandos como desde interfaces gr\u00e1ficas. Este paquete instala el demonio de libvirt, que se ejecuta en segundo plano y act\u00faa como \u201cintermediario\u201d entre tus comandos y el hipervisor.</p> <p><code>libvirt-clients</code></p> <p>Son las herramientas de cliente  mencionadas de libvirt, como <code>virsh</code>. Con ellas puedes crear, arrancar, apagar, pausar y configurar m\u00e1quinas virtuales desde la terminal. Ejemplo:</p> <pre><code>virsh list --all\n</code></pre> <p><code>bridge-utils</code></p> <p>Herramientas para crear y administrar puentes de red (bridges) en Linux. Esto sirve para que tus m\u00e1quinas virtuales puedan conectarse a la red como si fueran equipos f\u00edsicos m\u00e1s, con su propia direcci\u00f3n IP. Sin esto, solo tendr\u00edas NAT b\u00e1sico, y las VMs no ser\u00edan accesibles directamente desde la red local.</p> <p><code>virt-manager</code></p> <p>Es la interfaz gr\u00e1fica oficial para gestionar m\u00e1quinas virtuales con QEMU/KVM y libvirt. Muy \u00fatil si no quieres hacerlo todo desde la l\u00ednea de comandos. Te permite crear nuevas VMs, asignar CPU, RAM, discos y redes, adem\u00e1s de ver la consola gr\u00e1fica de los invitados.</p> <p>Finalmente, se a\u00f1ade al usuario al grupo <code>libvirt</code> para gestionar las VMs sin permisos de root:</p> <p><code>sudo usermod -aG libvirt $USER</code></p> <p>E inicia el demonio y comprueba el estado</p> <p><code>sudo systemctl enable --now libvirtd</code> <code>sudo systemctl status libvirtd</code></p> <p>Despu\u00e9s, reinicia el sistema</p>"},{"location":"TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/#8-virtualizacion-anidada","title":"8. Virtualizaci\u00f3n Anidada","text":"<p>QEMU es solo un software de emulaci\u00f3n/virtualizaci\u00f3n en espacio de usuario. Siempre puedes instalarlo en cualquier Linux, incluso dentro de una VM, y ejecutar m\u00e1quinas virtuales en modo emulaci\u00f3n (por ejemplo, un ARM sobre un host x86).</p> <p>Para poder usar KVM dentro de una m\u00e1quina virtual necesitas lo que se conoce como virtualizaci\u00f3n anidada. KVM, a diferencia de QEMU puro, requiere acceso directo a las extensiones de virtualizaci\u00f3n de la CPU (Intel VT-x o AMD-V). Si la m\u00e1quina virtual que act\u00faa como \u201chost dentro del host\u201d no recibe esas extensiones, entonces dentro de ella solo podr\u00e1s usar QEMU en modo emulaci\u00f3n, lo que es mucho m\u00e1s lento.</p> <p>Que esto funcione o no depende del hipervisor en el que est\u00e9 corriendo tu primera m\u00e1quina virtual. Por ejemplo, en VirtualBox puedes instalar QEMU sin problemas, pero no tendr\u00e1s KVM porque VirtualBox no expone VT-x al invitado, de modo que estar\u00e1s limitado a la emulaci\u00f3n. En  QEMU/KVM  o en ESXi s\u00ed es posible habilitar la virtualizaci\u00f3n anidada desde la configuraci\u00f3n de la m\u00e1quina virtual, lo que permite que KVM funcione dentro de ella, all\u00ed puedes activar la opci\u00f3n <code>nested=1</code> en el m\u00f3dulo KVM del kernel para que los invitados puedan aprovechar estas extensiones de hardware.</p> <p>Para comprobar si KVM est\u00e1 disponible dentro de tu m\u00e1quina virtual basta con ejecutar:</p> <pre><code>egrep -c '(vmx|svm)' /proc/cpuinfo\n</code></pre> <p>Si el resultado es 0, significa que tu hipervisor no est\u00e1 exponiendo las extensiones de virtualizaci\u00f3n y solo podr\u00e1s usar QEMU en modo emulaci\u00f3n. En cambio, si el resultado es mayor que 0, tu invitado s\u00ed tiene acceso a VT-x o AMD-V y por tanto podr\u00e1s usar KVM, siempre que la virtualizaci\u00f3n anidada est\u00e9 activada en el host principal.</p> <p>En caso de no poder, sigue los siguientes pasos:</p> <p>Edita la configuraci\u00f3n de KVM para permitir \u201cnested virtualization\u201d:</p> <pre><code>sudo nano /etc/modprobe.d/kvm.conf\n</code></pre> <p>A\u00f1ade una de estas l\u00edneas seg\u00fan tu CPU:</p> <ul> <li>Para Intel:</li> </ul> <pre><code>options kvm-intel nested=1\n</code></pre> <ul> <li>Para AMD:</li> </ul> <pre><code>options kvm-amd nested=1\n</code></pre> <p>Recarga el m\u00f3dulo KVM:</p> <pre><code>sudo modprobe -r kvm_intel\nsudo modprobe kvm_intel\n</code></pre> <p>Comprueba si est\u00e1 activo:</p> <pre><code>cat /sys/module/kvm_intel/parameters/nested\n</code></pre> <p>debe mostrar <code>Y</code> (yes).</p>"},{"location":"TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/#9-emulacion-con-qemu","title":"9. Emulaci\u00f3n con QEMU","text":"<p>QEMU permite no solo virtualizar sistemas de la misma arquitectura que el host, sino tambi\u00e9n emular arquitecturas diferentes. Esto es \u00fatil, por ejemplo, para ejecutar un sistema operativo compilado para ARM en un ordenador con CPU x86.</p> <p>En este caso, se puede crear una m\u00e1quina virtual que emule un sistema ARM y arrancar en ella una distribuci\u00f3n Debian ARM. Para lograrlo, primero hay que tener algunas arquitecturas previas instaladas para QEMU</p>"},{"location":"TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/#10-gestion-de-maquinas-virtuales-a-traves-de-comandos-no-estudiar-comandos-ni-ejecutar","title":"10. Gesti\u00f3n de M\u00e1quinas virtuales a trav\u00e9s de comandos (NO ESTUDIAR COMANDOS NI EJECUTAR)","text":"<p>En esta secci\u00f3n veremos conceptos muy sencillos de nuestra m\u00e1quina virtual. Aunque aqu\u00ed deje comandos, lo m\u00e1s importante es que sep\u00e1is hacerlo desde la GUI (desde la propia aplicaci\u00f3n). Repito, no teneis que saber los comandos, teneis que saber hacer esto desde la interfaz gr\u00e1fica.</p>"},{"location":"TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/#101-ver-maquinas-virtuales","title":"10.1. Ver m\u00e1quinas virtuales","text":"<p>Listar las m\u00e1quinas que est\u00e1n encendidas:</p> <pre><code>virsh list\n</code></pre> <p>Listar todas (incluidas apagadas):</p> <pre><code>virsh list --all\n</code></pre> <p>Evidentemente, \u00bfc\u00f3mo es testo desde la interfaz gr\u00e1fica? Dejo captura:</p> <p></p>"},{"location":"TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/#102-encender-apagar-reiniciar","title":"10.2. Encender / apagar / reiniciar","text":"<p>Encender una VM:</p> <pre><code>virsh start NOMBRE_VM\n</code></pre> <p>Apagar de forma normal (como pulsar el bot\u00f3n de apagado):</p> <pre><code>virsh shutdown NOMBRE_VM\n</code></pre> <p>Forzar apagado (como quitar el cable de corriente):</p> <pre><code>virsh destroy NOMBRE_VM\n</code></pre> <p>Reiniciar:</p> <pre><code>virsh reboot NOMBRE_VM\n</code></pre> <p>Evidentemente, \u00bfc\u00f3mo es esto desde la interfaz gr\u00e1fica? </p> <p>Es tan sencillo como encenderlas y apagarlas desde la aplicaci\u00f3n. No adjunto captura porque es evidente.</p>"},{"location":"TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/#103-redes-y-almacenamiento","title":"10.3 Redes y almacenamiento","text":"<p>Cuando gestionas m\u00e1quinas virtuales con QEMU/KVM y libvirt, no solo controlas el encendido o apagado de las VMs, sino tambi\u00e9n dos recursos fundamentales: la red y el almacenamiento. Estos son los que permiten que las m\u00e1quinas virtuales puedan comunicarse y guardar sus datos de forma persistente.</p> <p>Por defecto, al instalarlo, aparece una red llamada <code>default</code>, que funciona en modo NAT. Esto significa que tus m\u00e1quinas virtuales tienen acceso a Internet usando la IP del host como \u201cpuerta de enlace\u201d, pero desde la red local no se puede acceder directamente a ellas. Adem\u00e1s del modo NAT, libvirt permite crear otros tipos de redes:</p> <ul> <li>Puente (bridge): la VM se conecta directamente a la misma red que el host, con su propia IP visible en el router.</li> </ul> <p>En la pr\u00e1ctica, puedes listar las redes que existen con:</p> <pre><code>virsh net-list --all\n</code></pre> <p>Arrancar una red:</p> <pre><code>virsh net-start default\n</code></pre> <p>Ojo, se pueden instalar m\u00e1s tipos de redes, como las isolated. Investigad al respecto.</p> <p>En cuanto al almacenamiento, libvirt organiza los discos virtuales dentro de lo que llama pools de almacenamiento. Un pool es como un \u201ccontenedor\u201d donde se guardan los discos de las m\u00e1quinas virtuales (im\u00e1genes <code>.qcow2</code>, <code>.raw</code>, etc.). </p> <p>Es fundamental aclarar qu\u00e9 tipos de discos virtuales existen en KVM/QEMU/libvirt, porque de eso depende el rendimiento, la flexibilidad y hasta el tama\u00f1o que ocupar\u00e1n en tu sistema. Cuando hablamos de discos virtuales nos referimos a las unidades de memoria paravirtualizadas donde se instalar\u00e1 el sistema operativo (usaremos ISO's para instalar el sistema operativo en los discos paravirtualizados).</p> <ul> <li> <p>El m\u00e1s b\u00e1sico es el formato raw (no lo usaremos, pero saber que existe es importante), que no es m\u00e1s que un archivo plano que ocupa en el disco exactamente el tama\u00f1o que le hayas asignado. Por ejemplo, si decides crear un disco de 20 GB en formato raw, ese archivo pesar\u00e1 20 GB desde el primer momento, aunque dentro de la m\u00e1quina virtual solo hayas guardado unos pocos archivos. La ventaja de este formato es que ofrece el mejor rendimiento posible, ya que no hay ninguna capa de gesti\u00f3n adicional, y adem\u00e1s es muy compatible con otros sistemas de virtualizaci\u00f3n. Su desventaja es que consume espacio de forma innecesaria si no se llena todo el disco.</p> </li> <li> <p>Por otro lado, el formato m\u00e1s popular en entornos de QEMU/KVM es qcow2 (es el que usaremos). A diferencia de raw, este formato es din\u00e1mico: el archivo crece a medida que la m\u00e1quina virtual va escribiendo datos, de manera que si le asignas 20 GB pero solo usas 2 GB, en el host ese archivo ocupar\u00e1 aproximadamente esos 2 GB. Adem\u00e1s, qcow2 incorpora funciones avanzadas muy \u00fatiles como la posibilidad de hacer snapshots (puntos de restauraci\u00f3n de la m\u00e1quina), compresi\u00f3n para ahorrar espacio e incluso cifrado. El precio a pagar es un peque\u00f1o descenso en el rendimiento respecto a raw, ya que necesita gestionar esta capa extra de funcionalidad. Crear un disco qcow2 es lo m\u00e1s com\u00fan en virt-manager. lo podemos crear de forma din\u00e1mica cuando instalamos, o podemos crear un disco virtual vac\u00edo donde instalaremos un sistema operativo.</p> </li> </ul> <p>En el siguiente v\u00eddeo se detalla conceptos b\u00e1sicos que necesitais saber de los discos qcow2 en vuestras maquinas virtuales, como redimensionarlos:</p> <p>https://drive.google.com/file/d/1CcsgfeX-QKxMTJq-pRBTaAmoTakn_z_t/view?usp=sharing</p> <ul> <li> <p>Existen tambi\u00e9n otros formatos pensados principalmente para la compatibilidad entre plataformas. Uno de ellos es el vmdk (no lo veremos), que es el formato nativo de VMware. Usarlo en KVM puede ser \u00fatil si planeas mover m\u00e1quinas virtuales entre entornos de VMware y QEMU/KVM. Otro formato similar es vdi, que es el que utiliza VirtualBox. De la misma forma, resulta pr\u00e1ctico cuando quieres migrar m\u00e1quinas desde VirtualBox hacia KVM o al rev\u00e9s.</p> </li> <li> <p>La siguiente captura muestra c\u00f3mo he creado un disco virtual vac\u00edo, que servir\u00e1 posteriormente para instalar un sistema operativo (es decir, para crear una m\u00e1quina virtual). Para ello, acced\u00ed al men\u00fa de creaci\u00f3n y puls\u00e9 el bot\u00f3n \u201c+\u201d situado junto a la secci\u00f3n Vol\u00famenes. All\u00ed gener\u00e9 el disco virtual vac\u00edo, que qued\u00f3 almacenado en la carpeta /home/manolo/Escritorio/Mis maqunas virtuales\u201d. Esta carpeta la he creado yo y est\u00e1 montada como un directorio en el que puedo guardar m\u00e1quinas virtuales, tanto vac\u00edas como con sistemas ya instalados. Las carpetas en las que se almacenan las m\u00e1quinas virtuales (archivos .qcow2 o las im\u00e1genes ISO ) se denominan \u201cpools de almacenamiento\u201d. En el apartado 10.4 explicamos este concepto con m\u00e1s detalle. Por ahora, lo importante es quedarse con la idea de que hay que crear una m\u00e1quina virtual vac\u00eda o un disco virtual vac\u00edo (los t\u00e9rminos pueden usarse indistintamente). En este punto, he salido del asistente de creaci\u00f3n de la m\u00e1quina virtual tras generar el disco. la siguiente captura muestra c\u00f3mo cree el disco virtual vac\u00edo.</p> </li> </ul> <p></p> <ul> <li>Una vez he creado el disco virtual vac\u00edo, vamos a proceder a instalar una sistema operativo en \u00e9l (es decir, una m\u00e1quina virtual). para ello, elegimos iniciar una m\u00e1quina virtual a trav\u00e9s de una iso.</li> </ul> <p></p> <ul> <li>Cuando ya hemos elegido la ISO y hemos asignado memoria y CPU l\u00f3gicas, podemos escoger entre dos opciones: Un disco vac\u00edo existente:</li> </ul> <p></p> <ul> <li>O elegir crear uno nuevo de forma din\u00e1mica (por defecto se guardar\u00e1 en /var/lib/libvirt/images)</li> </ul> <p></p>"},{"location":"TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/#104-pools-de-almacenamiento","title":"10.4 Pools de almacenamiento","text":"<p>Un pool de almacenamiento en libvirt/Virt-Manager es b\u00e1sicamente un contenedor l\u00f3gico que define d\u00f3nde se guardan los discos virtuales (donde hemos instalado el sistema operativo en el punto anterior) y las ISOs que usar\u00e1n tus m\u00e1quinas virtuales.</p> <ul> <li>dir: Directorio del Sistema de Archivos**</li> </ul> <p>El m\u00e1s com\u00fan y sencillo.Es simplemente una carpeta en tu host (ej. <code>/var/lib/libvirt/images/</code> o <code>/home/usuario/isos</code>).Dentro de ella guardas archivos <code>.qcow2</code>, <code>.raw</code> o <code>.iso</code>.</p> <p>Para crearlo, vasta ir adarle el boton de crear una m\u00e1quina virtual a trav\u00e9s de una ISO o un medio de almacenamiento existente (spoiler, no crearemos una m\u00e1quina virtual) y cuando nos pregunte que disco virtual quiero elegir para iniciarla, le damos al bot\u00f3n \"+\" de abajo a la izquierda:</p> <p></p> <p>Una vez le damos, nos da la opci\u00f3n de creaar un pool (un lugar donde guardar nuestros discos virtuales)</p> <p></p> <p>En este caso, al pool le he puesto el nombre \"Mis_volumenes\", y le he asignado la carpeta /home/manolo/Escritorio/Mis  maquinas virtuales. Ah\u00ed es donde guardar\u00e9 tanto mis discos qcow2 (vac\u00edos como con Sistemas operativos) c\u00f3mo mis ISOS. De hecho, aqu\u00ed guard\u00e9 el disco virtual del punto anterior.</p> <p>El siguiente video muestra como crear un pool de almacenamientos en virt manager:</p> <p>https://drive.google.com/file/d/1B0IeVjZ5RCvOnhJReWRR3JhB2r_bWwAB/view?usp=sharing</p> <ul> <li>disk: Dispositivo de Disco F\u00edsico**</li> </ul> <p>Usa un disco entero (<code>/dev/sdb</code>, <code>/dev/sdc</code>, etc.) como pool. El USB debe estar sin particionar o con todo el disco libre. Cuando lo declares como pool tipo disk (<code>/dev/sdb</code>, <code>/dev/sdc</code>, etc.), libvirt lo formatear\u00e1 y lo dedicar\u00e1 exclusivamente a guardar vol\u00famenes. No podr\u00e1s usar el USB desde el explorador de archivos del host porque no tendr\u00e1 un sistema de ficheros tradicional (ser\u00e1 gestionado directamente por libvirt)</p> <ul> <li>fs: Dispositivo de Bloque Preformateado</li> </ul> <p>Sirve para guardar dentro de una partici\u00f3n del USB. El usb deber\u00f1\u00e1 tener esquema de particiones GPT y una particion con formato de datos ext4. En el video siguiente explico esto. M\u00e1s concretamente, en el minuto:</p> <p>https://drive.google.com/file/d/1TanUWvXigGdC3ImH65bwfNMAaGITSrAl/view?usp=sharing</p> <p>Cuando vas a crear una m\u00e1quina virtual, puedes crear tu propio pool de almacenamiento seg\u00fan te convenga. Hay m\u00e1s opciones, pero con estas tres, por ahora es m\u00e1s que suficiente. La primera de las opciones es la mas comoda y te permitir\u00e1 compartir tus MV's facilmentes una vez comprimidas. Los USB tambi\u00e9n es buena idea. El problema ser\u00e1 el almacenamiento del que disponfra el sub. En el siguiente video os dejo como podeis instalar vuestras maquinas virtuales en un usb para poder llevaroslas a casa.</p>"},{"location":"TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/#105-gestion-de-snapshots","title":"10.5. Gesti\u00f3n de snapshots","text":"<p>Un snapshot es como una \u201cfoto\u201d de tu m\u00e1quina virtual en un momento dado. Incluye: El estado del disco (qu\u00e9 datos ten\u00eda en ese instante). Opcionalmente, el estado de la memoria RAM y la CPU (es decir, la VM en pausa, lista para reanudar).</p> <p></p> <p>Para crear una instantanea le dariamos a +</p> <p></p> <p>y le damos una descripcion</p> <p></p> <p>Para recuperar el estado de la maquina antes del snapshot, basta con seleccionar el snapshot:</p> <p></p> <p>Y darle a start abajo a la derecha</p> <p>En el siguiente video os dejo la gesti\u00f3n de snapshots en vuestras m\u00e1quinas virtuales: https://drive.google.com/file/d/1jHOEC1C7SAE8vjoMVcKHFLnPulCEODGe/view?usp=drive_link</p>"},{"location":"TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/#106-clonacion-de-maquinas-virtuales-y-redimensionar-una-maquina-virtual","title":"10.6. Clonaci\u00f3n de Maquinas Virtuales y redimensionar una m\u00e1quina virtual","text":"<p>Desde la interfaz gr\u00e1fica, click derecho + clonar. Importante crear un disco virtual nuevo al clonar (se hace por defecto) y hacerlo con la maquina apagada.</p> <p></p> <p>En esencia es clonar el disco (copiar y pegar el disco donde esta instalado la maquina que queremos clonar)</p> <p></p> <p>En este caso le doy un nuevo nombre para diferenciarlo del anterior. De esta forma, parto desde el mismo punto de mi maquina anterior sin necesidad de hacer un snapshot, y puedo tener dos maquina virtuales con un mismo punto de partida pero que en esencia, son distintas.</p> <p>Para redimensionar una m\u00e1quina virtual, se hacer lo siguiente: </p> <p>https://drive.google.com/file/d/1CcsgfeX-QKxMTJq-pRBTaAmoTakn_z_t/view?usp=sharing</p>"},{"location":"TEMA2/Teoria/1%C2%AA%20Teoria%20virtualizacion/#107-compartir-carpetas-con-windows-y-linux","title":"10.7 Compartir carpetas con Windows y Linux","text":"<p>Por brevedad en el documento, dejo el siguiente enlace. Son 5 minutos de video y deb\u00e9is mirar desde el minuto 6 al 13.</p> <p>Compartir carpetas virt manger a MV Windos o Linux</p> <p>Se pedir\u00e1 que lo hag\u00e1is en algunas pr\u00e1cticas.</p>"},{"location":"TEMA2/Teoria/2%20Teor%C3%ADa%20de%20las%20instalaciones/","title":"2 Teor\u00eda de las instalaciones","text":"<p>Punto 2 de Teor\u00eda del Tema 2.</p>"},{"location":"TEMA2/Teoria/2%20Teor%C3%ADa%20de%20las%20instalaciones/#1-tipos-de-formatos-de-datos-particiones-y-volumenes","title":"1.  Tipos de formatos de datos. Particiones y Vol\u00famenes","text":""},{"location":"TEMA2/Teoria/2%20Teor%C3%ADa%20de%20las%20instalaciones/#11-formatos-mas-comunes-en-windows","title":"1.1 Formatos m\u00e1s comunes en Windows","text":"<ul> <li>FAT16 (File Allocation Table 16 bits)</li> </ul> <p>El FAT16 fue uno de los primeros sistemas de archivos ampliamente usados en computadoras personales. Se utiliz\u00f3 principalmente en disquetes y en las primeras versiones de Windows y MS-DOS. Estaba pensado para discos de peque\u00f1a capacidad y, por limitaciones de dise\u00f1o, solo pod\u00eda manejar particiones de hasta 2 GB. Si bien en su momento fue fundamental para la gesti\u00f3n de datos en sistemas antiguos, hoy en d\u00eda se considera completamente obsoleto y ha sido reemplazado por formatos m\u00e1s eficientes y compatibles con discos modernos. - FAT32</p> <p>El FAT32 surgi\u00f3 como una evoluci\u00f3n del FAT16, con mejoras en eficiencia y en la capacidad de manejar discos m\u00e1s grandes. Gracias a su simplicidad y a la amplia compatibilidad, se convirti\u00f3 en el formato est\u00e1ndar para memorias USB, c\u00e1maras digitales, consolas y otros dispositivos port\u00e1tiles. Una de sus principales ventajas es que pr\u00e1cticamente cualquier sistema operativo puede leerlo y escribir en \u00e9l. Sin embargo, tiene una limitaci\u00f3n importante: no permite almacenar archivos individuales de m\u00e1s de 4 GB, lo cual lo hace poco pr\u00e1ctico para videos de alta definici\u00f3n, copias de seguridad completas o im\u00e1genes de disco grandes. - exFAT (Extended FAT)</p> <p>El exFAT (Extended FAT) fue dise\u00f1ado posteriormente para superar esa restricci\u00f3n. Mantiene la compatibilidad con m\u00faltiples plataformas y dispositivos, pero elimina la limitaci\u00f3n de tama\u00f1o de archivo, permitiendo manejar archivos muy grandes y particiones de varios terabytes. Por eso, es el formato m\u00e1s utilizado en memorias USB y discos externos modernos, especialmente cuando se necesita transferir informaci\u00f3n entre Windows, macOS y otros sistemas. - NTFS (New Technology File System)</p> <p>El NTFS (New Technology File System) se convirti\u00f3 en el formato est\u00e1ndar de Windows a partir de Windows XP y sigue si\u00e9ndolo en las versiones actuales. Est\u00e1 dise\u00f1ado para manejar archivos de gran tama\u00f1o y discos duros de varios terabytes, lo que lo hace muy eficiente en equipos modernos. A diferencia de FAT32 y exFAT, NTFS incorpora funciones avanzadas de seguridad, como permisos de acceso detallados, cifrado de datos y compresi\u00f3n de archivos, adem\u00e1s de soportar journaling para reducir el riesgo de corrupci\u00f3n en caso de fallos. Su principal desventaja radica en la compatibilidad: aunque macOS puede leer particiones NTFS de forma nativa, no permite escribir en ellas sin software adicional, y en sistemas Linux se necesita soporte espec\u00edfico para trabajar con \u00e9l.</p>"},{"location":"TEMA2/Teoria/2%20Teor%C3%ADa%20de%20las%20instalaciones/#12-formatos-en-macos-no-los-usaremos-pero-saber-que-existen","title":"1.2. Formatos en macOS (No los usaremos pero saber que existen)","text":"<ul> <li>HFS+ (Hierarchical File System Plus)</li> </ul> <p>El HFS+ (Hierarchical File System Plus) fue durante muchos a\u00f1os el sistema de archivos principal en macOS, desde finales de los noventa hasta la llegada de APFS en 2017. Permit\u00eda manejar archivos de gran tama\u00f1o e inclu\u00eda funciones avanzadas para su \u00e9poca, como el journaling, que ayudaba a proteger la integridad de los datos en caso de apagados inesperados. Aunque fue un formato muy estable y ampliamente usado en discos duros mec\u00e1nicos, hoy en d\u00eda se encuentra en desuso y ha sido reemplazado casi por completo por APFS, especialmente en equipos con unidades de estado s\u00f3lido (SSD). - APFS (Apple File System)</p> <p>El APFS (Apple File System) es el sistema de archivos actual de macOS, introducido en 2017 para reemplazar a HFS+. Fue dise\u00f1ado espec\u00edficamente para aprovechar al m\u00e1ximo la velocidad y caracter\u00edsticas de los discos de estado s\u00f3lido (SSD), aunque tambi\u00e9n funciona en discos duros tradicionales. Destaca por su gran rapidez y por incluir funciones modernas como la clonaci\u00f3n instant\u00e1nea de archivos y carpetas, la creaci\u00f3n de snapshots para restaurar el sistema en un estado anterior y un cifrado avanzado que mejora la seguridad de los datos. Su principal limitaci\u00f3n es la compatibilidad: aunque es ideal dentro del ecosistema de Apple, no puede ser utilizado de forma nativa en Windows, lo que lo hace menos pr\u00e1ctico en entornos donde se intercambian datos entre distintos sistemas operativos.</p>"},{"location":"TEMA2/Teoria/2%20Teor%C3%ADa%20de%20las%20instalaciones/#13-formatos-en-linux","title":"1.3. Formatos en Linux","text":"<ul> <li>ext2, ext3, ext4 (Extended File System)</li> </ul> <p>El ext4 (Fourth Extended File System) es actualmente el sistema de archivos m\u00e1s utilizado en Linux y se considera el est\u00e1ndar en la mayor\u00eda de distribuciones. Est\u00e1 dise\u00f1ado para manejar discos y archivos de gran tama\u00f1o, lo que lo hace adecuado tanto para equipos personales como para entornos de servidores. Destaca por su estabilidad, eficiencia y capacidad de recuperaci\u00f3n frente a fallos, gracias al uso de journaling, que protege la integridad de los datos. Su rendimiento est\u00e1 optimizado para cargas de trabajo intensivas y, aunque es muy confiable en Linux, presenta una limitaci\u00f3n importante en t\u00e9rminos de compatibilidad: Windows no puede reconocer particiones ext4 de forma nativa, siendo necesario instalar software adicional para acceder a ellas. - Btrfs (B-tree File System)</p> <p>El Btrfs (B-tree File System) es un sistema de archivos moderno para Linux, desarrollado con el objetivo de ofrecer caracter\u00edsticas avanzadas que van m\u00e1s all\u00e1 de lo que proporciona ext4. Entre sus funciones m\u00e1s destacadas se encuentran la posibilidad de crear snapshots (copias instant\u00e1neas del estado del sistema). Sin embargo, aunque es potente y sigue en desarrollo, todav\u00eda se considera menos estable que ext4 en ciertas aplicaciones cr\u00edticas, por lo que suele recomendarse principalmente para pruebas - XFS y ZFS</p> <p>XFS y ZFS son sistemas de archivos orientados principalmente a entornos de servidores y a la gesti\u00f3n de grandes vol\u00famenes de datos.    El XFS, desarrollado originalmente por Silicon Graphics, es reconocido por su alto rendimiento en el manejo de archivos de gran tama\u00f1o y su capacidad para trabajar eficientemente en sistemas con cargas intensivas de entrada y salida. Es muy utilizado en centros de datos y aplicaciones donde la velocidad y la escalabilidad son esenciales. Por otro lado, el ZFS (Zettabyte File System) destaca por su enfoque en la confiabilidad y la integridad de los datos. Incorpora un sistema de verificaci\u00f3n mediante sumas de comprobaci\u00f3n (checksums)</p>"},{"location":"TEMA2/Teoria/2%20Teor%C3%ADa%20de%20las%20instalaciones/#2que-es-una-particion","title":"2.\u00bfQu\u00e9 es una partici\u00f3n?","text":"<p>Una partici\u00f3n es una divisi\u00f3n l\u00f3gica dentro de un disco duro, SSD o memoria externa, que permite organizar y utilizar el espacio de almacenamiento de manera independiente. Para entenderlo mejor, se puede imaginar el disco como un terreno vac\u00edo, y las particiones como parcelas delimitadas dentro de ese terreno. Cada partici\u00f3n funciona de forma aut\u00f3noma y puede destinarse a diferentes prop\u00f3sitos: desde instalar un sistema operativo hasta almacenar archivos o incluso servir como espacio reservado para recuperaci\u00f3n.</p> <p>Por ejemplo, en una computadora es com\u00fan encontrar varias particiones en un mismo disco: la unidad C, donde est\u00e1 instalado Windows; otra partici\u00f3n, como la unidad D, destinada a documentos, programas o juegos; y, en muchos casos, una partici\u00f3n oculta, utilizada por el fabricante para guardar herramientas de recuperaci\u00f3n del sistema.</p> <p></p> <p>\u00bfCuantas particiones hay en la foto anterior?</p>"},{"location":"TEMA2/Teoria/2%20Teor%C3%ADa%20de%20las%20instalaciones/#21-tipos-de-particiones","title":"2.1 Tipos de particiones","text":"<p>Recordarmos que: Un sector es la unidad m\u00ednima de almacenamiento f\u00edsico en un disco. Tradicionalmente, un sector equivale a 512 bytes, aunque en los discos modernos se utilizan sectores de 4 KB (Advanced Format) para aprovechar mejor la capacidad.</p> <p>1-En los discos que utilizan el esquema MBR (Master Boot Record), las particiones primarias son las m\u00e1s b\u00e1sicas. El MBR (Master Boot Record) fue creado en 1983 junto con la llegada del IBM PC AT y los primeros discos duros de apenas 10 MB. </p> <ul> <li>En este esquema, la tabla de particiones se almacena en el primer sector del disco (sector 0), junto con un peque\u00f1o c\u00f3digo de arranque, y permite definir hasta cuatro particiones primarias capaces de albergar directamente sistemas operativos o datos. En sus inicios esta limitaci\u00f3n no representaba un problema, pero con el crecimiento de la capacidad de los discos se volvi\u00f3 insuficiente. Aunque a\u00fan es posible encontrar MBR en discos antiguos o en algunos dispositivos de almacenamiento extra\u00edbles, en los sistemas modernos ha quedado pr\u00e1cticamente en desuso y ha sido reemplazado por GPT. Para superar esa restricci\u00f3n de solo cuatro particiones, en MBR se cre\u00f3 la partici\u00f3n extendida. A diferencia de las primarias, esta no almacena datos directamente, sino que act\u00faa como un contenedor dentro del cual se pueden crear m\u00faltiples particiones adicionales llamadas l\u00f3gicas. De este modo, el usuario pod\u00eda tener m\u00e1s de cuatro \u00e1reas de almacenamiento en un mismo disco. Este recurso fue \u00fatil durante muchos a\u00f1os, pero con la llegada de GPT perdi\u00f3 relevancia y actualmente tambi\u00e9n est\u00e1 en desuso.</li> </ul> <p>2-Con el tiempo, la capacidad de los discos creci\u00f3 de forma exponencial: A finales de los 90 y principios de los 2000 aparecieron discos de cientos de GB y luego de varios terabytes. MBR se volvi\u00f3 insuficiente porque: Solo soporta discos de hasta 2 TB, solo permite 4 particiones primarias y se basa en un \u00fanico sector, lo que lo hace muy vulnerable. Para superar esas limitaciones, Intel desarroll\u00f3 el est\u00e1ndar EFI (Extensible Firmware Interface), que luego evolucion\u00f3 en UEFI. Este nuevo firmware requer\u00eda un esquema de particionado moderno y flexible: as\u00ed naci\u00f3 el GPT (GUID Partition Table). GPT distribuye la informaci\u00f3n de forma redundante y flexible:</p> <p>Con UEFI, el firmware ya no depende de ese \u00fanico sector:</p> <ul> <li>Utiliza una partici\u00f3n especial llamada ESP (EFI System Partition) con formato FAT32 (para ser universalmente reconocido por UEFI).</li> </ul> <ul> <li>Esa partici\u00f3n EFI es independiente del sistema operativo y contiene peque\u00f1os programas llamados bootloaders que permiten arrancar distintos sistemas (Windows, Linux, etc.).</li> </ul> <ul> <li>De esta forma, con GPT no existe la distinci\u00f3n entre primarias, extendidas y l\u00f3gicas: todas las particiones se gestionan como primarias y el l\u00edmite ya no es de cuatro, sino de hasta 128 particiones por defecto, con la posibilidad de ampliarlo. Esta simplicidad hace que GPT sea hoy el est\u00e1ndar en sistemas modernos, reemplazando por completo al esquema MBR.</li> </ul> <ul> <li>Ojo, UEFI incorpora un \"modo de compatibilidad con BIOS\". Este modo permite arrancar sistemas operativos antiguos que todav\u00eda dependen de MBR. Esto sucede ya que en el Sector 0 se sigue guardando un MBR de protecci\u00f3n. Esto existe solo para que software antiguo no crea que el disco est\u00e1 vac\u00edo. En resumen, GPT tiene los siguientes sectores espec\u00edficos, que denominaremos \"LBA's\"</li> </ul> <ul> <li>LBA 0 : \u201cMBR protector\u201d comentado ya. LBA 1 : Cabecera GPT primaria (metadatos: GUID del disco, ubicaci\u00f3n de tabla de particiones, etc.). LBA 2 al 33 : Describe las particiones  GPT (cada descripcion de la partici\u00f3n ocupa 128 bytes luego podemos tener hasta 4 particiones descritas en un solo sector (ya que un solo sector ocupara 512Bytes y 512Bytes/128Bytes=4).  Como el espacio reservado para descripcion de particiones es de 16KB en total, podemos tener tantos LBA como 16KB/512Bytes=32 LBA's para partciones, donde cada LBA representa 4 particiones y por tanto podemos tener hasta 128 particiones. LBA 34 : Aqu\u00ed empiezan las particiones reales (ESP, /boot, /, Windows, etc.), que es lo que ves en Gparted cuando hac\u00e9is las pr\u00e1cticas.</li> </ul> <ul> <li>Los sectores reservados para GPT (LBA0, LBA1, LBA2\u201333, cabecera de backup al final) son metadatos internos del disco, no particiones. Nunca los veras en la tabla de particiones. Cuando enciendes el ordenador, lo primero que se ejecuta es el firmware UEFI. Este firmware sabe leer discos con particionado GPT, as\u00ed que consulta los primeros sectores (los LBAs iniciales), donde encuentra la tabla GPT. Esa tabla es simplemente un mapa que le dice d\u00f3nde empieza y acaba cada partici\u00f3n. Gracias a esa informaci\u00f3n, UEFI localiza la partici\u00f3n especial llamada ESP, que siempre est\u00e1 en formato FAT32. UEFI entra en la ESP y busca un bootloader, que es un archivo <code>.efi</code>. Seg\u00fan la configuraci\u00f3n de arranque (BootOrder), puede elegir el de Ubuntu (<code>Ubuntu64.efi</code>) o el de Windows (<code>bootmgfw.efi</code>). Si ejecuta Ubuntu es posible que se ejecute GRUB, entonces el control pasa a GRUB. GRUB ya sabe leer las dem\u00e1s particiones del disco (por ejemplo, la partici\u00f3n <code>/boot</code> en ext4 o incluso la de Windows) por lo que el proceso de arranque terminar correctamente</li> </ul>"},{"location":"TEMA2/Teoria/2%20Teor%C3%ADa%20de%20las%20instalaciones/#22-relacion-de-las-particiones-con-los-formatos-de-datos-un-pequeno-resumen","title":"2.2 Relaci\u00f3n de las particiones con los formatos de datos. Un peque\u00f1o resumen","text":"<p>Aqu\u00ed entra en juego el sistema de archivos (FAT32, NTFS, ext4,  etc.):</p> <p>1-Una partici\u00f3n sin formato no puede usarse.</p> <p>Cuando se adquiere un disco nuevo, este llega completamente \u201cen bruto\u201d, es decir, sin ning\u00fan tipo de organizaci\u00f3n interna. Para poder utilizarlo y almacenar informaci\u00f3n, es necesario formatearlo con un sistema de archivos.</p> <p>2-El formato define c\u00f3mo se almacenan y organizan los datos en esa partici\u00f3n.</p> <p>Por ejemplo, si una partici\u00f3n se formatea en NTFS, ser\u00e1 posible aprovechar funciones avanzadas como la gesti\u00f3n de permisos de usuario y el soporte para archivos de gran tama\u00f1o. En cambio, si esa misma partici\u00f3n se formatea en FAT32, ganar\u00e1 en compatibilidad con una amplia variedad de dispositivos y sistemas operativos, aunque tendr\u00e1 la limitaci\u00f3n de no poder almacenar archivos que superen los 4 GB</p> <p>3-Cada partici\u00f3n puede tener un formato distinto.</p> <p>En un mismo disco es posible combinar diferentes sistemas de archivos seg\u00fan las necesidades. Por ejemplo, se puede crear una partici\u00f3n en NTFS para ejecutar Windows, otra en ext4 destinada a Linux y una tercera en exFAT, pensada para facilitar el intercambio de archivos entre ambos sistemas operativos gracias a su amplia compatibilidad.</p> <p>4-El formato no cambia el tama\u00f1o de la partici\u00f3n, solo c\u00f3mo se usan los datos dentro.</p> <p>La partici\u00f3n puede entenderse como el recipiente que delimita un espacio dentro del disco, mientras que el formato act\u00faa como la regla de organizaci\u00f3n que determina c\u00f3mo se almacenan y gestionan los datos dentro de ese espacio.</p>"},{"location":"TEMA2/Teoria/3%20Directorios%20principales%20desde%20la%20ra%C3%ADz%20%20en%20Ubuntu/","title":"3 Directorios principales desde la ra\u00edz <code>/</code> en Ubuntu","text":"<p>Conviene destacar las siglas FHS (Filesystem Hierarchy Standard) (FHS).</p> <ul> <li><code>/</code> (ra\u00edz)</li> </ul> <p>El directorio <code>/</code>, conocido como ra\u00edz, es el punto de partida de todo el sistema de ficheros en Ubuntu y en cualquier sistema basado en Linux. A diferencia de Windows, que organiza los discos por letras (C:, D:, E:), en Linux todo el sistema de archivos cuelga de un \u00fanico \u00e1rbol que comienza en <code>/</code>. Dentro de la ra\u00edz se montan todas las dem\u00e1s carpetas, discos, dispositivos. Esto significa que, aunque tengas varios discos duros o memorias USB, no aparecer\u00e1n como unidades independientes con letras, sino que se integrar\u00e1n dentro de la jerarqu\u00eda del sistema bajo un directorio espec\u00edfico (por ejemplo, <code>/media/usuario/USB</code>). Es importante aclarar que la ra\u00edz no almacena directamente el \u201cn\u00facleo\u201d del sistema (el kernel est\u00e1 en realidad en <code>/boot</code>), sino que act\u00faa como el contenedor inicial que da acceso a todos los directorios esenciales. En una instalaci\u00f3n t\u00edpica de Ubuntu, la partici\u00f3n ra\u00edz suele contener:</p> <ul> <li>El propio sistema operativo.</li> <li>Todos los directorios principales (<code>/bin</code>, <code>/etc</code>, <code>/home</code>, <code>/var</code>, etc.).</li> <li> <p>Archivos fundamentales de configuraci\u00f3n y bibliotecas compartidas.</p> </li> <li> <p><code>/bin</code></p> </li> </ul> <p>El directorio <code>/bin</code> (abreviatura de binary) contiene los binarios esenciales del sistema, es decir, los programas ejecutables b\u00e1sicos que todo usuario y el propio sistema necesitan para funcionar. Estos comandos est\u00e1n disponibles incluso cuando el sistema est\u00e1 en un estado m\u00ednimo, como en modo de recuperaci\u00f3n, porque son imprescindibles para la administraci\u00f3n y operaci\u00f3n diaria.</p> <p>Dentro de <code>/bin</code> se encuentran utilidades fundamentales como:</p> <ul> <li>Gesti\u00f3n de archivos: <code>ls</code> (listar), <code>cp</code> (copiar), <code>mv</code> (mover/renombrar), <code>rm</code> (eliminar), <code>cat</code> (ver contenido).</li> <li>Manipulaci\u00f3n de texto: <code>echo</code>, <code>grep</code>, <code>more</code>, <code>less</code>.</li> <li>Gesti\u00f3n de directorios: <code>pwd</code> (mostrar ruta actual), <code>mkdir</code> (crear directorios), <code>rmdir</code> (eliminar directorios).</li> <li>Shells: <code>bash</code>, el int\u00e9rprete de comandos m\u00e1s utilizado en Ubuntu.</li> </ul> <p>Un detalle importante es que, en sistemas modernos basados en el Filesystem Hierarchy Standard (FHS), muchas distribuciones han fusionado <code>/bin</code> con <code>/usr/bin</code>. Esto significa que en algunas versiones de Ubuntu los binarios se encuentran f\u00edsicamente en <code>/usr/bin</code>, pero <code>/bin</code> se mantiene como un enlace simb\u00f3lico por compatibilidad con programas antiguos. Ese detalle de la fusi\u00f3n entre <code>/bin</code> y <code>/usr/bin</code> ocurre en muchas distribuciones modernas de Linux, incluyendo Ubuntu desde la versi\u00f3n 16.04 en adelante (aunque se consolid\u00f3 totalmente en Ubuntu 18.04 y posteriores). El proyecto detr\u00e1s de esto se llama \u201cusr merge\u201d.</p> <ul> <li><code>/sbin</code></li> </ul> <p>El directorio <code>/sbin</code> (de system binaries) es el complemento de <code>/bin</code>, pero orientado a la administraci\u00f3n del sistema. Aqu\u00ed se encuentran los programas ejecutables que normalmente no son necesarios para un usuario com\u00fan, sino para el superusuario (root) o administradores que requieren herramientas de bajo nivel para mantener el sistema en funcionamiento.</p> <p>Entre los comandos m\u00e1s representativos que suelen encontrarse en <code>/sbin</code> est\u00e1n:</p> <ul> <li><code>fsck</code> \u2192 comprobar y reparar sistemas de archivos.</li> <li><code>ifconfig</code> o <code>ip</code> \u2192 configurar interfaces de red.</li> <li><code>mount</code> y <code>umount</code> \u2192 montar y desmontar dispositivos.</li> <li><code>shutdown</code> y <code>reboot</code> \u2192 gestionar el apagado y reinicio del sistema.</li> <li><code>mkfs</code> \u2192 crear sistemas de archivos en discos o particiones.</li> </ul> <p>Un detalle importante es que, al igual que ocurri\u00f3 con <code>/bin</code>, muchas distribuciones modernas (incluido Ubuntu desde la versi\u00f3n 18.04 LTS) han fusionado <code>/sbin</code> con <code>/usr/sbin</code> como parte del proyecto usr merge. Esto significa que <code>/sbin</code> ahora suele ser un enlace simb\u00f3lico hacia <code>/usr/sbin</code>, manteni\u00e9ndose \u00fanicamente por compatibilidad con scripts o programas antiguos.</p> <p>Para los usuarios normales, los binarios de <code>/sbin</code> no suelen estar en la variable de entorno PATH por defecto, lo que significa que si intentan ejecutarlos deben especificar la ruta completa (por ejemplo, <code>/sbin/ifconfig</code>). En cambio, el usuario root s\u00ed tiene <code>/sbin</code> en su PATH y puede acceder a estas herramientas directamente. Entramos en mas detalle de lo anterior:</p> <p>En Linux (y en general en sistemas Unix), la variable de entorno <code>PATH</code> es una lista de directorios que la shell revisa autom\u00e1ticamente cuando intentas ejecutar un comando.</p> <p>Por ejemplo:</p> <ul> <li>Si escribes <code>ls</code>, la shell busca <code>ls</code> dentro de todos los directorios definidos en tu <code>PATH</code> (como <code>/bin</code>, <code>/usr/bin</code>, etc.).</li> <li>Si el binario se encuentra en alguno de esos directorios, se ejecuta.</li> <li>Si no est\u00e1 en el <code>PATH</code>, aunque exista en el disco, el sistema no lo encuentra a menos que pongas la ruta completa.</li> </ul> <p>En Linux (y en general en sistemas Unix), la variable de entorno <code>PATH</code> es una lista de directorios que la shell revisa autom\u00e1ticamente cuando intentas ejecutar un comando.</p> <ul> <li><code>/boot</code></li> </ul> <p>El directorio <code>/boot</code> contiene todos los archivos esenciales para el proceso de arranque del sistema operativo. Aqu\u00ed se encuentra el kernel de Linux en forma de archivo ejecutable, acompa\u00f1ado de la imagen de memoria inicial (<code>initramfs</code>), que es un sistema de archivos temporal cargado en memoria al inicio y que permite al kernel acceder a los controladores y m\u00f3dulos necesarios antes de montar el sistema real. Se carga en memoria RAM durante los primeros segundos del arranque de Linux.</p> <p>Tambi\u00e9n en <code>/boot</code> se aloja el cargador de arranque, generalmente GRUB (GRand Unified Bootloader) en el caso de Ubuntu, el cual se encarga de mostrar el men\u00fa de inicio y de cargar el kernel junto con los par\u00e1metros adecuados. Si tienes m\u00e1s de un sistema operativo instalado, GRUB es el que ofrece la posibilidad de elegir entre ellos al encender el ordenador.</p> <p>En la pr\u00e1ctica, sin la carpeta <code>/boot</code>, Ubuntu no podr\u00eda arrancar, ya que el firmware (BIOS o UEFI) no tendr\u00eda forma de acceder al kernel ni al cargador de arranque. Por eso, en muchas configuraciones, sobre todo en servidores o sistemas con cifrado completo, <code>/boot</code> suele colocarse en una partici\u00f3n independiente para garantizar que siempre est\u00e9 accesible en el arranque.</p> <ul> <li><code>/dev</code></li> </ul> <p>El directorio <code>/dev</code> es uno de los m\u00e1s particulares de Linux, ya que contiene los llamados archivos de dispositivo. En este sistema, todo se trata como un archivo: desde un documento hasta un disco duro o un puerto de comunicaci\u00f3n. Esto significa que los dispositivos f\u00edsicos (como discos, impresoras o terminales) y algunos dispositivos virtuales tienen una representaci\u00f3n dentro de <code>/dev</code>.</p> <p>Por ejemplo, un disco duro completo puede aparecer como <code>/dev/sda</code>, y sus particiones como <code>/dev/sda1</code>, <code>/dev/sda2</code>, etc. Tambi\u00e9n existen dispositivos especiales como <code>/dev/null</code>, que funciona como un \u201cagujero negro\u201d: cualquier informaci\u00f3n que se env\u00ede all\u00ed se descarta inmediatamente. Otro caso es <code>/dev/zero</code>, que genera un flujo infinito de ceros, \u00fatil en pruebas y configuraciones. Estos archivos no contienen datos en s\u00ed mismos, sino que son interfaces de comunicaci\u00f3n con el kernel y el hardware.</p> <ul> <li><code>/etc</code></li> </ul> <p>El directorio <code>/etc</code> es el lugar donde se guardan todos los archivos de configuraci\u00f3n del sistema en Ubuntu y en la mayor\u00eda de distribuciones Linux. A diferencia de Windows, que utiliza un registro centralizado, Linux organiza la configuraci\u00f3n en m\u00faltiples archivos de texto plano, f\u00e1ciles de leer y editar con un editor como <code>nano</code> o <code>vim</code>.</p> <p>Dentro de <code>/etc</code> se encuentran par\u00e1metros cr\u00edticos del sistema: configuraciones de red, informaci\u00f3n de usuarios y grupos, ajustes de servicios, demonios y pr\u00e1cticamente todas las aplicaciones instaladas. Por ejemplo, el archivo <code>/etc/passwd</code> almacena la lista de usuarios del sistema junto con informaci\u00f3n b\u00e1sica de cada uno, mientras que <code>/etc/hosts</code> permite definir asociaciones entre direcciones IP y nombres de dominio de manera local.</p> <p>Muchos \"servicios\" (palabra ya comentada en apuntes anteriores) tienen su propia carpeta dentro de <code>/etc</code>. Por ejemplo, <code>/etc/ssh/</code> contiene la configuraci\u00f3n del servidor SSH, y <code>/etc/apache2/</code> la del servidor web Apache. Esto permite que cada componente del sistema mantenga sus par\u00e1metros organizados en un lugar espec\u00edfico.</p> <p>Es importante destacar que <code>/etc</code> contiene principalmente archivos de configuraci\u00f3n global, que afectan a todo el sistema y a todos los usuarios, a diferencia de las configuraciones personales que suelen guardarse en carpetas ocultas dentro del directorio <code>/home</code> de cada usuario.</p> <p>En resumen, <code>/etc</code> es el \u201ccerebro\u201d de la configuraci\u00f3n de Linux: cualquier cambio en sus archivos puede modificar profundamente el comportamiento del sistema operativo. Algunos otros archivos importantes son:</p> <p><code>/etc/sudoers</code> define qui\u00e9n puede usar <code>sudo</code>, desde qu\u00e9 hosts, qu\u00e9 comandos y bajo qu\u00e9 condiciones. Nunca edites <code>/etc/sudoers</code> con un editor normal: usa <code>visudo</code> (bloquea el archivo y verifica la sintaxis antes de guardar). Adem\u00e1s de <code>/etc/sudoers</code>, muchos sistemas usan el directorio <code>/etc/sudoers.d/</code> para fragmentos de configuraci\u00f3n (m\u00e1s manejable y seguro).</p> <ul> <li><code>/home</code></li> </ul> <p>El directorio <code>/home</code> es el espacio reservado para los archivos y configuraciones personales de cada usuario del sistema. Dentro de \u00e9l, se crea una carpeta individual para cada cuenta, cuyo nombre coincide con el nombre de usuario. Por ejemplo, si el usuario se llama <code>juan</code>, su directorio personal ser\u00e1 <code>/home/juan</code>. En estas carpetas, cada usuario guarda sus documentos, im\u00e1genes, descargas, m\u00fasica y cualquier otro tipo de archivo personal. Adem\u00e1s, dentro de cada directorio de usuario existen carpetas ocultas (cuyos nombres empiezan con un punto <code>.</code>), que almacenan configuraciones espec\u00edficas de aplicaciones y del entorno de escritorio. Por ejemplo:</p> <ul> <li><code>.bashrc</code> \u2192 configuraci\u00f3n personalizada de la terminal.</li> <li><code>.mozilla/</code> \u2192 configuraciones y perfiles de Firefox.</li> <li><code>.config/</code> \u2192 ajustes de aplicaciones modernas seg\u00fan el est\u00e1ndar XDG.</li> </ul> <p>De esta manera, cada usuario puede tener un entorno completamente personalizado, independiente del resto. Incluso si varias personas usan la misma computadora, cada una tendr\u00e1 sus preferencias, documentos y configuraciones guardadas en su propia carpeta dentro de <code>/home</code>. En instalaciones m\u00e1s avanzadas, es com\u00fan que <code>/home</code> se ubique en una partici\u00f3n separada del sistema. Esto permite que, aunque se reinstale Ubuntu o se actualice la distribuci\u00f3n, los archivos y configuraciones personales de los usuarios se mantengan intactos, aumentando la seguridad y la comodidad.</p> <ul> <li><code>/lib</code></li> </ul> <p>El directorio <code>/lib</code> contiene las bibliotecas compartidas que permiten que los programas y comandos esenciales ubicados en <code>/bin</code> y <code>/sbin</code> puedan ejecutarse correctamente. Dentro de <code>/lib</code> se encuentran archivos con extensiones como <code>.so</code> (shared object), que representan estas bibliotecas din\u00e1micas. Por ejemplo, funciones matem\u00e1ticas, manejo de cadenas de texto, acceso a la red o comunicaci\u00f3n con el kernel est\u00e1n centralizadas en estas librer\u00edas. Esto permite que el sistema sea m\u00e1s ligero, modular y f\u00e1cil de actualizar: si una biblioteca se corrige o se mejora, todos los programas que dependen de ella se benefician autom\u00e1ticamente.</p> <p>Adem\u00e1s, en <code>/lib</code> tambi\u00e9n se almacenan los m\u00f3dulos del kernel, que son componentes cargables din\u00e1micamente y que ampl\u00edan las capacidades del n\u00facleo sin necesidad de reiniciar el sistema. Estos m\u00f3dulos permiten, por ejemplo, a\u00f1adir soporte para un nuevo tipo de hardware, sistemas de archivos o controladores de red.</p> <p>En distribuciones modernas que han adoptado la fusi\u00f3n de directorios (usr merge), es com\u00fan que el contenido de <code>/lib</code> se encuentre realmente en <code>/usr/lib</code>, manteni\u00e9ndose <code>/lib</code> como un enlace simb\u00f3lico por compatibilidad.</p> <ul> <li><code>/media</code></li> </ul> <p>El directorio <code>/media</code> est\u00e1 reservado para el montaje autom\u00e1tico de dispositivos externos en Ubuntu y en la mayor\u00eda de distribuciones Linux. Cada vez que conectas una memoria USB, un disco duro port\u00e1til, una tarjeta SD o incluso un CD/DVD, el sistema crea de manera temporal una carpeta dentro de <code>/media</code> y all\u00ed monta el contenido del dispositivo para que el usuario pueda acceder a \u00e9l f\u00e1cilmente.</p> <p>Por ejemplo, si un usuario llamado <code>juan</code> conecta una memoria USB llamada USB, Ubuntu montar\u00e1 ese dispositivo en la ruta <code>/media/juan/USB</code>. Esto significa que todos los archivos de la memoria estar\u00e1n accesibles en esa carpeta mientras el dispositivo permanezca conectado.</p> <p>El proceso es gestionado autom\u00e1ticamente por udev (el sistema que administra dispositivos en Linux) y por los entornos de escritorio como GNOME o KDE, de modo que el usuario no necesita montar manualmente los discos, a diferencia de lo que ocurr\u00eda en versiones antiguas de Linux. Es importante diferenciar <code>/media</code> de <code>/mnt</code>. Mientras que <code>/media</code> est\u00e1 pensado para los dispositivos externos que se montan de manera autom\u00e1tica y temporal, <code>/mnt</code> se reserva para montajes manuales realizados por administradores, normalmente en tareas de mantenimiento o pruebas.</p> <ul> <li><code>/mnt</code></li> </ul> <p>El directorio <code>/mnt</code> se utiliza como punto de montaje temporal en Linux. Tradicionalmente, era el lugar donde los administradores montaban manualmente discos duros, particiones adicionales o incluso recursos de red para poder acceder a ellos de forma moment\u00e1nea. Por ejemplo, si se conectaba un disco que no se montaba autom\u00e1ticamente, un administrador pod\u00eda ejecutar un comando como:</p> <pre><code> sudo mount /dev/sdb1 /mnt\n</code></pre> <p>directorio volv\u00eda a estar vac\u00edo y listo para usarse con otro dispositivo. Aunque hoy en d\u00eda el montaje autom\u00e1tico de dispositivos externos suele hacerse en <code>/media</code>, el directorio <code>/mnt</code> sigue existiendo y mantiene su funci\u00f3n como espacio flexible para pruebas, configuraciones temporales o situaciones en las que un administrador necesita montar sistemas de archivos manualmente.</p> <ul> <li><code>/opt</code></li> </ul> <p>El directorio <code>/opt</code> est\u00e1 reservado para aplicaciones adicionales que se instalan de forma manual o que no forman parte del sistema base ni del gestor de paquetes de Ubuntu. Su nombre proviene de optional, lo que refleja su prop\u00f3sito: albergar software opcional que complementa al sistema.</p> <p>A diferencia de otros directorios como <code>/usr/bin</code> o <code>/usr/lib</code>, que est\u00e1n gestionados directamente por el sistema de paquetes de Ubuntu (APT), <code>/opt</code> se utiliza cuando un programa se distribuye en un directorio completo que incluye todos sus binarios, bibliotecas y archivos de configuraci\u00f3n. Este m\u00e9todo es com\u00fan en aplicaciones propietarias o comerciales que no se integran al 100 % con el sistema.</p> <p>Por ejemplo, si descargas un programa en forma de paquete comprimido o un instalador que no usa APT, probablemente cree su propia carpeta en <code>/opt</code>. Dentro de esa carpeta, el software suele tener su propia estructura organizada, por ejemplo:</p> <ul> <li><code>/opt/google/chrome/</code> \u2192 instalaci\u00f3n de Google Chrome.</li> </ul> <p>Esto permite que dichas aplicaciones est\u00e9n separadas del resto del sistema y sean f\u00e1ciles de identificar, actualizar o eliminar simplemente borrando su carpeta correspondiente.</p> <ul> <li><code>/proc</code></li> </ul> <p>El directorio <code>/proc</code> es un sistema de archivos virtual, lo que significa que no ocupa espacio real en el disco ni contiene archivos convencionales. En lugar de eso, se genera din\u00e1micamente por el kernel de Linux y ofrece una ventana en tiempo real al estado interno del sistema y de los procesos en ejecuci\u00f3n.</p> <p>Cada archivo o subdirectorio dentro de <code>/proc</code> representa informaci\u00f3n o una interfaz hacia alguna parte del kernel. Por ejemplo:</p> <ul> <li><code>/proc/cpuinfo</code> muestra detalles sobre el procesador: modelo, n\u00facleos, velocidad, etc.</li> <li><code>/proc/meminfo</code> ofrece datos sobre la memoria RAM disponible y utilizada.</li> <li><code>/proc/uptime</code> indica cu\u00e1nto tiempo lleva encendido el sistema.</li> </ul> <p>Adem\u00e1s de los archivos de informaci\u00f3n general, <code>/proc</code> tambi\u00e9n contiene un subdirectorio por cada proceso en ejecuci\u00f3n, identificado por su PID (Process ID). Por ejemplo, <code>/proc/1234/</code> corresponde al proceso con PID 1234 y dentro de esa carpeta se encuentran archivos que permiten consultar \u2014e incluso modificar\u2014 par\u00e1metros de ese proceso en tiempo real.</p> <p>Un detalle interesante es que <code>/proc</code> no solo sirve para leer informaci\u00f3n, sino que tambi\u00e9n permite al administrador interactuar con el kernel. Por ejemplo, el archivo <code>/proc/sys/</code> contiene par\u00e1metros ajustables del sistema que pueden modificarse temporalmente mediante el comando <code>sysctl</code>.</p> <p>Es posible consultar informaci\u00f3n de hardware como el procesador en <code>/proc/cpuinfo</code>, que muestra modelo, velocidad y n\u00famero de n\u00facleos, o la memoria en <code>/proc/meminfo</code>, donde aparecen los detalles del uso y disponibilidad de la RAM. Tambi\u00e9n permite obtener datos generales del sistema, como la versi\u00f3n del kernel en <code>/proc/version</code>, el tiempo que lleva encendido el equipo en <code>/proc/uptime</code>, o la carga promedio en <code>/proc/loadavg</code>.</p> <p>Adem\u00e1s, cada proceso en ejecuci\u00f3n tiene su propio directorio dentro de <code>/proc</code>, identificado por su PID. All\u00ed se puede ver con qu\u00e9 comando fue iniciado (<code>cmdline</code>), qu\u00e9 variables de entorno utiliza (<code>environ</code>), qu\u00e9 archivos tiene abiertos (<code>fd/</code>) o su consumo de memoria y estado actual (<code>status</code>).</p> <p>Por \u00faltimo, <code>/proc</code> tambi\u00e9n permite modificar configuraciones del kernel en caliente a trav\u00e9s de <code>/proc/sys/</code>, como habilitar el reenv\u00edo de paquetes en red o ajustar par\u00e1metros de seguridad, algo que se suele gestionar con el comando <code>sysctl</code>.</p> <ul> <li><code>/root</code></li> </ul> <p>El directorio <code>/root</code> es el directorio personal exclusivo del superusuario (root) en Linux. Aunque el nombre pueda inducir a error, no debe confundirse con <code>/</code>, que es la ra\u00edz del sistema de archivos. La diferencia es clara:</p> <ul> <li><code>/</code> \u2192 punto de partida del sistema, donde se montan todos los directorios y particiones.</li> <li><code>/root</code> \u2192 carpeta personal del usuario root, equivalente a <code>/home/usuario</code> para cuentas normales.</li> </ul> <p>Los usuarios normales guardan sus datos en <code>/home/usuario</code>, pero la cuenta root no lo hace por dos razones principales:</p> <ol> <li>Disponibilidad en arranque y recuperaci\u00f3n: si el sistema se da\u00f1a y la partici\u00f3n <code>/home</code> no est\u00e1 disponible, el superusuario necesita tener su propio espacio dentro de la partici\u00f3n ra\u00edz (<code>/</code>). De este modo, root siempre puede iniciar sesi\u00f3n y reparar el sistema.</li> <li>Seguridad y separaci\u00f3n: los archivos de configuraci\u00f3n y datos de root no deben mezclarse con los de los usuarios normales.</li> </ol> <p>Por eso <code>/root</code> est\u00e1 directamente bajo <code>/</code>, y no dentro de <code>/home</code>.</p> <p>El usuario root es la cuenta administrativa por antonomasia en Linux: tiene UID 0, lo que le otorga permisos ilimitados sobre el sistema. Root puede leer/escribir cualquier archivo, cargar o descargar m\u00f3dulos del kernel, cambiar permisos, crear o borrar usuarios, y m\u00e1s. Por seguridad, muchas distribuciones (como Ubuntu) bloquean la contrase\u00f1a de root por defecto y recomiendan usar <code>sudo</code> para acciones administrativas en su lugar.</p> <p>Los datos sobre las cuentas est\u00e1n en <code>/etc/passwd</code> (datos p\u00fablicos de la cuenta) y las contrase\u00f1as (hashed) en <code>/etc/shadow</code> (accesible solo por root). Si una l\u00ednea en <code>/etc/passwd</code> tiene UID 0, esa cuenta tendr\u00e1 privilegios root. Aqu\u00ed entra una clasificaci\u00f3n muy importante de comandos.</p> <ul> <li><code>su</code> (substitute user): cambia de usuario a otro (por defecto a root). Con <code>su -</code> obtienes el entorno de root completo. <code>su</code> pide la contrase\u00f1a de la cuenta objetivo (ej. la contrase\u00f1a de root).</li> <li> <p><code>sudo</code> (superuser do): permite ejecutar un comando con privilegios elevados sin conocer la contrase\u00f1a de root, solicitando la contrase\u00f1a del usuario actual (si est\u00e1 autorizado en sudoers). <code>sudo</code> deja un rastro m\u00e1s fino y controlado y es la pr\u00e1ctica recomendada hoy en d\u00eda.</p> </li> <li> <p><code>/run</code></p> </li> </ul> <p>El directorio <code>/run</code> es un sistema de archivos temporal que se crea en memoria cada vez que el sistema arranca. Su funci\u00f3n principal es almacenar informaci\u00f3n din\u00e1mica sobre procesos y servicios en ejecuci\u00f3n, como identificadores de procesos (PID), sockets de comunicaci\u00f3n, archivos de bloqueo (lock files) y otros datos que los programas necesitan mientras est\u00e1n activos.</p> <p>Por ejemplo, cuando un servicio como <code>sshd</code> (el servidor de conexiones seguras) se inicia, crea un archivo como <code>/run/sshd.pid</code> para indicar qu\u00e9 proceso est\u00e1 corriendo y con qu\u00e9 identificador. De igual forma, servicios como <code>NetworkManager</code> o <code>systemd</code> almacenan en <code>/run</code> informaci\u00f3n de estado que desaparece en cuanto el sistema se apaga o reinicia.</p> <p>Antes de la introducci\u00f3n de <code>/run</code>, distintos directorios cumpl\u00edan este rol: algunos programas guardaban estos datos en <code>/var/run</code> o <code>/var/lock</code>. Hoy en d\u00eda, por compatibilidad, esos directorios suelen ser enlaces simb\u00f3licos que apuntan a <code>/run</code>.</p> <p>Es importante tener en cuenta que <code>/run</code> reside en un sistema de archivos temporal en RAM (tmpfs), por lo que todo su contenido se pierde autom\u00e1ticamente al reiniciar. Esto garantiza que solo contenga informaci\u00f3n fresca y relevante para la sesi\u00f3n actual del sistema.</p> <ul> <li><code>/srv</code></li> </ul> <p>El directorio <code>/srv</code> est\u00e1 destinado a almacenar los datos que sirven los distintos servicios del sistema. Su nombre proviene de service, y la idea es que cualquier aplicaci\u00f3n que act\u00fae como servidor \u2014ya sea un servidor web, de archivos o de bases de datos\u2014 disponga aqu\u00ed de un espacio est\u00e1ndar para organizar su contenido.</p> <p>Por ejemplo, si el equipo funciona como servidor web, los archivos del sitio podr\u00edan ubicarse en <code>/srv/www/</code>; si act\u00faa como servidor FTP, los datos compartidos estar\u00edan en <code>/srv/ftp/</code>. La ventaja de esta organizaci\u00f3n es que permite mantener claramente separados los archivos de servicio de los archivos del sistema operativo y de los datos de los usuarios.</p> <p>Cabe se\u00f1alar que no todas las distribuciones de Linux utilizan activamente <code>/srv</code> de forma predeterminada. En Ubuntu, por ejemplo, los servidores web como Apache suelen usar <code>/var/www/</code> para sus documentos. Sin embargo, el est\u00e1ndar FHS (Filesystem Hierarchy Standard) recomienda <code>/srv</code> como el lugar correcto para almacenar los datos ofrecidos por servicios de red.</p> <ul> <li><code>/sys</code></li> </ul> <p>El directorio <code>/sys</code> es un sistema de archivos virtual, al igual que <code>/proc</code>, pero con un prop\u00f3sito diferente: sirve como interfaz entre el kernel de Linux y los dispositivos y controladores del sistema. </p> <p>Un ejemplo pr\u00e1ctico es <code>/sys/class/net/</code>, donde cada interfaz de red aparece como un directorio (por ejemplo, <code>eth0</code>, <code>wlan0</code>). Dentro, se pueden consultar archivos que muestran su estado (si est\u00e1 activa, su direcci\u00f3n MAC, velocidad del enlace) o par\u00e1metros que pueden ajustarse din\u00e1micamente.</p> <p>A diferencia de <code>/proc</code>, que ofrece principalmente informaci\u00f3n sobre procesos y el estado general del sistema, <code>/sys</code> est\u00e1 centrado en la gesti\u00f3n de dispositivos y sus controladores, lo que lo convierte en una herramienta clave para el kernel, los administradores y programas de configuraci\u00f3n.</p> <ul> <li><code>/tmp</code></li> </ul> <p>El directorio <code>/tmp</code> est\u00e1 destinado a almacenar archivos temporales generados tanto por el sistema como por las aplicaciones y los usuarios. Cualquier programa puede crear ficheros en esta carpeta \u2014por ejemplo, instaladores que necesitan espacio intermedio, navegadores web que guardan descargas incompletas, o editores de texto que almacenan copias de seguridad mientras se trabaja en un archivo\u2014.</p> <p>Por dise\u00f1o, todos los usuarios tienen permisos de escritura en <code>/tmp</code>, lo que lo convierte en un espacio compartido y de uso abierto. Para evitar problemas de seguridad, los ficheros creados aqu\u00ed suelen tener permisos restringidos a su propietario, y en muchos sistemas la carpeta est\u00e1 montada con opciones especiales (como <code>sticky bit</code>) que impiden a un usuario borrar los archivos de otro.</p> <p>Una caracter\u00edstica clave es que el contenido de <code>/tmp</code> no es permanente: normalmente se borra autom\u00e1ticamente al reiniciar el sistema, ya que suele estar montado en un sistema de archivos temporal en memoria (<code>tmpfs</code>). Esto garantiza que no se acumulen datos obsoletos o innecesarios.</p> <ul> <li><code>/usr</code></li> </ul> <p>A d\u00eda de hoy contiene muchos enlaces simb\u00f3licos a los comentados anteriormente</p> <ul> <li>El directorio <code>/var</code> est\u00e1 dedicado a almacenar datos variables, es decir, informaci\u00f3n que cambia de forma constante a medida que el sistema y las aplicaciones se ejecutan. A diferencia de directorios como <code>/usr</code>, que suelen contener archivos est\u00e1ticos y de solo lectura, en <code>/var</code> se concentran los ficheros din\u00e1micos y en crecimiento continuo, lo que lo convierte en un punto clave para la administraci\u00f3n y el mantenimiento del sistema.</li> </ul> <p>Dentro de <code>/var</code> destacan varios subdirectorios esenciales:</p> <ul> <li><code>/var/log</code>: aqu\u00ed se guardan los registros del sistema, que documentan pr\u00e1cticamente todas las actividades relevantes. Encontramos, por ejemplo, los registros de inicio de sesi\u00f3n, de errores del kernel, de servicios como Apache o SSH, y tambi\u00e9n los relacionados con la administraci\u00f3n mediante <code>sudo</code>. En Debian y Ubuntu, las acciones realizadas con <code>sudo</code> se registran en <code>/var/log/auth.log</code>, mientras que en sistemas como RHEL o CentOS aparecen en <code>/var/log/secure</code>. Estos archivos permiten rastrear qui\u00e9n ejecut\u00f3 qu\u00e9 comando, en qu\u00e9 momento y si la autenticaci\u00f3n fue exitosa o fallida, por lo que resultan fundamentales para la auditor\u00eda de seguridad y la depuraci\u00f3n de problemas.</li> <li><code>/var/spool</code>: almacena colas de procesos que deben ser atendidos, como trabajos pendientes de impresi\u00f3n o mensajes de correo electr\u00f3nico a\u00fan no entregados. Funciona como un \u00e1rea de espera donde los procesos gestionan tareas en curso.</li> <li><code>/var/cache</code>: contiene archivos de cach\u00e9 generados por aplicaciones, que permiten acelerar su funcionamiento al evitar recalcular o descargar de nuevo informaci\u00f3n. Por ejemplo, los gestores de paquetes como <code>apt</code> almacenan aqu\u00ed los paquetes descargados para instalaciones o actualizaciones.</li> </ul> <p>Adem\u00e1s, <code>/var</code> puede incluir otros subdirectorios como <code>/var/tmp</code>, usado para temporales que deben sobrevivir a reinicios, o <code>/var/lib</code>, donde se guardan datos persistentes de servicios (por ejemplo, las bases de datos de <code>dpkg</code> o <code>apt</code>).</p>"},{"location":"TEMA2/Teoria/3%20Directorios%20principales%20desde%20la%20ra%C3%ADz%20%20en%20Ubuntu/#24-instalacion-de-aplicaciones-en-linux","title":"2.4 Instalaci\u00f3n de aplicaciones en Linux","text":"<p>En Linux, los programas pueden instalarse de dos formas: a nivel de sistema o solo para un usuario concreto.</p> <p>Cuando se instalan con el gestor de paquetes, como <code>apt</code> en Ubuntu, los archivos se copian en directorios compartidos y quedan disponibles para todos los usuarios del sistema. Los binarios suelen ir a <code>/usr/bin</code> o <code>/usr/sbin</code>, las bibliotecas a <code>/usr/lib</code>, y los datos a <code>/usr/share</code>. Por ejemplo, si instalas Firefox con <code>sudo apt install firefox</code>, su ejecutable se encuentra en <code>/usr/bin/firefox</code>, las bibliotecas en <code>/usr/lib/firefox/</code> y los iconos o manuales en <code>/usr/share/firefox/</code>. Otro caso es el de programas propietarios como Google Chrome, que se instalan en <code>/opt/google/chrome/</code> y crean un enlace en <code>/usr/bin/</code> para que cualquier usuario pueda ejecutarlos.</p>"},{"location":"TEMA2/Teoria/3%20Directorios%20principales%20desde%20la%20ra%C3%ADz%20%20en%20Ubuntu/#25-buenas-practicas-para-particionado-de-linux","title":"2.5 Buenas pr\u00e1cticas para particionado de Linux","text":""},{"location":"TEMA2/Teoria/3%20Directorios%20principales%20desde%20la%20ra%C3%ADz%20%20en%20Ubuntu/#1-siempre-separar-la-raiz","title":"1. Siempre separar la ra\u00edz <code>/</code>","text":"<p>La partici\u00f3n ra\u00edz <code>/</code> es obligatoria, ya que contiene el sistema operativo. Lo recomendable es darle un tama\u00f1o suficiente para instalar programas y librer\u00edas sin preocupaciones: Escritorio: entre 20 y 30 GB suele bastar. Servidor: 50 GB o m\u00e1s, dependiendo de cu\u00e1ntos paquetes o servicios se instalen.</p>"},{"location":"TEMA2/Teoria/3%20Directorios%20principales%20desde%20la%20ra%C3%ADz%20%20en%20Ubuntu/#2-separar-home-para-proteger-los-datos-de-usuario","title":"2. Separar <code>/home</code> para proteger los datos de usuario","text":"<p>Tener <code>/home</code> en una partici\u00f3n independiente permite que los archivos personales y configuraciones de los usuarios sobrevivan incluso si reinstalas o actualizas el sistema operativo.</p> <ul> <li>Escritorio: darle la mayor parte del espacio disponible.</li> <li>Servidor: menos relevante, salvo que haya muchos usuarios locales.</li> </ul>"},{"location":"TEMA2/Teoria/3%20Directorios%20principales%20desde%20la%20ra%C3%ADz%20%20en%20Ubuntu/#3-usar-una-particion-var-independiente-en-servidores","title":"3. Usar una partici\u00f3n <code>/var</code> independiente en servidores","text":"<p>En servidores, los logs, cach\u00e9s y datos variables pueden crecer r\u00e1pidamente. Si <code>/var</code> se llena en la misma partici\u00f3n que <code>/</code>, el sistema podr\u00eda dejar de funcionar. Separar <code>/var</code> garantiza que el sistema operativo siga operativo aunque los registros crezcan demasiado. Tama\u00f1o recomendado: depende de la carga; 10\u201320 GB m\u00ednimo en servidores peque\u00f1os, m\u00e1s en sistemas cr\u00edticos.</p>"},{"location":"TEMA2/Teoria/3%20Directorios%20principales%20desde%20la%20ra%C3%ADz%20%20en%20Ubuntu/#4-considerar-separar-tmp-para-mayor-seguridad","title":"4. Considerar separar <code>/tmp</code> para mayor seguridad","text":"<p>La carpeta temporal <code>/tmp</code> es usada por cualquier aplicaci\u00f3n. Si un atacante o proceso malicioso llena esta carpeta, podr\u00eda provocar problemas graves en el sistema. Al poner <code>/tmp</code> en una partici\u00f3n separada, puedes montarla con opciones de seguridad como <code>noexec</code>, <code>nosuid</code> y <code>nodev</code>, que reducen riesgos de ejecuci\u00f3n de c\u00f3digo malicioso. Tama\u00f1o: 2\u20134 GB suele ser suficiente en escritorios, m\u00e1s en servidores que procesen archivos grandes.</p>"},{"location":"TEMA2/Teoria/3%20Directorios%20principales%20desde%20la%20ra%C3%ADz%20%20en%20Ubuntu/#5-la-particion-boot-en-escenarios-especiales","title":"5. La partici\u00f3n <code>/boot</code> en escenarios especiales","text":"<p>Separar <code>/boot</code> no siempre es necesario, pero s\u00ed recomendable en:</p> <ul> <li>Sistemas con cifrado completo (LUKS). Ojo:</li> </ul> <p>Cuando se utiliza cifrado completo de disco con LUKS (Linux Unified Key Setup), la partici\u00f3n ra\u00edz <code>/</code> y todo lo que contiene quedan cifrados. Eso incluye el kernel de Linux, la imagen de memoria inicial (<code>initrd/initramfs</code>) y el cargador de arranque (GRUB). El problema es que, para poder arrancar el sistema, el firmware (BIOS/UEFI) necesita cargar primero el gestor de arranque y luego el kernel. Pero si <code>/boot</code> estuviera dentro de la partici\u00f3n cifrada, el sistema se encontrar\u00eda en un c\u00edrculo vicioso: Para cargar el kernel necesitas abrir el cifrado. Pero para abrir el cifrado necesitas cargar primero el kernel y los m\u00f3dulos de LUKS.</p> <p>Por eso, en esquemas de cifrado completo se suele crear una partici\u00f3n <code>/boot</code> separada y sin cifrar, que contiene: El cargador de arranque (GRUB2). El kernel de Linux. La imagen initramfs, que lleva consigo los m\u00f3dulos necesarios para montar la partici\u00f3n cifrada.</p> <p>El flujo ser\u00eda as\u00ed:</p> <ol> <li>El firmware (UEFI/BIOS) carga GRUB desde <code>/boot</code>.</li> <li>GRUB carga el kernel y el initramfs, tambi\u00e9n desde <code>/boot</code>.</li> <li>El initramfs contiene el soporte para LUKS y pide la contrase\u00f1a de cifrado.</li> <li>Una vez descifrada la partici\u00f3n ra\u00edz, el sistema operativo contin\u00faa arrancando normalmente.</li> </ol> <p>De este modo, solo la carpeta <code>/boot</code> permanece sin cifrar, y el resto del disco (incluyendo <code>/</code>, <code>/home</code>, <code>/var</code>, etc.) queda protegido.</p>"},{"location":"TEMA2/Teoria/3%20Directorios%20principales%20desde%20la%20ra%C3%ADz%20%20en%20Ubuntu/#6-swap-particion-o-archivo","title":"6. Swap: \u00bfpartici\u00f3n o archivo?","text":"<p>El swap act\u00faa como memoria virtual cuando se agota la RAM. Hoy en d\u00eda, muchas distribuciones (incluido Ubuntu) crean un archivo swap en lugar de una partici\u00f3n dedicada, lo que simplifica la gesti\u00f3n. Sin embargo, la partici\u00f3n swap a\u00fan tiene usos:</p> <ul> <li>Para hibernaci\u00f3n, es obligatorio que el swap tenga al menos el mismo tama\u00f1o que la RAM.</li> <li>En servidores o PCs con poca RAM, una partici\u00f3n swap garantiza memoria adicional aunque m\u00e1s lenta.</li> <li>Como regla general:</li> <li>RAM &lt; 4 GB \u2192 swap = 2\u00d7 RAM.</li> <li>RAM 4\u20138 GB \u2192 swap = igual a RAM.</li> <li>RAM &gt; 8 GB \u2192 swap = 4\u20138 GB suele bastar</li> </ul> <p>En un entorno m\u00e1s profesional o multiusuario hay que hablar s\u00ed o s\u00ed de cuotas de disco, RAID y otras estrategias de particionado avanzadas. Vamos a comentarlo.</p>"},{"location":"TEMA2/Teoria/3%20Directorios%20principales%20desde%20la%20ra%C3%ADz%20%20en%20Ubuntu/#26-cuotas-de-disco-limitar-el-uso-de-espacio-por-usuario-o-grupo","title":"2.6 Cuotas de disco: limitar el uso de espacio por usuario o grupo","text":"<p>Cuando un sistema lo utilizan varios usuarios (p. ej. un servidor educativo o empresarial), es recomendable separar ciertas particiones para poder aplicar cuotas de disco. Esto evita que un \u00fanico usuario llene todo el sistema y afecte a los dem\u00e1s.</p> <ul> <li>Lo habitual es separar <code>/home</code> en su propia partici\u00f3n y activar cuotas de disco all\u00ed.</li> <li>Tambi\u00e9n puede hacerse en <code>/var</code> si se quiere limitar el uso de espacio por parte de servicios como correo, logs o colas de impresi\u00f3n.</li> <li>Ejemplo: si cada usuario tiene 5 GB de cuota en <code>/home</code>, aunque copie archivos enormes no afectar\u00e1 al resto del sistema.</li> </ul> <p>Las cuotas se configuran editando <code>/etc/fstab</code> para activar la opci\u00f3n <code>usrquota</code> o <code>grpquota</code> en la partici\u00f3n correspondiente, y luego gestionando con comandos como <code>edquota</code> o <code>repquota</code>.</p>"},{"location":"TEMA2/Teoria/3%20Directorios%20principales%20desde%20la%20ra%C3%ADz%20%20en%20Ubuntu/#27-raid-redundancia-y-rendimiento-lo-utilizaremos-cuando-sepamos-mas-sobre-comandos-linux-y-el-so","title":"2.7 RAID: redundancia y rendimiento (lo utilizaremos cuando sepamos m\u00e1s sobre comandos linux y el S.O)","text":"<p>El RAID (Redundant Array of Independent/Inexpensive Disks) es esencial en servidores donde se requiere alta disponibilidad o gran velocidad. La elecci\u00f3n del esquema RAID condiciona c\u00f3mo particionar y distribuir discos:</p> <ul> <li> <p>RAID 0 (striping): divide datos entre discos:  m\u00e1ximo rendimiento pero sin tolerancia a fallos. No recomendable en sistemas cr\u00edticos.</p> </li> <li> <p>RAID 1 (mirroring): duplica los datos en dos discos los datos se duplican en dos discos. Por ejemplo, si tienes dos discos de 1 TB, solo podr\u00e1s usar 1 TB, porque el segundo ser\u00e1 una copia exacta. La ventaja es que, si un disco falla, la informaci\u00f3n sigue estando disponible en el otro, lo que lo hace ideal para servidores peque\u00f1os o para quienes priorizan la seguridad frente a la capacidad.</p> </li> <li> <p>RAID 5 (paridad distribuida): funciona con un m\u00ednimo de tres discos y combina reparto de datos y bloques de paridad distribuidos.  La paridad es un bloque de datos especial que no guarda directamente la informaci\u00f3n original, sino un c\u00e1lculo matem\u00e1tico sobre ella (normalmente un XOR, es decir, una suma binaria). Ese bloque sirve como \u201cseguro\u201d: si uno de los discos se rompe, el RAID puede reconstruir los datos perdidos usando la paridad y lo que queda en los dem\u00e1s discos. Esto significa que si tienes tres discos de 1 TB, obtendr\u00e1s 2 TB utilizables: uno se reserva para la informaci\u00f3n de paridad. Si se rompe un disco, los datos se pueden reconstruir a partir de los dem\u00e1s. Es una soluci\u00f3n muy usada en NAS dom\u00e9sticos porque ofrece un buen equilibrio entre capacidad, velocidad y tolerancia a fallos, aunque la reconstrucci\u00f3n tras un fallo puede ser lenta.</p> </li> <li> <p>RAID 6 (doble paridad):  pero guarda dos bloques de paridad en lugar de uno, lo que permite que se puedan estropear dos discos sin perder datos. Necesita un m\u00ednimo de cuatro discos y la capacidad \u00fatil es el total menos dos. As\u00ed, con cuatro discos de 1 TB, tendr\u00edas 2 TB utilizables</p> </li> </ul>"},{"location":"TEMA2/Teoria/3%20Directorios%20principales%20desde%20la%20ra%C3%ADz%20%20en%20Ubuntu/#28-instalacion-desantendida","title":"2.8 Instalacion desantendida","text":"<p>Una instalaci\u00f3n desatendida (o unattended installation) es aquella en la que el sistema operativo se instala sin intervenci\u00f3n manual del usuario. Normalmente, el instalador hace preguntas: idioma, zona horaria, particiones, usuario, contrase\u00f1a\u2026</p> <p>En una instalaci\u00f3n desatendida, todas esas respuestas se definen antes en un archivo de configuraci\u00f3n o script.</p> <pre><code>#cloud-config\nautoinstall:\n  version: 1\n\n  locale: es_ES.UTF-8\n  keyboard:\n    layout: es\n    variant: ''\n  timezone: Europe/Madrid\n\n  identity:\n    hostname: ubuntu-desktop-clase\n    username: alumno\n    password: \"$6$abcd1234$Fv9N...\" #Hay que hashear la contrase\u00f1a\n  ssh:\n    install-server: false   # en Desktop no suele hacer falta\n\n  storage:\n    layout:\n      name: direct   # usar todo el disco de manera autom\u00e1tica\n\n  updates: security\n\n  packages:\n    - vim\n    - curl\n    - htop\n</code></pre> <p>En una instlaci\u00f3n como la de la pr\u00e1ctica 4 tendriamos algo as\u00ed</p> <pre><code>#cloud-config\nautoinstall:\n  version: 1\n\n  locale: es_ES.UTF-8\n  keyboard:\n    layout: es\n    variant: ''\n  timezone: Europe/Madrid\n\n  identity:\n    hostname: ubuntu-desktop-clase\n    username: alumno\n    password: \"$6$abcd1234$Fv9N...\" \n  ssh:\n    install-server: false\n\n  storage:\n    config:\n      - { type: disk, id: disk0, match: { size: largest }, ptable: gpt }\n\n      # Partici\u00f3n EFI (ESP) obligatoria en UEFI\n      - { type: partition, id: efi, device: disk0, size: 512M, flag: boot }\n      - { type: format, volume: efi, fstype: fat32 }\n      - { type: mount, device: efi, path: /boot/efi }\n\n      # Partici\u00f3n /boot\n      - { type: partition, id: boot, device: disk0, size: 1G }\n      - { type: format, volume: boot, fstype: ext4 }\n      - { type: mount, device: boot, path: /boot }\n\n      # Partici\u00f3n ra\u00edz /\n      - { type: partition, id: root, device: disk0, size: 30G }\n      - { type: format, volume: root, fstype: ext4 }\n      - { type: mount, device: root, path: / }\n\n      # Partici\u00f3n /home\n      - { type: partition, id: home, device: disk0, size: 60G }\n      - { type: format, volume: home, fstype: ext4 }\n      - { type: mount, device: home, path: /home }\n\n      # Partici\u00f3n swap\n      - { type: partition, id: swap, device: disk0, size: 8G }\n      - { type: format, volume: swap, fstype: swap }\n\n  updates: security\n\n  packages:\n    - vim\n    - curl\n    - htop\n</code></pre>"},{"location":"TEMA3/Practicas/1%C2%AAPractica.%20Administracion_de_usuarios_y_permisos_ambientada_en_attack_on_titan/","title":"Pr\u00e1ctica: Administraci\u00f3n de usuarios y permisos. Ambientada en Attack on Titan","text":"<p>Duraci\u00f3n estimada: 120\u2013180 minutos (actividad practica en clase)</p>"},{"location":"TEMA3/Practicas/1%C2%AAPractica.%20Administracion_de_usuarios_y_permisos_ambientada_en_attack_on_titan/#1-descripcion-de-la-primera-practica-del-tema","title":"1- Descripci\u00f3n de la primera pr\u00e1ctica del tema","text":"<p>La pr\u00e1ctica se realizar\u00e1 en ubuntu 24.04 (como siempre). Esta es una de las pr\u00e1cticas m\u00e1s importantes del curso ya que tocar\u00e1n conceptos que os acompa\u00f1aran por bastente tiempo. Como siempre, dejo la pr\u00e1ctica resuelta por mi en el siguiente video, pero esta vez os recomiendo intentearlo por vosotros mismos previamente porque si no, os va a costar mucho cuando hagamos el examen.</p> <p>La pr\u00e1ctica os introduce en la creaci\u00f3n, gesti\u00f3n y control de usuarios y permisos en un sistema Linux (debian). El escenario est\u00e1 ambientado en Attack on Titan (una de mis series favoritas, que os recomiendo ver como m\u00ednimo, tres veces): los participantes (vosotros) gestionar\u00e9is cuentas del \"Muro\", y crear\u00e9is grupos (Polic\u00eda Militar, Guarnici\u00f3n y Exploradores), y asignar\u00e9is permisos a ficheros y directorios cr\u00edticos.</p> <p>Se trabajar\u00e1 tanto a nivel pr\u00e1ctico como te\u00f3rico con los archivos y utilidades esenciales: </p> <p><code>/etc/passwd</code></p> <p><code>/etc/group</code></p> <p><code>/etc/shadow</code></p> <p><code>useradd</code></p> <p><code>usermod</code></p> <p><code>passwd</code></p> <p><code>groupadd</code></p> <p><code>chown</code></p> <p><code>chmod</code></p> <p><code>mkdir</code></p> <p><code>chage</code></p> <p><code>getent</code></p> <p><code>su</code></p> <p><code>userdel</code></p>"},{"location":"TEMA3/Practicas/1%C2%AAPractica.%20Administracion_de_usuarios_y_permisos_ambientada_en_attack_on_titan/#2-escenario-por-darle-un-poco-de-gracia","title":"2- Escenario (por darle un poco de gracia)","text":"<p>Es la \u00e9poca de la amenaza de tit\u00e1nica 2026, no ha piedad para la raza humana y menos para los alumnos de ISO. Vuestro sistema actuar\u00e1 como ordenador \u00fanico y central del Muro y deber\u00e1 hacer las siguientes cuestiones: </p> <ul> <li>A modo resumen, lo que ir\u00e9is haciendo ser\u00e1 crear cuentas para personajes (Eren, Mikasa, Armin, Levi, Hange), asignar directivas de expiraci\u00f3n de contrase\u00f1as. agrupar a los usuarios en grupos, y dar permisos a directorios que crear\u00e9is.</li> </ul>"},{"location":"TEMA3/Practicas/1%C2%AAPractica.%20Administracion_de_usuarios_y_permisos_ambientada_en_attack_on_titan/#3-archivos-y-conceptos-esenciales-breve-guia","title":"3- Archivos y conceptos esenciales (breve gu\u00eda)","text":"<p>En los sistemas GNU/Linux, los usuarios y los grupos son la base de la gesti\u00f3n de permisos y seguridad.  Cada usuario del sistema (ya sea una persona o un servicio) tiene un identificador propio (UID) y pertenece al menos a un grupo principal (GID).  Los grupos permiten organizar usuarios que comparten recursos o permisos comunes.  Para la elaboraci\u00f3n de esta pr\u00e1ctica es necesario comprender los siguientes tipos de directorios que nos encontramos:</p> <ul> <li><code>/etc/passwd</code> : Contiene la lista de usuarios del sistema y su informaci\u00f3n b\u00e1sica:</li> </ul> <pre><code>  nombre_usuario:x:UID:GID:comentario:directorio_home:int\u00e9rprete_de_comandos\n</code></pre> <ul> <li> <p>Nombre de usuario  </p> </li> <li> <p>x (contrase\u00f1a, se guarda en <code>etc shadow</code>)</p> </li> <li> <p>UID (User ID)  </p> </li> <li> <p>GID (Group ID principal)  </p> </li> <li> <p>Directorio personal (<code>/home/usuario</code>)  </p> </li> <li> <p>Shell por defecto (<code>/bin/bash</code>, <code>/usr/sbin/nologin</code>, etc.) . Las maas importantes, est\u00e1n aqu\u00ed:</p> Shell Ruta Disponibilidad \u00bfInstalado por defecto? Comentario Bash <code>/bin/bash</code> Pr\u00e1cticamente todas las distribuciones (Debian, Ubuntu, Fedora, CentOS, Arch, etc.) S\u00ed Es el shell m\u00e1s com\u00fan en Linux. Potente, interactivo y compatible con la mayor\u00eda de scripts del sistema. Sh <code>/bin/sh</code> Siempre presente S\u00ed Shell est\u00e1ndar POSIX. En muchos sistemas es un enlace simb\u00f3lico a <code>bash</code> o <code>dash</code> (en Debian/Ubuntu). Debe existir por compatibilidad. Fish <code>/usr/bin/fish</code> Disponible en la mayor\u00eda de repositorios No Debe instalarse manualmente (<code>sudo apt install fish</code>). Shell moderno, con autocompletado avanzado y sintaxis m\u00e1s legible. Nologin <code>/usr/sbin/nologin</code> Siempre disponible S\u00ed Impide el acceso interactivo al sistema mostrando un mensaje de /etc/nologin.txt. Se usa en cuentas de servicio o de sistema (por ejemplo, <code>www-data</code>) para Apache False <code>/bin/false</code> Siempre disponible S\u00ed Impide el acceso interactivo al sistema pero sin ning\u00fan tipo de mensaje. Se usa en cuentas t\u00e9cnicas o sin acceso al sistema. </li> <li> <p><code>/etc/shadow</code> : Almacena las contrase\u00f1as encriptadas de los usuarios y las pol\u00edticas de expiraci\u00f3n de las mismas.  S\u00f3lo puede ser le\u00eddo por el usuario <code>root</code> por motivos de seguridad. Lo veremos en detalle en el punto 2.</p> </li> <li> <p><code>/etc/group</code> : Define los grupos del sistema y sus miembros. Cada l\u00ednea tiene el formato:</p> </li> </ul> <pre><code>  nombre_grupo:x:GID:miembro1,miembro2,miembro3\n</code></pre> <p>El primer campo es el nombre del grupo    El segundo campo, normalmente una <code>x</code>, indica que la contrase\u00f1a del grupo (si existe) se almacena de forma cifrada en el archivo <code>/etc/gshadow</code>.    El tercer campo es el GID o identificador num\u00e9rico del grupo, que el sistema usa internamente para asociar permisos y propiedades.    El cuarto campo es una lista opcional de usuarios separados por comas que pertenecen a ese grupo como miembros secundarios.</p> <ul> <li><code>change</code>:  El comando <code>chage</code> (change age) se usa para administrar la caducidad de contrase\u00f1as y las pol\u00edticas de renovaci\u00f3n de las mismas. Permite, por ejemplo, obligar a los usuarios a cambiar su contrase\u00f1a cada cierto tiempo o establecer una fecha de expiraci\u00f3n de la cuenta.</li> </ul>"},{"location":"TEMA3/Practicas/1%C2%AAPractica.%20Administracion_de_usuarios_y_permisos_ambientada_en_attack_on_titan/#4-comienzo-de-la-practica","title":"4-Comienzo de la Pr\u00e1ctica","text":""},{"location":"TEMA3/Practicas/1%C2%AAPractica.%20Administracion_de_usuarios_y_permisos_ambientada_en_attack_on_titan/#41-primera-parte-crear-grupos-y-usuarios-debeis-hacer-todo-lo-que-se-especifique-en-los-apartados-a-b","title":"4.1. Primera parte. Crear grupos y usuarios (DEB\u00c9IS HACER TODO LO QUE SE ESPECIFIQUE en los apartados a), b)...)","text":"<p>a) En este apartado, creamos primero cada uno de los grupos de los que consta la pr\u00e1ctica</p> <pre><code>sudo groupadd exploradores\nsudo groupadd guarnicion\nsudo groupadd policia_militar\ncat /etc/group #mira todos los grupos\n</code></pre> <p>Una vez hecho el apartado a) la idea ahora es a\u00f1adir es crear cada usuario y a\u00f1adirlo a un grupo. No lo haremos como en la serie, lo haremos un poco distinto:</p> Usuario Grupo asignado eren exploradores armin exploradores mikasa guarnicion levi policia_militar hange exploradores Elige a tu compa\u00f1ero de pr\u00e1ctica exploradores reiner exploradores Eligete a ti policia_militar <p>A continuaci\u00f3n necesitamos crear primero los usuarios que aparecen en la tabla, para crear usuarios ejecutaremos el comando <code>useradd</code>. El comando <code>useradd</code> sirve para crear nuevos usuarios en el sistema. Sin embargo, utilizaremos opciones sobre dicho comando par\u00e1metros que modifican su comportamiento. Dos de los m\u00e1s importantes son <code>-m</code> y <code>-s</code>. Tambi\u00e9n especificamos <code>G</code>y <code>g</code>.</p> <ul> <li> <p><code>-m</code> (make home directory)    Indica que se debe crear autom\u00e1ticamente el directorio personal del usuario (normalmente en <code>/home/&lt;usuario&gt;</code>). se crea <code>/home/eren</code> y se copian dentro los archivos de plantilla de <code>/etc/skel/</code> (como <code>.bashrc</code>, <code>.profile</code>, etc.). Sin <code>-m</code>, el usuario se crear\u00eda sin un directorio personal, lo cual no suele ser deseable en un entorno de trabajo normal.</p> </li> <li> <p><code>-s</code> (shell)    Especifica qu\u00e9 int\u00e9rprete de comandos o shell usar\u00e1 el usuario por defecto (de las vistas y explicadas antes)</p> </li> <li> <p>El par\u00e1metro <code>-G</code> se utiliza en <code>useradd</code> para asignar al usuario uno o varios grupos secundarios (tambi\u00e9n llamados grupos suplementarios). Un usuario en Linux siempre pertenece al menos a un grupo principal (Grupo predeterminado del usuario y los archivos que crea pertenecen a este grupo), pero puede pertenecer a m\u00e1s de uno. Al crear un usuario siempre se crea un </p> </li> <li> <p>grupo con el mismo nombre que el usuario.</p> </li> <li> <p>El grupo principal del que hablabamos antes se define con la opci\u00f3n <code>-g</code> (min\u00fascula) si no se pone nada, se a\u00f1ade al grupo (principal) que tiene el mismo nombre que el usuario creado.</p> </li> </ul> <p>b) En este apartado y en nuestro caso, ejecutamos los siguientes comandos cuyo objetivo es crear los usuarios, asignarles la terminal por defecto y a\u00f1adirles a un grupo complementario a cada uno seg\u00fam la tabla anterior. Por \u00faltimo, no olvides por favor crearte un usuario y a\u00f1adirte a un grupo.</p> <pre><code>sudo useradd -m -s /bin/false -G exploradores eren\nsudo useradd -m -s /bin/bash -G exploradores armin\nsudo useradd -m -s /bin/bash -G guarnicion mikasa\nsudo useradd -m -s /bin/bash -G policia_militar levi\nsudo useradd -m -s /bin/bash -G exploradores hange\nsudo useradd -m -s /bin/bash -G exploradores reiner\nsudo useradd -m -s /usr/sbin/nologin -G tu_grupo_favorito tu_compa\u00f1ero\nsudo useradd -m -s /bin/bash -G tu_grupo_favorito tu_nombre\n</code></pre> <p>Ojo, para ver todos los grupos de un usuario, es suficiento con</p> <pre><code>groups eren\n</code></pre> <p>En vuestro caso, os devolver\u00e1 eren y exploradores Despu\u00e9s de haber creado los usuarios, asignareis contrase\u00f1as, \u00bfqu\u00e9 pasar\u00e1 si no lo hacemos?</p> <pre><code>sudo passwd eren\nsudo passwd mikasa\nsudo passwd armin\nsudo passwd levi\nsudo passwd hange\nsudo passwd tu_compa\u00f1ero\nsudo passwd reiner\nsudo passwd tu_nombre\n</code></pre> <p>Una vez hecho el apartado b), lo que se pida ahora es que comprob\u00e9is que se han creado correctamente los usuarios y sus grupos, para ello usar\u00e9is el comando <code>getent</code>: El comando <code>getent</code> (de get entries, \u201cobtener entradas\u201d) permite consultar informaci\u00f3n de las bases de datos del sistema definidas en <code>/etc/nsswitch.conf</code>. Estas bases de datos incluyen:</p> <ul> <li>usuarios (<code>passwd</code>)</li> <li>grupos (<code>group</code>)</li> <li>contrase\u00f1as cifradas (<code>shadow</code>)</li> <li>hosts, redes, servicios, etc.</li> </ul> <p>Esto hace que funcione tanto con usuarios locales (definidos en <code>/etc/passwd</code>) como con usuarios remotos, si el sistema usa autenticaci\u00f3n por red (LDAP, que veremos en el tema 5) Por eso se considera una forma m\u00e1s moderna y segura de obtener informaci\u00f3n que leer directamente los archivos con <code>cat /etc/passwd</code>. </p> <p>Comando para ver el grupo principalm de un usuario;</p> <pre><code>id -g nombre_usuario\n</code></pre> <p>c) Comprueba, por tanto, la salida de los siguientes comandos y verifica que efectivamente devuelven lo mismo. Para ello, buscad informaci\u00f3n de que hace el comando grep, aunque lo veremos en pr\u00e1cticas posteriores. Lo que quiero que os quede claro es que aunque getent es una herramienta poderosa para buscar en el archivo /etc/shadow, /etc/passwd o /etc/group  se puede buscar directamente sin usar el comando getent.</p> <pre><code>getent passwd eren\ncat /etc/passwd | grep eren\n\ngetent group exploradores\ncat /etc/group | grep exploradores\n\nsudo getent shadow eren\nsudo grep \"^eren:\" /etc/shadow\n</code></pre> <p>El \u00faltimo comando debe dar una salida parecida a la siguiente (no exactamente igual porque lo que os doy, no es m\u00e1s que un ejemplo):</p> <pre><code>eren:$6$GdX9p7Ds$eEybZK2....:19443:0:99999:7:::\n</code></pre>"},{"location":"TEMA3/Practicas/1%C2%AAPractica.%20Administracion_de_usuarios_y_permisos_ambientada_en_attack_on_titan/#42apartado-teorico-segunda-parte-revisar-etcshadow-y-caducidad-de-contrasenas","title":"4.2.(Apartado Te\u00f3rico) Segunda Parte. Revisar <code>/etc/shadow</code> y caducidad de contrase\u00f1as","text":"<p>Volviendo a la salida del \u00faltimo comando vamos a ver qu\u00e9 significa cada cosa que all\u00ed aparec\u00eda.</p> <pre><code>eren:$6$GdX9p7Ds$eEybZK2....:19443:0:99999:7:::\n</code></pre> <p>Cada l\u00ednea devuelta de <code>/etc/shadow</code> tiene 9 campos separados por <code>:</code> (dos puntos) y significan lo siguiente:</p> Campo Ejemplo Significado 1 <code>eren</code> Nombre del usuario 2 <code>$6$GdX9p7Ds$eEybZK2...</code> Contrase\u00f1a cifrada (hash) o s\u00edmbolo especial (<code>!</code> o <code>*</code> si est\u00e1 bloqueada) 3 <code>19443</code> Fecha del \u00faltimo cambio de contrase\u00f1a (d\u00edas desde 1/1/1970) 4 <code>0</code> Este campo define cu\u00e1ntos d\u00edas deben pasar desde el \u00faltimo cambio antes de que el usuario pueda cambiar su contrase\u00f1a otra vez. 5 <code>99999</code> Este campo indica cu\u00e1nto tiempo puede usarse una contrase\u00f1a antes de que caduque. 6 <code>7</code> D\u00edas de aviso antes de la caducidad 7 (vac\u00edo) D\u00edas tras la caducidad antes de la contrase\u00f1a antes de desactivar la cuenta 8 (vac\u00edo) especifica el n\u00famero de d\u00edas desde el 1 de enero de 1970 (epoch) en que la cuenta ser\u00e1 desactivada completamente (no se podr\u00e1 iniciar sesi\u00f3n, aunque la contrase\u00f1a sea v\u00e1lida). 9 (vac\u00edo) este campo est\u00e1 reservado para uso futuro o para extensiones espec\u00edficas del sistema. En la pr\u00e1ctica, la mayor\u00eda de las distribuciones lo dejan vac\u00edo. <p>El comando chage sirve para cambiar estas configuraciones de la contrase\u00f1a, las opciones mas usuales que tiene el comando son las siguientes:</p> <ul> <li> <p><code>-l</code> : listar la informaci\u00f3n de caducidad de la cuenta.</p> </li> <li> <p><code>-d &lt;FECHA|0&gt;</code> : fijar la fecha del \u00faltimo cambio de contrase\u00f1a (poner <code>0</code> fuerza a cambiar la contrase\u00f1a en el pr\u00f3ximo inicio). Ojo, ejemplo:</p> </li> </ul> <pre><code>sudo chage -l armin\n\nsudo chage -d 2025-09-15 armin #Esto registra que Armin cambi\u00f3 su contrase\u00f1a el 15 de septiembre de 2025.\n  #El sistema calcular\u00e1 los plazos de caducidad (-M, -W, etc.) a partir de esa fecha.\n\nsudo chage -l armin\n\nsudo chage -d 0 armin #Si pones 0, est\u00e1s diciendo al sistema:Haz como si el usuario nunca hubiera cambiado la contrase\u00f1a.forzamos que cambie la contrase\u00f1a al siguiente inicio\n\nsudo chage -l armin\n</code></pre> <ul> <li><code>-m &lt;D\u00cdAS&gt;</code> : m\u00ednimo de d\u00edas entre cambios de contrase\u00f1a (no puede cambiar antes).</li> </ul> <pre><code>sudo chage -m 1 armin #m 1: evita que el usuario cambie la contrase\u00f1a varias veces seguidas (por ejemplo, para saltarse la pol\u00edtica de seguridad) ojo, root puede...\n\nsudo chage -l armin\n\nsudo chage -m 0 armin  #m 0: Sin restricci\u00f3n m\u00ednima. (valor por defecto en muchos sistemas)\n\nsudo chage -l armin\n</code></pre> <ul> <li><code>-M &lt;D\u00cdAS&gt;</code> : m\u00e1ximo de d\u00edas que la contrase\u00f1a es v\u00e1lida (caducidad).</li> </ul> <pre><code>sudo chage -M 90 armin #M 90: obliga al usuario a cambiar la contrase\u00f1a cada 3 meses\n\nsudo chage -l armin\n\nsudo chage -M 99999 armin #Este es el valor por defecto en muchas distribuciones.Equivale a decir \u201cla contrase\u00f1a no tiene fecha de caducidad\u201d.\n\nsudo chage -l armin\n</code></pre> <ul> <li><code>-W &lt;D\u00cdAS&gt;</code> : d\u00edas de aviso antes de la caducidad.</li> </ul> <pre><code>sudo chage -W 10 armin #W 10: muestra un aviso 10 d\u00edas antes de la expiraci\u00f3n para que el usuario tenga tiempo de cambiarla.\n\nsudo chage -l armin\n\nsudo chage -W 0 armin #Sin aviso\n\nsudo chage -l armin\n</code></pre> <ul> <li><code>-I &lt;D\u00cdAS&gt;</code> : d\u00edas de inactividad tras caducidad antes de desactivar la cuenta (inactividad).</li> </ul> <pre><code>sudo chage -I 15 armin #si la contrase\u00f1a ha caducado y el usuario no la cambia en 15 d\u00edas,el sistema bloquear\u00e1 la cuenta por inactividad.\n\nsudo chage -l armin\n\nsudo chage -I -1 armin #Si le pasas el valor -1, est\u00e1s indicando que no hay l\u00edmite de inactividad, el usuario nunca ser\u00e1 bloqueado autom\u00e1ticamente por este motivo.\n\nsudo chage -l armin\n</code></pre> <ul> <li><code>-E &lt;FECHA|0&gt;</code> : fecha en la que la cuenta queda desactivada / expirada (formato <code>YYYY-MM-DD</code> o <code>0</code> para sin expiraci\u00f3n).</li> </ul> <pre><code>sudo chage -E 2025-12-31 armin #fecha en la que la cuenta expirara\n\nsudo chage -l armin\n\nsudo chage -E 0 armin #cuenta ano expira\n\nsudo chage -l armin\n</code></pre> <p>-Otros ejemplos combinados son:</p> <pre><code>sudo chage -m 1 -M 90 -W 10 armin #m 1: evita que el usuario cambie la contrase\u00f1a varias veces seguidas (por ejemplo, para saltarse la pol\u00edtica de seguridad).M 90: obliga al usuario a cambiar la contrase\u00f1a cada 3 meses.W 10: muestra un aviso 10 d\u00edas antes de la expiraci\u00f3n para que el usuario tenga tiempo de cambiarla.\n\nsudo chage -l armin #mostramos la informaci\u00f3n de caducidad\n</code></pre> <p>Lo que da la siguiente salida:</p> <pre><code>\u00daltimo cambio de contrase\u00f1a                                 : Oct 19, 2025\nLa contrase\u00f1a puede cambiarse                               : Oct 20, 2025\nLa contrase\u00f1a debe cambiarse                                : Jan 17, 2026\nEl usuario recibe aviso antes de que caduque la contrase\u00f1a   : 10 d\u00edas\nCuenta expira                                               : nunca\nInactividad despu\u00e9s de caducar la contrase\u00f1a                 : 0 d\u00edas\n</code></pre> <p>Otros ejemplos:</p> <pre><code>sudo chage -m 5 -M 60 -W 7 -I 10 usuario4 #La contrase\u00f1a debe mantenerse al menos 5 d\u00edas antes de poder cambiarse. Caduca a los 60 d\u00edas. El usuario ser\u00e1 avisado con 7 d\u00edas de antelaci\u00f3n. Si no cambia la contrase\u00f1a tras caducar, la cuenta se bloquear\u00e1 10 d\u00edas despu\u00e9s.\n\nsudo chage -m 0 -M 99999 -I -1 -E -1 usuario #Dejas sin restricciones: m 0 \u2192 sin restricci\u00f3n m\u00ednima de cambio. M 99999 \u2192 caduca dentro de mucho tiempo (\u2248273 a\u00f1os). I -1 \u2192 sin bloqueo por inactividad. E -1 o -E 0 \u2192 sin fecha de expiraci\u00f3n\n</code></pre>"},{"location":"TEMA3/Practicas/1%C2%AAPractica.%20Administracion_de_usuarios_y_permisos_ambientada_en_attack_on_titan/#43-aplicar-el-comando-chage","title":"4.3. Aplicar el comando chage","text":"<p>Tras la teor\u00eda anterior, lo que os pido ahora es que ejecuteis un comando para que el usuario de vuestro compa\u00f1ero solo pueda cambiar la contrase\u00f1a una vez por dia, y que solo pueda usarse una contrase\u00f1a cada 3 meses (90 dias), adem\u00e1s, el usuario deber\u00e1 ser avisado con 10 d\u00edas de antelaci\u00f3n. El usuario deber\u00e1 cambiar la contrase\u00f1a en 15 d\u00edas o su cuenta expirar\u00e1</p> <pre><code>sudo chage -m 1 -M 90 -W 10 -I 15 usuario\n</code></pre> <p>Tras realizar lo anterior, resetea manualmente la \u00faltima fecha de cambio de contrase\u00f1a de tu compa\u00f1ero a ayer y ejecuta el comando <code>chage -l</code> sobre tu compa\u00f1ero.</p> <pre><code>sudo chage -d 2025-11-5 usuario\nsudo chage -l usuario\n</code></pre>"},{"location":"TEMA3/Practicas/1%C2%AAPractica.%20Administracion_de_usuarios_y_permisos_ambientada_en_attack_on_titan/#44-apartado-teorico-moverse-por-directorios-de-linux-y-creacion-de-directorios","title":"4.4. (Apartado te\u00f3rico) Moverse por directorios de Linux y creaci\u00f3n de directorios.","text":"<p>Antes de realizar el siguiente punto, es conveniente que os sep\u00e1is mover v\u00eda terminal por los distintos directorios que posee vuestro sistema Ubuntu:</p> <p>En los sistemas GNU/Linux, el terminal es una herramienta fundamental para navegar y trabajar con directorios y archivos. Los dos comandos m\u00e1s b\u00e1sicos para orientarte son <code>cd</code> (cambiar de directorio) y <code>pwd</code> (mostrar la ruta actual).</p> <p>-El comando <code>pwd</code> muestra la ruta completa del directorio actual en el que te encuentras. Sint\u00e1xis b\u00e1sica:</p> <pre><code>$ pwd\nsalida-&gt; /home/alumno\n</code></pre> <p>-El comando <code>cd</code> sirve para moverte entre carpetas (directorios) dentro del sistema de archivos. Sint\u00e1xis b\u00e1sica:</p> <pre><code>cd &lt;ruta&gt;\n</code></pre> <p>Donde  puede ser: <pre><code>absoluta \u2192 comienza desde la ra\u00edz /\n\nrelativa \u2192 depende del directorio en el que est\u00e1s ahora\n</code></pre> <p>-Una ruta absoluta indica el camino completo desde la ra\u00edz <code>/</code>.</p> <pre><code>cd /home/manolo/Documentos\n</code></pre> <p>Despu\u00e9s de ejecutarlo, estar\u00e1s en la carpeta <code>documentos</code> del usuario <code>manolo</code>.</p> <p>Puedes comprobarlo con:</p> <pre><code>pwd\n</code></pre> <p>-Una ruta relativa parte del directorio actual.</p> <p>Sup\u00f3n que est\u00e1s en <code>/home/manolo</code> y quieres entrar en <code>documentos</code>:</p> <pre><code>cd Documentos\n</code></pre> <p>Ahora estar\u00e1s en <code>/home/alumno/Documentos</code>.</p> <p>-El s\u00edmbolo <code>..</code> representa el directorio padre (un nivel superior).</p> <pre><code>cd ..\n</code></pre> <p>Si estabas en <code>/home/alumno/documentos</code>, ahora estar\u00e1s en <code>/home/alumno</code>.</p> <p>Puedes comprobarlo con <code>pwd</code>:</p> <pre><code>/home/alumno\n</code></pre> <p>-El s\u00edmbolo <code>~</code> representa tu carpeta personal (home).</p> <pre><code>cd ~\n#\u00f3\ncd\n</code></pre> <p>Ambos comandos te llevar\u00e1n a /home/manolo</p> <p>-Para regresar al \u00faltimo directorio visitado, usa un guion:</p> <pre><code>cd -\n</code></pre> <p>Ejemplo:</p> <pre><code>$ pwd\n/home/alumno/documentos\n$ cd /etc\n$ cd -\n/home/alumno/documentos\n</code></pre> <p>-El comando <code>mkdir</code> (make directory) sirve para crear carpetas. Sintaxis b\u00e1sica:</p> <pre><code>mkdir nombre_carpeta\n</code></pre> <p>Opciones m\u00e1s comunes</p> <ul> <li><code>-p</code> \u2192 crea tambi\u00e9n las carpetas padre si no existen.  (ojo si pongo / es una ruta absoluta)</li> </ul> <pre><code>  mkdir -p /home/tu_nombre/proyectos/2025/enero\n</code></pre> <ul> <li><code>-v</code> \u2192 modo \u201cverbose\u201d, muestra un mensaje por cada carpeta creada.  </li> </ul> <pre><code>  mkdir -v nueva_carpeta\n</code></pre> <ul> <li>Crear varias carpetas a la vez:</li> </ul> <pre><code>  mkdir carpeta1 carpeta2 carpeta3\n</code></pre>"},{"location":"TEMA3/Practicas/1%C2%AAPractica.%20Administracion_de_usuarios_y_permisos_ambientada_en_attack_on_titan/#45-aplicar-lo-anterior","title":"4.5 Aplicar lo anterior","text":"<p>El objetivo de este apartado es aprender a moverse c\u00f3modamente por el sistema de archivos usando los comandos b\u00e1sicos <code>cd</code> , <code>pwd</code> y <code>mkdir</code>. Realiza paso a paso los siguientes ejercicios en tu terminal, observando siempre la salida de <code>pwd</code> despu\u00e9s de cada movimiento. Adjunta capturas de pantalla.</p> <p>1.Abre una terminal desde tu usuario normal (no el que creaste en esta pr\u00e1ctica) y escribe:</p> <pre><code>pwd\n</code></pre> <p>Ver\u00e1s algo como:</p> <pre><code>/home/tu_nombre\n</code></pre> <p>2.Crea una carpeta llamada <code>entrenamiento</code>:</p> <pre><code>mkdir entrenamiento\n</code></pre> <p>3..Entra en ella y comprueba d\u00f3nde est\u00e1s:</p> <pre><code>cd entrenamiento\npwd\n</code></pre> <p>Salida esperada:</p> <pre><code>/home/tu_nombre/entrenamiento\n</code></pre> <p>4.Dentro de <code>entrenamiento</code>, crea tres carpetas:</p> <pre><code>mkdir titan pared tropa\n</code></pre> <p>5.Usa <code>ls</code> para comprobar que existen:</p> <pre><code>ls\n</code></pre> <p>6.Entra en <code>tropa</code>:</p> <pre><code>cd tropa\npwd\n</code></pre> <p>7.Sube un nivel:</p> <pre><code>cd ..\npwd\n</code></pre> <p>8.Vuelve directamente a tu home:</p> <pre><code>cd ~\npwd\n</code></pre> <p>9.Crea una ruta completa con <code>mkdir -p</code>:</p> <pre><code>mkdir -p /home/tu_usuario/muro/exterior/seccionA\n</code></pre> <p>10.Entra en esa ruta para comprobar:</p> <pre><code>cd ~/muro/exterior/seccionA\npwd\n</code></pre> <p>11.Sube dos niveles de golpe:</p> <pre><code>cd ../..\npwd\n</code></pre> <p>12.Vuelve al \u00faltimo directorio visitado: \u00bfdonde acabas?</p> <pre><code>cd -\n</code></pre>"},{"location":"TEMA3/Practicas/1%C2%AAPractica.%20Administracion_de_usuarios_y_permisos_ambientada_en_attack_on_titan/#46-asignar-permisos-con-chown-y-chmod-uso-de-usermod","title":"4.6 Asignar permisos con <code>chown</code> y <code>chmod</code>. Uso de <code>usermod</code>","text":"<p>Queremos crear dos recursos compartidos del Muro en el sistema: Para conseguir colaboraci\u00f3n segura y ordenada tenemos que hacer uso de los siguientes comandos, que explicamos primero con algunos ejemplos para despu\u00e9s detallaros un poco m\u00e1s que ten\u00e9is que hacer:</p>"},{"location":"TEMA3/Practicas/1%C2%AAPractica.%20Administracion_de_usuarios_y_permisos_ambientada_en_attack_on_titan/#propietario-y-grupo-propietarios-chown","title":"Propietario y grupo propietarios (<code>chown</code>)","text":"<p>Cada archivo o directorio en Linux pertenece a:</p> <ul> <li> <p>un usuario propietario</p> </li> <li> <p>un grupo (normalmente el grupo principal del usuario que lo cre\u00f3)</p> </li> </ul> <p>Esto se puede comprobar con <code>ls -l</code> en el directorio en que se encuentre el archivo, por ejemplo si  plan_toma_muro.txt se encuentra en la carpeta home:</p> <pre><code>-rw-r--r-- 1 eren exploradores 0 oct 12 10:15 plan_toma_muro.txt\n</code></pre> <p>Aqu\u00ed, eren es el propietario y exploradores es el grupo. El propietario y el grupo determinan qui\u00e9n puede hacer qu\u00e9 seg\u00fan los permisos definidos. El comando que permite cambiar estas asociaciones es:</p> <pre><code>sudo chown propietario:grupo archivo\n</code></pre> <p>Por ejemplo:</p> <pre><code>sudo chown root:exploradores /srv/inteligencia\n</code></pre> <pre><code>significa que:\n\n- root (administrador) es el propietario del directorio.\n\n- El grupo exploradores tiene derechos sobre \u00e9l.\n</code></pre>"},{"location":"TEMA3/Practicas/1%C2%AAPractica.%20Administracion_de_usuarios_y_permisos_ambientada_en_attack_on_titan/#permisos-del-directorio","title":"Permisos del directorio","text":"<p>Que permitan lectura/escritura al grupo pero no a otros (<code>chmod</code>). Linux usa tres conjuntos de permisos (lectura, escritura, ejecuci\u00f3n), aplicados a tres tipos de usuarios:</p> <ul> <li>u (user): el propietario.</li> <li>g (group): el grupo asignado.+</li> <li>o (others): el resto de usuarios.</li> </ul> <p>Cada conjunto puede tener combinaciones de:</p> Permiso Letra Valor num\u00e9rico Significado Lectura <code>r</code> 4 Permite ver el contenido (o listar archivos en un directorio <code>ls</code>). Necesito previamente permisos de ejecuci\u00f3n en el directorio <code>x</code> Ejecuci\u00f3n <code>x</code> 1 Permite acceder al interior (si es directorio). Escritura <code>w</code> 2 Permite modificar o borrar informaci\u00f3n del archivo o Permite crear, borrar o renombrar archivos dentro del directorio. Necesito previamente permisos de ejecuci\u00f3n en el directorio <code>x</code> <p>Por ejemplo, un directorio <code>rwxrwx---</code> (770) permite acceso total a propietario y grupo, pero bloquea completamente a los dem\u00e1s.</p> <p>Los permisos se expresan de la siguiente forma:</p>"},{"location":"TEMA3/Practicas/1%C2%AAPractica.%20Administracion_de_usuarios_y_permisos_ambientada_en_attack_on_titan/#de-forma-simbolica","title":"de forma simb\u00f3lica:","text":"<pre><code>sudo chmod u=rwx,g=rwx,o=--- archivo\n</code></pre> <pre><code>sudo chmod u=rwx,g=rwx,o=w hola.txt\n</code></pre>"},{"location":"TEMA3/Practicas/1%C2%AAPractica.%20Administracion_de_usuarios_y_permisos_ambientada_en_attack_on_titan/#de-forma-numerica-octal","title":"de forma num\u00e9rica (octal):","text":"<pre><code>sudo chmod 770 archivo\n</code></pre> <p>(4+2+1 = 7 para usuario y grupo, 0 para otros)</p> <pre><code>sudo chmod 772 archivo\n</code></pre> <pre><code>(4+2+1 = 7 para usuario y grupo, 2 para otros)\n</code></pre>"},{"location":"TEMA3/Practicas/1%C2%AAPractica.%20Administracion_de_usuarios_y_permisos_ambientada_en_attack_on_titan/#comando-usermod","title":"Comando usermod","text":"<p>Vemos ahora el comando usermod. El comando <code>usermod</code> (abreviatura de user modify) se usa en Linux para modificar las propiedades de un usuario existente del sistema. Permite cambiar desde su grupo principal o secundarios hasta su shell, su carpeta personal o su fecha de expiraci\u00f3n. Algunas de las opciones m\u00e1s interesantes con ejemplos son las siguientes:</p> Opci\u00f3n Significado Ejemplo <code>-aG</code> A\u00f1adir el usuario a uno o varios grupos secundarios, sin eliminar los existentes. a de append <code>usermod -aG exploradores armin</code> <code>-g</code> Cambiar el grupo principal del usuario <code>usermod -g guarnicion mikasa</code> <code>-d</code> Cambiar el directorio personal (home) <code>usermod -d /home/eren_nuevo eren</code> <code>-s</code> Cambiar el shell por defecto <code>usermod -s /bin/bash levi</code> <code>-L</code> Bloquear la cuenta (no se puede iniciar sesi\u00f3n) <code>usermod -L hange</code> <code>-U</code> Desbloquear la cuenta <code>usermod -U hange</code> <code>-e</code> Establecer una fecha de expiraci\u00f3n para la cuenta (formato AAAA-MM-DD) <code>usermod -e 2025-12-31 armin</code> <p>Si quieres quitar a un usuario de un grupo, puedes mirar los grupos en los que est\u00e1 con:</p> <pre><code>groups manolo\n</code></pre> <p>y ver\u00e1s grupo1, grupo2, grupo3, grupo4</p> <p>y despu\u00e9s hacer:</p> <pre><code>sudo usermod -G grupo1,grupo2,grupo3 nombre_usuario\n</code></pre> <p>De esta forma estar\u00e1 en todos menos en grupo 4. Por \u00faltimo vemos el comando <code>su</code>, que es uno de los m\u00e1s cl\u00e1sicos y poderosos en Linux. Sirve para cambiar de usuario dentro de la misma terminal sin cerrar sesi\u00f3n ni abrir otra ventana. Vamos a verlo paso a paso con ejemplos claros.</p>"},{"location":"TEMA3/Practicas/1%C2%AAPractica.%20Administracion_de_usuarios_y_permisos_ambientada_en_attack_on_titan/#comando-su","title":"Comando su","text":"<p><code>su</code> viene de \u201csubstitute user\u201d (sustituir usuario). Permite abrir una sesi\u00f3n temporal como otro usuario. Por defecto, si no le indicas a qu\u00e9 usuario, asume que quieres ser root (el superusuario).</p> <p>\u200b   \ud83d\udd39 Cambiar al usuario <code>root</code>: <code>su</code></p> <p>\u200b   \ud83d\udd39 Cambiar al usuario <code>root</code>: <code>su root</code></p> <p>\u200b   \ud83d\udd39 Cambiar al usuario <code>root</code> como si hubiera iniciado sesi\u00f3n desde 0: <code>su</code></p> <p>\u200b   \ud83d\udd39 Cambiar al usuario <code>eren</code>: <code>su eren</code></p> <p>\u200b   \ud83d\udd39 Cambiar al usuario <code>eren</code> como si hubiera iniciado sesi\u00f3n desde 0 (espacio ente - y eren): <code>su - eren</code></p>"},{"location":"TEMA3/Practicas/1%C2%AAPractica.%20Administracion_de_usuarios_y_permisos_ambientada_en_attack_on_titan/#un-ejemplo-de-todo-lo-anterior","title":"Un ejemplo de todo lo anterior","text":"<p>Ejemplo de todo lo anterior;</p> <ul> <li> <p><code>/srv/inteligencia</code> : Crear este espacio para el Cuerpo de Exploraci\u00f3n (grupo <code>exploradores</code>). Los miembros de ese grupo deben poder colaborar: crear, modificar y borrar ficheros en ese directorio. El resto, sin permisos.</p> </li> <li> <p><code>/srv/arsenal</code> : Crear este espacio para la Polic\u00eda Militar (grupo <code>policia_militar</code>) Los miembros de ese grupo deben poder colaborar: crear, modificar y borrar ficheros en ese directorio. Otros podr\u00e1n listar el contenido</p> </li> <li> <p>Comprueba que reiner solo puede listar el directorio (cambia al usuario reiner) pero no puede acceder a la carpeta ni menos crear algo en esa carpeta</p> </li> <li> <p>A\u00f1adimos a reiner al grupo de policia_militar tambi\u00e9n (ahora puede acceder a ambos directorios)</p> </li> </ul> <p>Soluci\u00f3n:</p> <pre><code>sudo mkdir -p /srv/inteligencia\nsudo mkdir -p /srv/arsenal\nsudo chown root:exploradores /srv/inteligencia\nsudo chown root:policia_militar /srv/arsenal\nsudo chmod 774 /srv/inteligencia\nsudo chmod 770 /srv/arsenal\nsu reiner\ncd /srv/arsenal (denied)\nsu (tu_usuario_real) #Esto nos los ahorraremos cuando veamos sudoers\nsudo usermod -aG policia_militar reiner\nsu reiner\ncd /srv/arsenal (allowed)\n</code></pre>"},{"location":"TEMA3/Practicas/1%C2%AAPractica.%20Administracion_de_usuarios_y_permisos_ambientada_en_attack_on_titan/#47-practica-de-permisos-con-chown-y-chmod-uso-de-usermod","title":"4.7 Practica de permisos con <code>chown</code> y <code>chmod</code>. Uso de <code>usermod</code>","text":"<p>Explicado lo anterior, se pide lo siguiente:</p> <p>El Muro sigue reforzando su sistema de informaci\u00f3n. Se han creado dos nuevas zonas de trabajo que deben ser seguras y accesibles solo para los equipos designados. La administraci\u00f3n central (root) supervisar\u00e1 todo, pero cada divisi\u00f3n gestionar\u00e1 sus propios datos internos.</p> <ul> <li>Crea dos directorios dentro de <code>/srv</code>:</li> <li><code>/srv/planificacion</code> para el grupo <code>policia_militar</code>.</li> <li> <p><code>/srv/abastecimiento</code> para el grupo <code>guarnicion</code>.</p> </li> <li> <p>El propietario debe ser <code>root</code> en <code>/srv/planificacion</code> , y <code>hange</code> en <code>/srv/abastecimiento</code>. Cada grupo debe tener acceso completo a su respectivo directorio al igual que el propietario del mismo. Los dem\u00e1s usuarios no deben tener ning\u00fan permiso en <code>/srv/planificacion</code> y solo read en <code>/srv/abastecimiento</code>.</p> </li> <li> <p>Comprueba que <code>armin</code> no pueder hacer un ls a <code>/srv/planificacion</code> y si a <code>/srv/abastecimiento</code></p> </li> <li> <p>Comprueba que a pesar de no ser de la <code>guarnicion</code>, <code>hange</code> puede crear directorios en <code>/srv/abastecimiento.</code></p> </li> <li> <p>Adem\u00e1s, da a <code>armin</code> acceso adicional al directorio <code>/srv/planificacion</code> sin cambiar el grupo del archivo (a\u00f1adiendo a <code>armin</code> al grupo correspondiente). Comprueba ahora que armin puede entrar en <code>/srv/planificacion</code></p> </li> </ul>"},{"location":"TEMA3/Practicas/1%C2%AAPractica.%20Administracion_de_usuarios_y_permisos_ambientada_en_attack_on_titan/#5-borrar-toda-la-info-de-los-usuarios-creados-y-grupos","title":"5. Borrar toda la info de los usuarios creados y grupos","text":"<p>OJO! Antes de borrarlos lo suyo es que mates los procesos de cada usuario as\u00ed:</p> <pre><code>sudo pkill -KILL -u usuario\n</code></pre> <pre><code>sudo userdel -r eren\n</code></pre> <p>Para borrar los grupos ejecuta lo siguiente:</p> <pre><code>sudo groupdel nombre_grupo\n</code></pre> <p>\u00bfQu\u00e9 pasa si ese grupo es el principal de un usuario?</p> <p>\u00a1Fin de la pr\u00e1ctica! \u00a1Por la humanidad! :)</p>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/","title":"Pr\u00e1ctica 2 \u2014 Administraci\u00f3n de permisos (AOT) \u2014 Temas imprescindibles","text":"<p>Duraci\u00f3n aprox: 3 clases (semana 03/11/2025)</p> <p>Entregable: Un documento de google o pdf con los comandos insertados de los puntos: 7.Parte Pr\u00e1ctica  y 8. Parte Pr\u00e1ctica.de esta pr\u00e1ctica. No hace falta ejecutar los ejemplos de los puntos 1 al 6.</p>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#indice","title":"\u00cdndice","text":"<ol> <li>Anexo I. El comando <code>chwon</code> (no hay que hacer nada solo teor\u00eda)</li> <li>Anexo II. El comando <code>chmod</code> (no hay que hacer nada solo teor\u00eda)</li> <li>Anexo III. El comando <code>ls</code> (no hay que hacer nada solo teor\u00eda)</li> <li>Anexo IIII. El comando <code>nano</code>(no hay que hacer nada solo teor\u00eda)</li> <li>Anexo V. El comando <code>cat</code> (no hay que hacer nada solo teor\u00eda)</li> <li> <p>Anexo VI. Contrase\u00f1as de grupo y algunos comandos <code>newgrep</code> (no hay que hacer nada solo teor\u00eda)</p> </li> <li> <p>Primer Apartado Pr\u00e1ctico. Ejercicio de continuaci\u00f3n Pr\u00e1ctica 1.  (Entregar ejercicio)</p> </li> <li> <p>Segundo Apartado Pr\u00e1ctico. Contrase\u00f1as de grupo y algunos comando <code>newgrep</code> ** (Entregar ejercicio)**</p> </li> </ol> <p>-&gt;Pr\u00e1ctica siguiente (SUDOERS Y UMASK)</p>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#anexo-i-practica-1-el-comando-chown-quien-puede-usarlo","title":"ANEXO I. PR\u00c1CTICA 1: El comando <code>chown</code>. \u00bfQui\u00e9n puede usarlo?","text":"<p>Solo root (o un proceso con privilegios de superusuario) puede cambiar el propietario de un archivo.  El motivo es simple: si cualquiera pudiera cambiar la propiedad de archivos, podr\u00eda adue\u00f1arse de archivos ajenos y romper la seguridad del sistema.  Excepci\u00f3n parcial. El propietario s\u00ed puede cambiar el grupo de su archivo, si pertenece al grupo destino.</p> <p>Ejemplo:</p> <pre><code># Eren pertenece tambi\u00e9n al grupo 'paradis'\nchown :paradis /home/eren/notas.txt #cambiamos el grupo propietario de este ar\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#anexo-ii-practica-1-el-comando-chmod-quien-puede-usarlo","title":"ANEXO II. PR\u00c1CTICA 1: El comando <code>chmod</code>. \u00bfQui\u00e9n puede usarlo?","text":"<p>El propietario del archivo puede cambiar sus propios permisos. El root puede cambiar los permisos de cualquier archivo. Los dem\u00e1s usuarios no pueden modificar los permisos de archivos ajenos.</p>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#anexo-iii-practica-1-el-comando-ls-y-sus-opciones-busqueda-de-patrones","title":"ANEXO III. PR\u00c1CTICA 1: El comando ls y sus opciones. B\u00fasqueda de patrones","text":"<p>En primer lugar vemos las opciones que tiene el comando ls viendo ejemplos:</p> Opci\u00f3n Descripci\u00f3n Ejemplo <code>-l</code> Muestra lista detallada (tipo, permisos, due\u00f1o, grupo, tama\u00f1o, fecha). <code>ls -l /etc</code> <code>-a</code> Incluye archivos ocultos (<code>.bashrc</code>, <code>.git</code>, etc.). <code>ls -a</code> <code>-d</code> Muestra info del directorio en s\u00ed, no su contenido. <code>ls -ld /home</code> <code>-t</code> Ordena por fecha de modificaci\u00f3n (m\u00e1s reciente primero). <code>ls -lt</code> <code>-r</code> Invierte el orden (por nombre, fecha, etc.). <code>ls -lr</code> <code>-S</code> Ordena por tama\u00f1o. <code>ls -lS</code> <code>-R</code> Muestra contenido recursivo (subcarpetas incluidas). <code>ls -R</code>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#ls-l-etc","title":"ls -l /etc","text":"<p>Lista con informaci\u00f3n detallada de cada archivo dentro de /etc:</p> <pre><code>-rw-r--r-- 1 root root  297 oct 27 10:12 hosts\ndrwxr-xr-x 2 root root 4096 oct 28 09:50 network\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#ls-a","title":"ls -a","text":"<p>Incluye los archivos ocultos (los que empiezan por <code>.</code>) dentro del directorio actual:</p> <pre><code>.  ..  .bashrc  .profile  Documentos  Im\u00e1genes\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#ls-ld-home","title":"ls -ld /home","text":"<p>Muestra solo la informaci\u00f3n del directorio <code>/home</code>, no su contenido:</p> <pre><code>drwxr-xr-x 4 root root 4096 oct 28 10:15 /home\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#ls-lt-varlog","title":"ls -lt /var/log","text":"<p>Ordena los archivos por fecha (m\u00e1s recientes primero) dentro de /var/log:</p> <pre><code>-rw-r--r-- 1 root root  25K oct 28 10:10 syslog\n-rw-r--r-- 1 root root  18K oct 27 23:40 auth.log\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#ls-lr-etc","title":"ls -lr /etc","text":"<p>Muestra el listado en orden inverso (por nombre) dentro de /etc:</p> <pre><code>zsh_command_not_found\nxdg\nxattr.conf\n...\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#ls-ls-varlog","title":"ls -lS /var/log","text":"<p>Ordena por tama\u00f1o (los archivos grandes primero) dentro de /var/log:</p> <pre><code>-rw-r--r-- 1 root root 10M oct 28 10:10 kern.log\n-rw-r--r-- 1 root root  25K oct 28 10:10 syslog\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#ls-r-home","title":"ls -R /home","text":"<p>Muestra todo el contenido recursivamente (subcarpetas incluidas):</p>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#busqueda-de-patrones-en-ls","title":"B\u00fasqueda de patrones en ls","text":"<p>Ahora vemos como buscar archivos con ciertos patrones en ls:Ejemplos de uso de ls con patrones</p>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#ls-a_1","title":"ls a*","text":"<p>Muestra todo lo que empieza por \u201ca\u201d en el directorio actual  Contenido: <code>archivo.txt</code>, <code>app.log</code>, <code>audio.mp3</code>, <code>nota.txt</code> Resultado:</p> <pre><code>archivo.txt  app.log  audio.mp3\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#ls-homemanolopruebaa","title":"ls /home/manolo/prueba/A*","text":"<p>Archivos que empiezan por may\u00fascula \u201cA\u201d en /home/manolo Contenido: <code>Archivo.txt</code>, <code>App</code>, <code>Agenda.pdf</code>, <code>auto.mp3</code> Resultado:</p> <pre><code>Archivo.txt  App  Agenda.pdf\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#ls-lt-homemanolopruebaa","title":"ls -lt /home/manolo/prueba/a???","text":"<p>Nombres que empiezan por \u201ca\u201d y tienen exactamente 4 caracteres adem\u00e1s de mostrar informaci\u00f3n detallada y ordenar por modificacion Contenido: <code>auto</code>, <code>azul</code>, <code>a123</code>, <code>amor.txt</code>, <code>a</code> Resultado:</p> <pre><code>auto  azul  a123\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#ls-atxt","title":"ls a*.txt","text":"<p>Archivos que empiezan por \u201ca\u201d y terminan en <code>.txt</code> Contenido: <code>archivo.txt</code>, <code>apuntes.txt</code>, <code>a.txt</code>, <code>audio.mp3</code> Resultado:</p> <pre><code>archivo.txt  apuntes.txt  a.txt\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#ls-atxt_1","title":"ls a???.txt","text":"<p>Nombres que empiezan por \u201ca\u201d y tienen exactamente 4 caracteres y terminan en txt  Contenido: <code>auto</code>, <code>azul</code>, <code>a123</code>, <code>amor.txt</code>, <code>a</code> Resultado:</p> <pre><code>amor.txt\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#ls-log","title":"ls *log","text":"<p>Todo lo que termina en \u201clog\u201d Contenido: <code>system.log</code>, <code>auth.log</code>, <code>catalog</code>, <code>logs</code> Resultado:</p> <pre><code>system.log  auth.log\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#ls-abc","title":"ls [abc]*","text":"<p>Archivos que empiezan por a, b o c Contenido: <code>auto</code>, <code>barco</code>, <code>coche</code>, <code>dado</code>, <code>pez</code> Resultado:</p> <pre><code>auto  barco  coche\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#ls-d-abc","title":"ls -d [abc]*/","text":"<p>Mostrar solo los directorios que empiezan por una letra (a, b o c por ej.)</p> <p>Contenido: <code>auto</code>, <code>barco</code>, <code>coche/</code>, <code>dado</code>, <code>pez</code> Resultado:</p> <pre><code>coche/\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#ls-abdtxt","title":"ls [abd]????.txt`","text":"<p>Archivos que empiezan por a, b o c les siguen 3 letras y terminan en txt Contenido: <code>autos.txt</code>, <code>barcos.txt</code>, <code>dados</code>, <code>dados.txt</code>, <code>auto</code> Resultado:</p> <pre><code>autos.txt dados.txt\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#ls-0-9","title":"ls [0-9]*","text":"<p>Archivos o carpetas que empiezan por n\u00famero Ejemplo: Contenido: <code>1-notas.txt</code>, <code>2023</code>, <code>7zip.tar</code>, <code>archivo.txt</code> Resultado:</p> <pre><code>1-notas.txt  2023  7zip.tar\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#ls-0-9ab","title":"ls [0-9]??[ab]*","text":"<p>Archivos o carpetas que empiezan por un n\u00famero seguido de dos letras cualquiera y despu\u00e9s las letras a y b. Contenido: <code>1-notas.txt</code>, <code>2023</code>, <code>7zip.tar</code>, <code>2-tamizo.txt</code>, <code>123bazoca</code> Resultado:</p> <pre><code>123bazoca 2-tamizo.txt\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#ls-ab","title":"ls [!ab]*","text":"<p>Todo lo que NO empieza por \u201cab\u201d Contenido: <code>archivo.txt</code>, <code>barco</code>, <code>coche</code>, <code>.oculto</code>, <code>zorro</code> Resultado:</p>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#anexo-iv-practica-1-el-comando-nano","title":"ANEXO IV. PR\u00c1CTICA 1: El comando <code>nano</code>","text":"<p>Con nano puedes crear un archivo con cualquier nombre y extensi\u00f3n, incluso cosas como <code>.zip</code>, <code>.pdf</code> o <code>.jpg</code>. Nano no tiene problema en guardar lo que escribas con el nombre que t\u00fa le pongas.</p> <p>nano solo trabaja con texto plano, no con datos binarios. As\u00ed que aunque t\u00fa guardes un archivo llamado <code>archivo.zip</code>, lo \u00fanico que est\u00e1s haciendo es guardar texto normal con extensi\u00f3n <code>.zip</code>, no un archivo comprimido real. Entonces, \u00bftiene sentido usar nano para algo que no acaba en <code>.txt</code>? Tiene sentido cuando:</p> <ul> <li>Editas archivos de configuraci\u00f3n o scripts (<code>.sh</code>, <code>.conf</code>, <code>.json</code>, <code>.yml</code>, <code>.css</code>, etc.).</li> <li>Editas archivos sin extensi\u00f3n o que comienzan con punto (<code>README</code>, <code>.bashrc</code>, <code>.gitignore</code>).</li> </ul> <p>En resumen, archivos de texto plano cuya extensi\u00f3n no es necesariamente txt</p> <p>Crea un achivo con nano</p> <pre><code>nano mi_archivo.txt\n</code></pre> <p>Si el archivo no existe, <code>nano</code> lo crear\u00e1 autom\u00e1ticamente.  Tambi\u00e9n puedes poner una ruta absoluta</p> <pre><code>nano /home/manolo/mi_archivo.txt\n</code></pre> <p>Escribe algo sobre el editor, por ejemplo:</p> <pre><code>Hola mundo desde nano.\n</code></pre> <p>Guarda con <code>Ctrl + O</code>, pulsa Enter, y sal con <code>Ctrl + X</code>.</p> <p>Editar un archivo existente</p> <pre><code>nano /etc/hosts\n</code></pre> <p>Abre el archivo directamente en el editor para modificarlo.  nCuando termines, guarda (<code>Ctrl + O</code>) y sal (<code>Ctrl + X</code>).</p> <p>Buscar texto</p> <p>Mientras est\u00e1s en <code>nano</code>, pulsa:</p> <pre><code>Ctrl + W\n</code></pre> <p>Escribe la palabra o frase que deseas buscar y presiona Enter.</p> <p>Reemplazar texto</p> <p>Mientras est\u00e1s en <code>nano</code>, pulsa:</p> <pre><code>Ctrl + Altgr + \\\n</code></pre> <p>Escribe el texto a buscar :Enter, luego el nuevo texto :Enter.</p> <p>Si quiero reemplazar todo, pulso la T a la hora de efectuar el cambio.</p> <p>Cortar y pegar texto</p> <ol> <li>Sit\u00faa el cursor en una l\u00ednea y pulsa <code>Ctrl + K</code> \u2192 se corta la l\u00ednea.  </li> <li>Mueve el cursor donde quieras pegar y pulsa <code>Ctrl + U</code>.</li> </ol> <p>Salir de nano</p> <p>Mientras est\u00e1s en <code>nano</code>, pulsa:</p> <pre><code>Ctrl + X\n</code></pre> <p>Si has hecho cambios, nano preguntar\u00e1:</p> <pre><code>Guardar el archivo modificado (Y/N)?\n</code></pre> <ul> <li>Pulsa <code>S</code> para guardar.</li> <li>Pulsa <code>N</code> para salir sin guardar.</li> <li>Pulsa <code>Ctrl + C</code> para cancelar.</li> </ul>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#anexo-v-practica-1-el-comando-cat","title":"ANEXO V. PR\u00c1CTICA 1: El comando <code>cat</code>","text":""},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#ver-el-contenido-de-un-archivo","title":"Ver el contenido de un archivo","text":"<pre><code>cat prueba123.txt\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#crear-un-archivo-nuevo-con-cat-borrando-lo-que-ya-hubiese","title":"Crear un archivo nuevo con cat borrando lo que ya hubiese","text":"<pre><code>cat &gt; prueba123.txt\n</code></pre> <p>Escribe el contenido pulsa enter y finaliza con:</p> <pre><code>Ctrl + D\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#anadir-contenido-al-final-de-un-archivo-existente","title":"A\u00f1adir contenido al final de un archivo existente","text":"<pre><code>cat &gt;&gt; prueba123.txt\n</code></pre> <p>Escribe texto y pulsa <code>Ctrl + D</code> para guardar.</p> <p><code>&gt;&gt;</code> tambi\u00e9n se puede usar con otros comandos, por ejemplo:</p> <pre><code>echo \"Hola mundo\" &gt;&gt; prueba123.txt #Esto a\u00f1ade un salto de linea por defecto\necho -n \"Hola\" &gt;&gt; prueba123.txt   # No a\u00f1ade salto\n</code></pre> <pre><code>ls -l &gt;&gt; prueba123.txt\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#crea-o-sobrescribe-el-archivo-si-ya-existe-borra-lo-que-tenia","title":"Crea o sobrescribe el archivo. Si ya existe, borra lo que ten\u00eda.","text":"<pre><code>echo \"hola\" &gt; prueba123.txt #borra todo lo que tenia\necho \"Mundo\" &gt;&gt; prueba123.txt\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#unir-varios-archivos","title":"Unir varios archivos","text":"<pre><code>cat prueba212.txt dados &gt; prueba123.txt\n</code></pre> <pre><code>cat prueba212.txt dados &gt;&gt; prueba123.txt\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#mostrar-lineas-numeradas","title":"Mostrar l\u00edneas numeradas","text":"<pre><code>cat -n archivo.txt\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#anexo-vi-contrasenas-de-grupo-y-algunos-comandos-newgrep","title":"ANEXO VI. Contrase\u00f1as de grupo y algunos comandos \"<code>newgrep</code>\"","text":""},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#newgrep","title":"<code>newgrep</code>","text":"<p>El comando <code>newgrp</code> en sistemas Unix/Linux se usa para cambiar el grupo primario de tu sesi\u00f3n actual de shell sin tener que cerrar y volver a iniciar sesi\u00f3n, es decir, el comando <code>newgrp</code> solo cambia el grupo primario de manera temporal, es decir, solo durante la sesi\u00f3n actual del shell. Cuando un usuario pertenece a varios grupos, <code>newgrp</code> permite \u201centrar\u201d a uno de esos grupos secundarios para que cuando el usuario cree por ejemplo un archivo o directorio, el grupo propietario del archivo o del directorio creado sea el grupo al cual cambi\u00f3 mediante <code>newgrp</code>. Pongamos que el usuario <code>zeke</code> pertenece a los grupos <code>marley</code> (primario) y <code>paradis</code>(grupos extra). Si el usuario <code>zeke</code> ejecutase:</p> <pre><code>newgrp paradis\n</code></pre> <p>Ahora, su grupo efectivo pasa a ser <code>proyecto</code> y tendr\u00eda efecto sobre los archivos o directorios creados durante la sesi\u00f3n.</p>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#etcgshadow-y-gpasswd","title":"<code>/etc/gshadow</code> y <code>gpasswd</code>","text":"<p>Ya vimos en la pr\u00e1ctica anterior que <code>/etc/group</code> lista los grupos, pero si un grupo tiene contrase\u00f1a la entrada de <code>/etc/group</code> lleva una <code>x</code> en el campo de contrase\u00f1a y la contrase\u00f1a cifrada se guarda en <code>/etc/gshadow</code> (solo legible por root).</p> <p>Estructura <code>/etc/gshadow</code>:</p> <pre><code>&lt;groupname&gt;:&lt;passwd&gt;:&lt;administrators&gt;:&lt;members&gt;\n</code></pre> <p>-<code>passwd</code> es el hash de la contrase\u00f1a de grupo o <code>!</code>/<code>*</code> si no tiene.</p> <pre><code>sudo gpasswd paradis\n</code></pre> <p>comando para a\u00f1adir contrase\u00f1a a grupo</p> <p>-<code>administrators</code> son los administradores del grupo (pueden cambiar la contrase\u00f1a de grupo). Se a\u00f1aden de la siguiente forma:</p> <pre><code>sudo groupadd paradis\nsudo usermod -aG paradis eren\nsudo usermod -s /bin/bash eren #recuerda darle a eren bash, ya que ten\u00eda bin/false en otras pr\u00e1cticas\nsudo usermod -aG paradis armin\nsudo groups eren\nsudo groups armin\nsudo gpasswd -A eren,armin paradis #el comando para a\u00f1adirlos como administradores de paradis\n</code></pre> <p>y puedes verlo as\u00ed que ya son administradores <pre><code>sudo getent gshadow paradis #cambia a tu usuario con sudo para esto\n</code></pre></p> <p>De hecho, como son admins, puedes cambiar a eren (por ejemplo) y despu\u00e9s, sin usar sudo, cambiar la contrase\u00f1a o incluso a\u00f1adir gente al grupo</p> <pre><code>su eren\ngpasswd paradis #cambia la contrase\u00f1a sin sudo\ngpasswd -a hange paradis #a\u00f1ade a hange a paradis\n</code></pre> <p>-<code>members</code> lista de usuarios secundarios (que no son admins)</p> <p>Normalmente solo puedes usar <code>newgrp &lt;grupo&gt;</code> si ya eres miembro de ese grupo sin ning\u00fan tipo de requisito adicional. Pero si el grupo tiene una contrase\u00f1a establecida en <code>/etc/gshadow</code>, entonces cualquier usuario del sistema puede \"entrar\" temporalmente en el grupo s\u00f3lo con saber la contrase\u00f1a, es decir, podemos hacernos la siguiente pregunta:</p> <p>\u00bfCu\u00e1ndo se usan las contrase\u00f1as de grupo?</p> <p>A modo resumen: normalmente, solo puedes usar <code>newgrp &lt;grupo&gt;</code> si ya eres miembro de ese grupo. Pero si el grupo tiene una contrase\u00f1a establecida en <code>/etc/gshadow</code>, entonces cualquier usuario del sistema puede \"entrar\" temporalmente en el grupo con:</p> <pre><code>newgrp &lt;nombre_del_grupo&gt;\n</code></pre>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#7-ejercicios-de-continuacion-practica-1","title":"7. Ejercicios de continuaci\u00f3n Pr\u00e1ctica 1","text":"<p>La Pr\u00e1ctica 1 ya realizada cubre la creaci\u00f3n y gesti\u00f3n b\u00e1sica de usuarios y grupos, edici\u00f3n de caducidad de contrase\u00f1as (<code>/etc/shadow</code>, <code>chage</code>), creaci\u00f3n de directorios y gesti\u00f3n con <code>chown</code>/<code>chmod</code>. Esta pr\u00e1ctica profundiza en temas que suelen generar confusi\u00f3n: contrase\u00f1as de grupo, <code>sudoers</code>, <code>umask</code>, herencia de permisos, editores y bits especiales. Esta pr\u00e1ctica es larga y complementar\u00e1 a la pr\u00e1ctica anterior. Para entender esta parte de la pr\u00e1ctica tenemos que entender c\u00f3mo se crean los permisos por defecto de un directorio o carpeta. En la pr\u00e1ctica anterior vimos el comando <code>mkdir</code> para crear carpetas y vimos <code>chown</code> para cambiar el usuario owner y grupo owner de esta carpeta. Ahora bien, cuando un usuario normal (como <code>zeke</code> ) hace:</p> <pre><code>mkdir -p /home/zeke/paradysmola\n</code></pre> <p>\u00bfCon qu\u00e9 usuario y grupo propietarios se crea esa carpeta por defecto?</p> <p>-Usuario propietario (owner): <code>zeke</code></p> <p>-Grupo propietario (group): el grupo primario de <code>zeke</code> (normalmente tambi\u00e9n llamado <code>zeke</code>, a menos que el administrador lo haya cambiado). Si antes de crear la carpeta se hubiera cambiado el grupo principal de <code>zeke</code> a <code>paradys</code> de la siguiente forma:</p> <pre><code>usermod -g paradys zeke #ojo el grupo paradys debe haber sido creado\n</code></pre> <p>Entonces el propietario ser\u00eda zeke y el grupo propietario ser\u00eda paradyss. Si la anterior sentencia se hubiera ejecutado con sudo:</p> <pre><code>sudo\u00a0usermod -g paradys zeke #ojo el grupo paradys debe haber sido creado\n</code></pre> <p>Tanto grupo propietario como usuario propietario ser\u00eda root. En la pr\u00e1ctica anterior vimos que:</p> Permiso Letra Valor num\u00e9rico Significado Lectura <code>r</code> 4 Permite ver el contenido (o listar archivos en un directorio <code>ls</code>). Ejecuci\u00f3n <code>x</code> 1 Permite acceder al interior (si es directorio). Escritura <code>w</code> 2 Permite modificar o borrar informaci\u00f3n del archivo o Permite crear, borrar o renombrar archivos dentro del directorio. Necesito previamente permisos de ejecuci\u00f3n en el directorio <code>x</code> <p>Un punto importante que no vimos en la pr\u00e1ctica anterior es los permisos para archivos (como archivos txt)  Lo dif\u00edcil es que para poder leer, editar o ejecutar un archivo en Linux, no basta con tener permisos sobre el archivo: tambi\u00e9n necesitas tener permisos adecuados sobre el directorio que lo contiene. Esto se refleja de la siguiente forma:</p> Acci\u00f3n que quieres hacer Permisos m\u00ednimos en el archivo Permisos m\u00ednimos en el directorio que lo contiene Explicaci\u00f3n Leer un archivo <code>r</code> (lectura) <code>x</code> (ejecuci\u00f3n) <code>x</code> te deja \u201centrar\u201d al directorio para acceder al archivo. Editar un archivo <code>w</code> (escritura) <code>x</code> (ejecuci\u00f3n) <code>x</code> te deja \u201centrar\u201d al directorio para acceder al archivo y <code>w</code> te deja editarlo Ejecutar un archivo <code>x</code> (ejecuci\u00f3n) <code>x</code> (ejecuci\u00f3n) Necesitas poder entrar al directorio y ejecutar el archivo. Crear un archivo (no aplica) <code>w</code> + <code>x</code> <code>w</code> permite crear, <code>x</code> permite entrar al directorio. Borrar o renombrar un archivo (no aplica) <code>w</code> + <code>x</code> Lo controla el directorio, no el archivo. Hacer ls sbre un directorio (no aplica) <code>r</code> Solo permisos de lectura sobre dicho directorio"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#practica","title":"Pr\u00e1ctica","text":"<p>Usuarios a crear:</p> <ul> <li><code>eren</code></li> <li><code>mikasa</code></li> <li><code>armin</code></li> <li><code>zeke</code></li> </ul> <p>Grupos principales de los usuarios:</p> <ul> <li><code>eren</code>: <code>eren</code></li> <li><code>mikasa</code>: <code>mikasa</code></li> <li><code>armin</code>: <code>armin</code></li> <li><code>zeke</code>: <code>marley</code></li> </ul> <p>Grupos secundarios de los usuarios:</p> <ul> <li><code>eren</code>, <code>mikasa</code>, <code>armin</code> : grupo secundario <code>paradis</code></li> <li><code>eren</code>: tambi\u00e9n grupo sencundario <code>marley</code></li> </ul> <p>Paso 1: Crear usuarios y grupos</p> <ol> <li>Como root, crea los grupos principales (<code>eren</code>, <code>mikasa</code>, <code>armin</code>, <code>marley</code>, <code>paradis</code>).</li> <li>Luego crea los usuarios con sus respectivos grupos principales y asignaciones secundarias. Puedes crear el usuario y cambiar el grupo principal despu\u00e9s (usermod -g)</li> </ol> <p>Paso 2: Crear la carpeta <code>/aot</code></p> <p>El objetivo es crear un directorio llamado <code>/aot</code> en la ra\u00edz del sistema.</p> <ol> <li>Antes de crearla, preg\u00fantate: \u00bfQui\u00e9n puede crear una carpeta en el directorio ra\u00edz <code>/</code>?</li> <li>Compru\u00e9balo con el comando adecuado de (<code>ls</code>mirar arriba) para ver sus permisos y propietario.</li> <li>A partir de lo que observes, determina qu\u00e9 comando debes usar para crear la carpeta <code>/aot</code> (pista: probablemente necesites usar <code>sudo</code>).</li> </ol> <p>Paso 3: Cambiar propietario, permisos y comprobar accesos</p> <ol> <li> <p>Con sudo, cambia el propietario y grupo de <code>/aot</code> a <code>zeke:marley</code>.</p> </li> <li> <p>Cambia los permisos a user=todos, group=todos, resto=ejecuci\u00f3n y write. Hazlo con la forma octal de los permisos.</p> </li> <li> <p>Comprueba los resultados con con ls directamente sobre el directorio aot:</p> </li> <li> <p>Luego cambia al usuario <code>mikasa</code> con:</p> </li> </ol> <pre><code>   su - mikasa\n</code></pre> <p>y realiza estas cuestiones, haciendo capturas de lo que obtienes y justificando dichas capturas:</p> <ul> <li> <p>Intenta entrar a <code>/aot</code></p> </li> <li> <p>Intenta listar el contenido de <code>/aot</code></p> </li> <li> <p>Intenta crear una carpeta dentro de <code>/aot</code></p> </li> <li> <p>Con <code>cat</code>y <code>&gt;</code>, crear un archivo llamado <code>\"la_prueba.txt\"</code> dentro de <code>aot</code>que dentro tenga <code>\"esto es una prueba\"</code></p> </li> <li> <p>con <code>chown</code> y sin usar sudo, cambia el grupo propietario de <code>\"la_prueba.txt\"</code> a <code>paradis.</code></p> </li> <li> <p>Con <code>mikasa</code>, intenta borrar la carpeta <code>/aot</code> y observa el mensaje de error \u00bfPor qu\u00e9 no puedes borrarla?</p> </li> <li> <p>Cambia a <code>armin</code> . Usa <code>&gt;&gt;</code> y <code>echo</code> para a\u00f1adir <code>\"buen trabajo mikasa!\"</code> al final de <code>\"la_prueba.txt\"</code>. Justifica mirando los permisos de <code>la_prueba.txt</code> y del directorio padre <code>aot</code> porque puede o no puede hacer esto.</p> <p>para editar un archivo, necesito dos cosas:</p> <ul> <li>write sobre el archivo \"la_prueba.txt\"-&gt;Lo tengo</li> <li>execute sobre la carpeta del archivo \"aot\"-&gt; Lo tengo</li> </ul> </li> <li> <p>Con <code>armin</code> crea dentro de la carpeta <code>aot</code> el archivo <code>\"titantes.txt\"</code> con el texto <code>\"menudos titanes\"</code>. Con <code>sudo</code> y <code>chmod</code> cambia los permisos de este archivo para que otros no puedan nada m\u00e1s que puedan leerlo</p> </li> </ul> <p>Paso 4: Cambiar a eren</p> <ol> <li>Con su cambia al usuario eren</li> <li>Crea la carpeta <code>archivos_of_eren</code> y justifica correctamente por qu\u00e9 eren puede crear esta carpeta dentro de <code>/aot</code></li> <li>\u00bfCu\u00e1l es el usuario principal y grupo principal de esta carpeta creada por defecto? \u00bfy los permisos por defecto?</li> <li>Dale a esta carpeta los permisos <code>772</code> sin utilizar la forma octal de los permisos (mira la pr\u00e1ctica anterior)</li> <li>Crea la carpeta <code>archivos_of_eren_v2</code> dentro de <code>aot</code>y dale el grupo <code>paradis</code>.</li> <li>Dale a esta carpeta los permisos <code>772</code></li> <li>Con eren, en la carpeta <code>aot</code> realiza un comando para listar todos aquellos archivos terminados en <code>.txt</code></li> <li>Con eren, en la carpeta <code>aot</code> realiza un comando para listar exclusivamente ficheros que en realidad, sean directorios.</li> </ol> <p>Paso 5: La love letter de Mikasa </p> <ol> <li> <p>Cambia con <code>su</code>a Mikasa. </p> </li> <li> <p>Mikasa quiere escribir una carta de amor a <code>eren</code> en esta carpeta. Para ello, intentar\u00e1 crear un archivo en esta carpeta (<code>archivos_of_eren</code>) denominado:<code>love_letter_for_micasa. txt</code>: \u00bfpodr\u00e1? justifica tu respuesta. En caso de no poder, cambia los permisos octales de 772 a lo que corresponda (y sin usar la forma octal de los permisos), es decir, no cambies ni el propietario principal ni grupo principal.</p> </li> <li> <p>Una vez conseguido lo anterior, escribe dentro del archivo: <code>siempre estar\u00e9 enamorada de eren</code>.</p> </li> <li> <p>En caso de que no pueda hacer esto mikasa, ejecuta con sudo para crear la carta de amor. </p> </li> <li> <p>Crea este archivo con  <code>nano</code> y cambia los permisos con <code>sudo chown</code> y <code>sudo chmod</code> para que: el propietario sea <code>eren</code> el grupo principal sea <code>mikasa</code> y los permisos sean <code>770</code>.</p> </li> <li> <p>Con lo anterior, parece que <code>mikasa</code> podr\u00eda leer su propio archivo. \u00bfEs as\u00ed? Justifica t\u00fa respuesta.</p> </li> </ol> <p>Paso 6: La lista de la compra</p> <ol> <li>root crea otro archivo, llamado \"lista_de_equipamiento.txt\". Este archivo estr\u00e1 en <code>/aot/archivos_of_eren</code> con usuario principal: <code>root</code> y grupo pincipal: <code>root</code>. Este archivo tendr\u00e1 los siguientes permisos 777. En el escribir\u00e1 <code>m\u00e1s gaaaaaaaas</code></li> <li>root crea otro archivo, llamado \"lista_de_equipamiento.txt\". Este archivo estar\u00e1 en <code>/aot/archivos_of_eren_v2</code> con usuario principal: <code>root</code> y grupo pincipal: <code>root</code>. Este archivo tendr\u00e1 los siguientes permisos 777.  En el escribir\u00e1 <code>m\u00e1s gaaaaaaaas</code></li> </ol> <p>Paso 7: Armin el cotilla de las letras de amor y las listas de equipamiento </p> <ol> <li>Cambia con <code>su</code> a Armin. </li> <li>Intenta leer el archivo con el comando <code>cat</code> :<code>\"lista_de_equipamiento.txt\"</code> de la ruta; <code>/aot/archivos_of_eren</code>  y el <code>\"lista_de_equipamiento.txt\"</code> de <code>/aot/archivos_of_eren_v2\"</code>.    Ahora, con nano, intenta cambiar el contenido de ambos archivos de igual forma.</li> <li>\u00bfPuede armin acceder a leer la carta de amor mi mikasa? Compru\u00e9balo.</li> </ol>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#8-contrasenas-de-grupo-y-algunos-comando-newgrep","title":"8. Contrase\u00f1as de grupo y algunos comando <code>newgrep</code>","text":"<p>Vamos a poner en pr\u00e1ctica lo visto en el Anexo VI</p>"},{"location":"TEMA3/Practicas/2%C2%AA%20Practica%20Permisos%20AOT/#practica_1","title":"Pr\u00e1ctica.","text":"<p>1.Con el comando correspondiente de ls, mira quien tiene permisos para leer sobre <code>/etc/gshadow</code> (mira directamente sobre este archivo), \u00bfqui\u00e9n tendr\u00eda permisos para editar el archivo?</p> <p>2.A\u00f1ade el grupo y crea contrase\u00f1a de grupo (ejemplo <code>escuadrilla_A</code>) con <code>gpasswd</code>:</p> <pre><code>sudo gpasswd escuadrilla_A   # te pedir\u00e1 establecer la contrase\u00f1a del grupo\n</code></pre> <p>3.Prueba <code>newgrp</code> con  el usuario eren. Una vez logueado correctamente, visualiza el grupo principal de eren.</p> <pre><code># desde el usuario eren (no miembro a\u00fan):\nnewgrp escuadrilla_A\n# te pedir\u00e1 la contrase\u00f1a del grupo si existe\n</code></pre> <p>4.Despu\u00e9s, crea una nueva carpeta en <code>home/eren</code> llamada <code>familia</code> y visualiza con ls el propietario y grupo por defecto de la carpeta. Utilizando la forma octal, dale a la carpeta los permisos: rwx-----x</p> <p>5.Con sudo, a\u00f1ade a <code>reiner</code> al grupo escuadrilla_A y m\u00e9telo como administrador del grupo. Cambia con <code>su</code> a reiner y sin usar <code>sudo</code> cambia la contrase\u00f1a de <code>escuadrilla_A</code>. Haz que reiner a\u00f1ada al grupo a hange sin usar <code>sudo</code>.</p> <p>6.Vuelve a cambiar a eren y visualiza su grupo principal. Si es necesario, vuelve a hacer <code>newgrep</code> para que <code>escuadrilla_A</code> vuelva a ser su grupo pirncipal. Haz que eren cree un archivo de texto en esta nueva carpeta llamado <code>el_sotano_de_papa.txt</code>. Y visualiza con ls el propietario y grupo por defecto de la carpeta.  Utilizando la forma octal, dale a la carpeta los permisos: rwx---r-x \u00bfPodr\u00e1 cualquier otro usuario leer este archivo? Compru\u00e9balo con un usuario del grupo propietario del archivo y con un usuario que no sea ni owner ni pertenezca al grupo del archivo</p> <p>7.Elimina la contrase\u00f1a del grupo (como root):</p> <pre><code>sudo gpasswd -r escuadrilla\n</code></pre>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SOL%20SUDOERS/","title":"3\u00aa Practica Guiada soluciones apartado 3","text":"<p>Aqu\u00ed os dejo las soluciones de algunos apartados, que os pueden venir genial para el examen</p>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SOL%20SUDOERS/#ejercicio-32","title":"Ejercicio 3.2","text":"<p>A\u00f1ade a un usuario de tu sistema al grupo sudo y comprueba que podr\u00e1 usar los siguiente comandos con permisos de root o permisos de otros usuarios (devuelve la salida de los mismo):</p> <pre><code>sudo whoami\n</code></pre> <pre><code>sudo -u manolo whoami\n</code></pre> <pre><code>sudo passwd root\n</code></pre> <pre><code>sudo mkdir /ejemplo_practica_3\n</code></pre> <p>Soluci\u00f3n:</p> <p>En /etc/sudoers hay una regla que dice que cualquier usuario que est\u00e9 en el grupo sudo, puede ejecutar cualquier comando con los privilegios de cualquier usuario y cualquier grupo, esto se ve aqu\u00ed:</p> <p></p> <p>Por tanto, si manolo est\u00e1 en el grupo sudo, podr\u00e1 ejecutar el comando sudo con los privilegios que le de la gana. Vamos a meterlo a sudo:</p> <pre><code>manolo@manolo:/srv/ejemplo_levi$ su root\nContrase\u00f1a: \nroot@manolo:/srv/ejemplo_levi# groupadd sudo\nroot@manolo:/srv/ejemplo_levi# usermod -aG sudo manolo\n</code></pre> <p>Ejecuciones:</p> <pre><code>manolo@manolo:/srv/ejemplo_levi$ sudo whoami #ejecuto whoami con privilegios de root, la salida es root.\n</code></pre> <pre><code>manolo@manolo:/srv/ejemplo_levi$ sudo -u root whoami #esto es lo mismo que lo anterior\nroot\n</code></pre> <pre><code>manolo@manolo:/srv/ejemplo_levi$ sudo -u manolo whoami\nmanolo #ejecuto con privilegios de manolo (yo mismo)\n</code></pre> <pre><code>manolo@manolo:/srv/ejemplo_levi$ sudo passwd root #ejecuto con privilegios de root\nNueva contrase\u00f1a: \nCONTRASE\u00d1A INCORRECTA: La contrase\u00f1a tiene menos de 8 caracteres\nVuelva a escribir la nueva contrase\u00f1a: \npasswd: contrase\u00f1a actualizada correctamente\n</code></pre> <pre><code>manolo@manolo:/srv/ejemplo_levi$ sudo mkdir /ejemplo_practica_3\nmanolo@manolo:/srv/ejemplo_levi$ ls -ld /ejemplo_practica_3\ndrwxr-xr-x 2 root root 4096 nov 28 21:00 /ejemplo_practica_3 #como ejecuto con privlegios de root (al poner sudo) el propietario que la ha \n</code></pre>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SOL%20SUDOERS/#ejercicio-33","title":"Ejercicio 3.3","text":"<p>1-Abrir con <code>visudo</code> (seguro) y edita al usuario armin. En una linea haz que armin pueda ejecutar el comando mkdir, chown y chmod con permisos de root, pero solo esos. Haz en otro linea que armin pueda ejecutar ls con permisos de eren, pero solo ese usuario.</p> <p>Solucion</p> <pre><code>sudo visudo -f /etc/sudoers.d/eren\narmin ALL=(root:root) /usr/bin/mkdir, /usr/bin/chown, /usr/bin/chmod\narmin ALL=(eren:armin) /usr/bin/ls\n</code></pre> <p>2-Muevete al usuario eren (metelo en el grupo sudo) y en la raiz \"/\" crea una carpeta llamada \"solo_eren\" con permisos 771 y cambiale el propietario a eren. Despu\u00e9s crea un fichero en esa carpeta llamado \"ejemplo.txt\" y a\u00f1ade lo que quieras dentro. Comprueba que eren puede hacer un ls sobre /solo_eren y que <code>armin</code> no puede. Despu\u00e9s, con armin ejecuta: </p> <pre><code>sudo -u eren ls /solo_eren\n</code></pre> <p>\u00bfqu\u00e9 linea de la que a\u00f1adiste en el punto 1 te ha permitido hacer esto y por qu\u00e9?</p> <p>Despu\u00e9s comprueba que armin no puede crear nada sobre <code>solo_eren</code> pero ejecutando:</p> <pre><code>sudo mkdir /solo_eren/armin_tambien_puede\n</code></pre> <p>comprueba que si puedes, \u00bfqu\u00e9 linea de la que a\u00f1adiste en el punto 1 te ha permitido hacer esto y por qu\u00e9?</p> <p>Por \u00faltimo, y utilizando sudo, armin decide apropiarse de la carpeta de eren y darle permisos para que s\u00f3lo el puede utilizarla. Explica como lo har\u00edas.</p> <p>Solucion</p> <pre><code>manolo@manolo:~$ nu eren\nmanolo@manolo:~$ su eren\nmanolo@manolo:~$ sudo usermod -aG sudo eren\nmanolo@manolo:~$ sudo passwd eren\nmanolo@manolo:~$ su eren\neren@manolo:/home/manolo$ \neren@manolo:/$ sudo mkdir solo_eren\neren@manolo:/$ sudo chown eren:eren solo_eren\neren@manolo:/$ sudo chmod 771 solo_eren\neren@manolo:/solo_eren$ cd solo_eren\neren@manolo:/solo_eren$ nano ejemplo.txt\neren@manolo:/solo_eren$ ls\nejemplo.txt\neren@manolo:/solo_eren$ sudo useradd -m -s /bin/bash armin\nuseradd: warning: the home directory /home/armin already exists.\nuseradd: Not copying any file from skel directory into it.\neren@manolo:/solo_eren$ sudo passwd armin\nNueva contrase\u00f1a: \nCONTRASE\u00d1A INCORRECTA: La contrase\u00f1a tiene menos de 8 caracteres\nVuelva a escribir la nueva contrase\u00f1a: \npasswd: contrase\u00f1a actualizada correctamente\neren@manolo:/solo_eren$ su armin\narmin@manolo:/solo_eren$ ls -ld .\ndrwxrwx--x 2 eren eren 4096 nov 28 21:34 .\narmin@manolo:/solo_eren$ sudo -u eren ls /solo_eren #la linea numero dos me ha dejado hacer un ls como eren\n[sudo] contrase\u00f1a para armin: \nejemplo.txt\n\narmin@manolo:/solo_eren$ sudo mkdir /solo_eren/armin_tambien_puede #la linea numero 1 me ha dejado hacer un sudo mkdir\narmin@manolo:/solo_eren$ sudo chown armin:armin . #me ha dejado por la primera linea\n</code></pre> <p>3.Abrir con <code>visudo</code> (seguro) y edita al usuario armin, en este caso, armin podr\u00e1 ejecutar todos los comandos con permisos del grupo exploradores (Si no tienes este grupo debes crearlo y solo meter a eren). En este caso, eren crear\u00e1 en /solo_eren la carpeta /exploradores y le dar\u00e1 el grupo propietario exploradores y le asignar\u00e1 permisos 771.  Sobre esta carpeta eren crear\u00e1 el txt llamado (asuntos_secretos.txt).</p> <p>Solucion</p> <pre><code>su root\nvisudo -f /etc/sudoers.d/armin\n#escribo lo siguiente:\narmin ALL=(ALL:exploradores) ALL\n#-----------------------------------\nroot@manolo:/solo_eren# groupadd exploradores\nroot@manolo:/solo_eren# sudo usermod -aG exploradores eren\nroot@manolo:/solo_eren# su eren\n#----------------------------------\neren@manolo:/solo_eren$ sudo chown eren:eren .\neren@manolo:/solo_eren$ newgrp exploradores\neren@manolo:/solo_eren$ id -ng #me sale exploradores\neren@manolo:/solo_eren$ mkdir exploradores\neren@manolo:/solo_eren$ mkdir exploradores\neren@manolo:/solo_eren$ ls\narmin_tambien_puede  ejemplo.txt  exploradores\neren@manolo:/solo_eren$ chmod 771 exploradores\neren@manolo:/solo_eren$ cd exploradores\neren@manolo:/solo_eren/exploradores$ nano asuntos_secretos.txt\n</code></pre> <p>4.Con armin, intenta borrar este .txt sin sudo \u00bfinfluyen los permisos del txt o los permisos de la carpeta que lo contiene? \u00bfPuedes? Si no puedes, ejecuta el comando apropiado con sudo para borrar este txt.</p> <p>Solucion</p> <pre><code>armin@manolo:/solo_eren/exploradores$ rm asuntos_secretos.txt\nrm: \u00bfborrar el fichero regular 'asuntos_secretos.txt'  protegido contra escritura? (s/n) s\nrm: no se puede borrar 'asuntos_secretos.txt': Permiso denegado\narmin@manolo:/solo_eren/exploradores$ ls -ld .\ndrwxrwx--x 2 eren exploradores 4096 nov 28 21:47 . #armin no eren ni esta en exploradores entonces armin no puede bajo ningun concepto crear ni borrar nada\n\narmin@manolo:/solo_eren/exploradores$ sudo -g exploradores rm asuntos_secretos.txt\n</code></pre> <p>5.Armin tiene una pelea con eren y trata sobre lo siguiente. Armin dice que si tuviese privilegios para ejecutar con el grupo sudo  cualquier comando (es decir, esta regla)</p> <pre><code>armin ALL=(armin:sudo) ALL\n</code></pre> <p>Podr\u00eda ejecutar cualquier comando as\u00ed:</p> <pre><code>armin@asir:~$ sudo -g sudo rm -r /solo_eren\n</code></pre> <p>Sin embargo eren le dice que si puede, pero que el comando lo est\u00e1 escribiendo mal y que todav\u00eda no entiende como usar sudo correctamente.</p> <p>\u00bfQu\u00e9 opinas? \u00bfQuien tiene raz\u00f3n?</p> <p>Solucion</p> <p>Que en parte, armin tiene raz\u00f3n, puede ejecutar cualquier comando con esa regla, pero no est\u00e1 haciendo bien la ejecuci\u00f3n. Si el quiere ejecutar con los privilegios del grupo sudo, el comando ser\u00eda el siguiente:</p> <pre><code>sudo -g sudo sudo rm -r /solo_eren\n</code></pre>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/","title":"Pr\u00e1ctica 3: Administraci\u00f3n de permisos .","text":"<p>Duraci\u00f3n aprox: 3 clases (semana 10/11/2025)</p> <p>Entregable: Un documento de google o pdf con los comandos necesarios para la resoluci\u00f3n de los ejercicios propuestos insertados.</p>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#indice","title":"\u00cdndice","text":"<ol> <li>Uso de <code>/etc/skel/</code> y <code>umask</code></li> </ol> <p>1.1 \u00bfQu\u00e9 archivos puedo poner en <code>/etc/skel/</code>? (Solo teor\u00eda)</p> <p>1.2 \u00bfPor qu\u00e9 no se crean Documentos, Escritorio, Descargas... en home? (Realizar ejercicio)</p> <p>1.3 .bashrc (Realizar ejercicio)</p> <p>1.4 .profile (Solo toer\u00eda)</p> <p>1.5 umask (Realizar ejercicio)</p> <p>2.Restringir el uso de ciertos comandos a usuarios a grupos y crear tus propios comandos</p> <p>\u200b   2.1. Ejemplo Hacer que no cualquiera pueda ejecutar <code>getent</code> (Realizar ejercicio)</p> <p>\u200b   2.2. Sobre comandos que NO son binarios: los builtins del shell (Solo teor\u00eda)</p> <p>\u200b   2.3.  Scripts y ejecuci\u00f3n de scrpts (Realizar ejercicio)</p> <p>\u200b   2.4.  A\u00f1adir scripts como comandos al path (Realizar ejercicio)</p> <p>3.Uso de los archivos <code>/etc/sudoers</code> y el directorio <code>/etc/sudoers.d/</code> para a\u00f1adir reglas sobre el uso de sudo.</p> <p>\u200b   3.1 Archivo <code>sudoers</code> (<code>/etc/sudoers</code>): (Solo toer\u00eda)</p> <p>\u200b   3.2 Permitir a un usuario ejecutare sudo con permisos de root (Realizar ejercicio)</p> <p>\u200b   3.3 Creaci\u00f3n de reglas propias (en sudoers.d) (Realizar ejercicio)</p>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#1uso-de-etcskel-y-umask","title":"1.Uso de <code>/etc/skel/</code> y <code>umask</code>","text":"<p><code>/etc/skel/</code> :  es una carpeta del sistema que funciona como plantilla para nuevos usuarios.  Cuando se crea un usuario con:</p> <pre><code>sudo useradd -m -s /bin/bash nombre_usuario\n</code></pre> <p>El sistema copia todo lo que haya dentro de <code>/etc/skel/</code> al nuevo directorio <code>/home/nombre_usuario/</code>. Por defecto suele contener:</p> <pre><code>  .bashrc\n  .profile\n  .bash_logout\n</code></pre> <p>Si t\u00fa a\u00f1ades archivos o carpetas en <code>/etc/skel/</code>, todos los nuevos usuarios los recibir\u00e1n autom\u00e1ticamente al ser creados.</p>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#11-que-archivos-puedo-poner-en-etcskel","title":"1.1 \u00bfQu\u00e9 archivos puedo poner en <code>/etc/skel/</code>?","text":"<p>lo m\u00e1s sencillo es a\u00f1adir una carpeta por defecto:</p> <pre><code>sudo mkdir -p /etc/skel/Scripts\n</code></pre> <p>Luego, al crear el usuario:</p> <pre><code>sudo useradd -m -s /bin/bash pepe\n</code></pre> <p>Su <code>/home/pepe/</code> tendr\u00e1 autom\u00e1ticamente:</p> <pre><code>/home/pepe/Scripts\n</code></pre>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#12-por-que-no-se-crean-documentos-escritorio-descargas-etc","title":"1.2 \u00bfPor qu\u00e9 no se crean Documentos, Escritorio, Descargas, etc.?","text":"<p>Si te fijas en lo anterior, al crear Pepe y hacer:</p> <pre><code>sudo ls /home/Pepe\n</code></pre> <p>Solo aparecen las siguientes carpetas:</p> <pre><code>`.bashrc`, `.profile`, `.bash_aliases`, Scripts\n</code></pre> <p>Pero por ning\u00fan lado aparecen las carpetas:</p> <pre><code>Escritorio Documentos Descargas Im\u00e1genes M\u00fasica V\u00eddeos Plantillas P\u00fablico\n</code></pre> <p>Esas carpetas NO provienen de <code>/etc/skel/</code>, sino del entorno gr\u00e1fico (GNOME, XFCE, KDE) y de la herramienta <code>xdg-user-dirs</code>.</p> <p>Estas carpetas solo se crean si:</p> <ul> <li>El usuario inicia sesi\u00f3n en el escritorio gr\u00e1fico, no solo en terminal.</li> <li>Est\u00e1 instalado <code>xdg-user-dirs</code>.  </li> <li>Es la primera vez que el usuario entra al entorno gr\u00e1fico.</li> </ul> <p>Por eso si haces:</p> <pre><code>su pepe\n</code></pre> <p>Y luego:</p> <pre><code>ls /home/pepe\n</code></pre> <p>Solo ver\u00e1s lo que hab\u00eda en <code>/etc/skel/</code> y no todas esas carpetas t\u00edpicas de lo usuarios. Pero si Pepe inicia sesi\u00f3n desde pantalla gr\u00e1fica, se crear\u00e1n autom\u00e1ticamente:</p> <pre><code>Escritorio\nDocumentos\nDescargas\nIm\u00e1genes\nM\u00fasica\nV\u00eddeos\nPlantillas\nP\u00fablico\n</code></pre> <p>Tambi\u00e9n se pueden crear esas carpetas de forma firecta sin iniciar sesi\u00f3n e un entorno gr\u00e1fico:</p> <p>1.Ejecutando el comando como el usuario (peque\u00f1o sopiler de lo que veremos en el punto 3, donde ejecutaremos comandos como usuarios):</p> <pre><code>sudo -u pepe xdg-user-dirs-update\n</code></pre> <p>En este caso, eso es equivalente a:</p> <pre><code>su pepe\nxdg-user-dirs-update\n</code></pre> <p>2.Cre\u00e1ndolas directamente en <code>/etc/skel/</code> para futuros usuarios:</p> <pre><code>sudo mkdir -p /etc/skel/{Escritorio,Documentos,Descargas,Im\u00e1genes,V\u00eddeos}\n</code></pre> <p>De esa forma, las carpetas se crear\u00e1n aunque no haya iniciado sesi\u00f3n en el entorno gr\u00e1fico el usuario.</p>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#ejercicio","title":"Ejercicio","text":"<p>Crea en /etc/skell la carpeta Archivos_secretos con mkdir y dentro de la carpeta Archivos secretos crea un txt (con nano) que contenga: \"Este archivo es de un usuario\".</p> <p>Despu\u00e9s crea un nuevo usuario y comprueba con ls que tanto la carpeta como el archivo dentro de la carpeta se han creado. \u00bfCon qu\u00e9 permisos se crean por defecto?</p>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#13-bashrc","title":"1.3. <code>.bashrc</code>","text":"<p>Archivo que se ejecuta autom\u00e1ticamente cada vez que abres una terminal interactiva en Bash con un usuario (o al cambiar de sesi\u00f3n en terminal con <code>su</code>). Aqu\u00ed se pueden definir alias, variables o funciones personalizadas. Como todav\u00eda no sabemos que es una funci\u00f3n, solo veremos las dos primeras cosas.</p> <p>Un alias es como crear un \u201catajo\u201d para un comando largo. Estos se pueden definir en .bashrc agregando una l\u00ednea. Por ejemplo, si hacemos:</p> <pre><code>nano /home/manolo/.bashrc\n</code></pre> <p>Podemos a\u00f1adir al final del archivo los siguientes \"alias\"</p> <pre><code># Mostrar todos los archivos, incluso ocultos (los que empiezan por .)\nalias la='ls -a'\n\n# Actualizar el sistema r\u00e1pido (en Debian/Ubuntu)\nalias actualizar='sudo apt update &amp;&amp; sudo apt upgrade -y'\n\n# Limpiar la terminal\nalias cls='clear'\n</code></pre> <p>y despu\u00e9s, recargar:</p> <pre><code>source ~/.bashrc\n</code></pre> <p>De esta forma, cuando el usuario <code>manolo</code> escriba en terminal</p> <pre><code>actualizar\n</code></pre> <p>ser\u00e1 equivalente a escribir</p> <pre><code>sudo apt update &amp;&amp; sudo apt upgrade -y\n</code></pre> <p>Por otro lado, sobre .bashrc podemos definir variables de entorno. Una variable de entorno es un valor (texto) que el sistema o el usuario guarda temporalmente y que puede ser usado por programas, scripts o la terminal. Puedes ver todas las variables ejecutando:</p> <pre><code>  printenv\n</code></pre> <p>algunas de las m\u00e1s importante son las siguientes (depender\u00e1n del usuario con quien las ejecutes)</p> Variable \u00bfQu\u00e9 contiene? Ejemplo <code>$USER</code> Nombre del usuario actual <code>manolo</code> <code>$HOME</code> Carpeta personal del usuario <code>/home/manolo</code> <code>$PATH</code> Rutas donde el sistema busca los comandos <code>/usr/local/bin:/usr/bin:/bin</code> <code>$SHELL</code> Qu\u00e9 int\u00e9rprete de comandos est\u00e1s usando <code>/bin/bash</code> <code>$PWD</code> Directorio en el que est\u00e1s ahora <code>/home/manolo/scripts</code> <code>$LANG</code> Idioma y codificaci\u00f3n del sistema <code>es_ES.UTF-8</code> <p>Para ver el valor de una variable de entorno de las anteriores basta hacer:</p> <pre><code>echo $HOME\n</code></pre> <p>Puedes definir variables de entorno espec\u00edficas para el usuario en .bashrc</p> <pre><code>export EDITOR=nano  \n# Nombre del usuario como mensaje\nexport MI_NOMBRE=\"Manolo\"\n</code></pre> <p>de esta forma,  al hacer (con el usuario manolo) en terminal:</p> <pre><code>echo $MI_NOMBRE\n</code></pre> <p>la salida ser\u00e1: <code>manolo</code></p> <p>De hecho, podemos incluso a\u00f1adir m\u00e1s informaci\u00f3n a variables del sistema ya predefinidas. Si a\u00f1adimos la siguiente linea en .bashrc</p> <pre><code># Ruta personalizada para guardar scripts propios\nexport PATH=\"$HOME/scripts:$PATH\"\n</code></pre> <p>estamos haciendo que <code>$PATH</code> pase de valer:</p> <pre><code>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n</code></pre> <p>a valer:</p> <pre><code>/home/tu_usuario/scripts:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n</code></pre>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#ejercicio_1","title":"Ejercicio","text":"<p>-En /etc/skell no vas a a\u00f1adir nada m\u00e1s (a diferencia del apartado anterior). Lo que vas a hacer es:</p> <p>-Con el editor <code>nano</code> vas a editar <code>.bashrc</code> en el perfil en <code>manolo</code>y vas a a\u00f1adir un alias llamado \"crear\" que ser\u00e1 crea un usuario con las opciones: <code>-m</code>, <code>-s /bin/bash</code>. para que hagan efecto, deber\u00e1s recargar este archivo:</p> <pre><code>  source ~/.bashrc\n</code></pre> <p>-Despu\u00e9s haz lo mismo y a\u00f1ade este alias en <code>.bashrc</code> pero en el de <code>/etc/skell</code>, \u00bfcu\u00e1l es la diferencia a hacerlo sobre manolo?</p> <p>-Con el editor <code>nano</code> vas a editar <code>.bashrc</code> en el perfil en <code>manolo</code>y vas a a\u00f1adir una variable llamada \"dia\" que se referir\u00e1 al d\u00eda. Para a\u00f1adirla, deber\u00e1s a\u00f1adir lo siguiente:</p> <pre><code>  export date=$(date '+%Y-%m-%d %H:%M:%S')\n</code></pre> <p>-Despu\u00e9s haz lo mismo y a\u00f1ade este alias en <code>.bashrc</code> pero en el de <code>/etc/skell</code>, \u00bfcu\u00e1l es la diferencia a hacerlo sobre manolo?</p> <p>-Por \u00faltimo, crea un usuario nuevo y comprueba que este usuario nuevo que has creado va a poder usar el <code>alias</code>: \"crear\" y puede utilizar la <code>variable de entorno</code> <code>$date</code> en su terminal.</p>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#14-profile","title":"1.4. <code>.profile</code>","text":"<p>Se ejecuta al entrar en el sistema. No se ejecuta cada vez que abres una terminal nueva como <code>.bashrc</code>. Se usa para configurar el entorno del usuario, especialmente variables de entorno globales.</p> <p>Lo que os tiene que quedar claro es que aqu\u00ed definiremos variable de entorno que siempre deben de existir, no s\u00f3lo cuando abramos la terminal. No tiene mucho sentido entrar en detalle en .profile pero lo dejo como concepto te\u00f3rico.</p>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#15-umask","title":"1.5. <code>.umask</code>","text":"<p><code>umask</code> significa User Mask o m\u00e1scara de permisos del usuario. Define qu\u00e9 permisos se desactivan por defecto cuando un usuario crea un archivo o un directorio. Se suele decir que, <code>umask</code> resta permisos de los valores por defecto del sistema bajo la siguiente f\u00f3rmula:</p> <pre><code>permisos finales = permisos base - umask\n</code></pre> <p>Pero esta f\u00f3rmula s\u00f3lo funcionar\u00e1 en casos concretos, ya que en el caso de los binario, los permisos base son: 666 mientras que en el caso de las carpetas los permisos base son 777. Vamos a ver como aplicar la f\u00f3rmula con un umask de 023.</p> <p>Carpetas:</p> <p>Permisos base (777)</p> <p>Cada d\u00edgito octal \u2192 3 bits binarios:</p> <ul> <li>7 \u2192 111</li> <li>7 \u2192 111</li> <li>7 \u2192 111</li> </ul> <p>Umask (023)</p> <ul> <li>0 \u2192 000</li> <li>2 \u2192 010</li> <li>3 \u2192 011</li> </ul> <p>Negamos la umask (~umask)</p> <p>umask: 111 101 100</p> <p>Finalizamos haciendo un AND digito a digito</p> <pre><code>permisos_base: 111 111 111 \n\numask:         111 101 100 \n\n--------------------------\n\nAND resultado: 111 101 100\n</code></pre> <p>Estamos haciendo una operaci\u00f3n AND d\u00edgito a d\u00edgito, recordar que:</p> <p><code>1 AND 1 = 0; 1 AND 0 = 0; 0 AND 1 = 0; 0 AND 0 = 0</code></p> <p>luego obtenemos = 111 101 100 que nos da el n\u00famero 754=777-023: en este caso funciona la f\u00f3rmula!</p> <p>Binarios</p> <p>Permisos base (666)</p> <p>Cada d\u00edgito octal \u2192 3 bits binarios:</p> <ul> <li>6 \u2192 110</li> <li>6 \u2192 110</li> <li>6 \u2192 110</li> </ul> <p>Umask (023)</p> <ul> <li>0 \u2192 000</li> <li>2 \u2192 010</li> <li>3 \u2192 011</li> </ul> <p>Negamos la umask (~umask)</p> <p>umask: 111 101 100</p> <p>Finalizamos haciendo un AND digito a digito</p> <pre><code>permisos_base: 110 110 110 \n\numask:         111 101 100\n\n---------------------------\n\nAND resultado: 111 100 100\n</code></pre> <p>cuyo resultado es 644, que no es 666-023=643 luego en este caso, la f\u00f3rmula no funciona.</p> <p>Visto lo anterior, ya sabemos los permisos finales que vamos a obtener, es decir, si creo un archivo los permisos ser\u00e1n 644 y si creo un directorio, 754. La pregunta es, \u00bfc\u00f3mo miro que m\u00e1scara tiene mi equipo y c\u00f3mo la cambio? Vamos a ver primero como cambiarla:</p> <pre><code>umask 023 #la cambio\nnano archivo1 #creo un archivo\nmkdir carpeta1 #creo una carpeta\nls -ld archivo1 carpeta1 #visualizo los permisos\n</code></pre> <p>Salida esperada:</p> <pre><code>-rw-r--r-- archivo1 #644\ndrwxr-xr-x carpeta1 #754\n</code></pre> <p>Justo lo esperado. </p> <p>En lo anterior, umask 023 s\u00f3lo servir\u00e1 para la sesi\u00f3n actual. Si quieres que un usuario espec\u00edfico tengo un umask (espec\u00edfico del usuario) para siempre sin tener que cambiarlo cada vez que me meto en terminal , lo l\u00f3gico es meter este umask dentro de <code>.bashrc</code>. Es decir, si root quiere que manolo siempre tenga 027 como <code>umask</code> deber\u00e1 ejecutar lo siguiente:</p> <pre><code>echo 'umask 027' &gt;&gt; /home/manolo/.bashrc\n</code></pre> <p>si quiere que paco tenga el <code>umask 022</code> deber\u00e1 hacer lo siguiente:</p> <pre><code>echo 'umask 027' &gt;&gt; /home/paco/.bashrc\n</code></pre> <p>Ojo, lo anterior tambi\u00e9n se podr\u00eda meter en <code>.profile</code>.</p> <p>Si quieres que todos los usuarios tengan siempre el umask <code>027</code> por defecto lo que habr\u00eda que hacer es meter este <code>umask</code> en el <code>.bashrc</code> o <code>.profile</code> de <code>/etc/skell</code> para que cada vez que creee un usuario herenden ese <code>umask</code>. </p> <p>Tambi\u00e9n se puede editar <code>/etc/profile</code> ( archivo de configuraci\u00f3n global  para todos los usuarios del shell Bash y otros shells de login, se ejecuta cada vez que un usuario inicia sesi\u00f3n en el sistema). Si se a\u00f1ade ah\u00ed un nuevo umask,  se cambiar\u00e1 para todos los usuarios al que pongamos en este archivo.</p>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#ejercicio_2","title":"Ejercicio","text":"<ul> <li> <p>Inicia sesi\u00f3n con el usuario que creaste al iniciar la m\u00e1quina virtual.</p> </li> <li> <p>Comprueba con</p> </li> </ul> <pre><code>umask\n</code></pre> <p>el umask por defecto.</p> <ul> <li>Despu\u00e9s, ejecuta:</li> </ul> <pre><code>umask -S\n</code></pre> <p>\u00bfQue observas?</p> <ul> <li> <p>Desde ese mismo usuario, vas a editar con <code>nano</code> su propio <code>.bashrc</code> de forma que su umask va a ser 022. Una vez edites <code>.bashrc</code> no olvides recargarlo. Crear un archivo y un directorio y comprueba que efectivamente tienen los permisos que por defecto dicta <code>umask</code>.</p> </li> <li> <p>Desde ese mismo usuario, vas a editar con <code>nano</code> al <code>.bashrc</code> de <code>/etc/skel</code> de forma que su umask va a ser 025. Crea un usuario nuevo y crea un archivo y un directorio con ese nuevo usuario. Comprueba sobre el archivo y el directorio recien creados que sus permisos de creaci\u00f3n son los definidos en el umask de <code>/etc/skell/.bashrc</code></p> </li> </ul>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#2restringir-el-uso-de-ciertos-comandos-a-usuarios-a-grupos-y-crear-tus-propios-comandos","title":"2.Restringir el uso de ciertos comandos a usuarios a grupos y crear tus propios comandos","text":"<p>Aunque no lo parezca, cuando ejecutamos comandos como los vistos hasta ahora (<code>ls</code>, <code>cat</code>, <code>useradd</code>, <code>groupadd</code>, <code>getent</code>, <code>chown</code>, <code>chmod</code>, <code>nano</code>, <code>mkdir</code>, <code>chage</code>...), todos se ejecutan a partir de un archivo binario ejecutable (o de un script ejecutable). Como buen archivo, tienen permisos y una ubicaci\u00f3n en el sistema de ficheros.</p> <p>Los ejecutables del sistema se organizan en varios directorios est\u00e1ndar:</p> <ul> <li> <p><code>/bin</code> y <code>/usr/bin</code>comandos esenciales para todos los usuarios (p. ej. <code>ls</code>, <code>cat</code>, <code>mkdir</code>, <code>chmod</code>). Contiene los comandos esenciales del sistema que pueden ser usados por cualquier usuario, no solo por root.</p> </li> <li> <p><code>/sbin</code> y <code>/usr/sbin</code> comandos para administraci\u00f3n del sistema (p. ej. <code>useradd</code>, <code>groupadd</code>, <code>fdisk</code>). Suelen ser para el administrador (root). Contiene comandos esenciales para la administraci\u00f3n del sistema, generalmente destinados a root o administradores. No est\u00e1n pensados para usuarios normales.</p> </li> </ul> <pre><code>En sistemas modernos como Ubuntu o Debian actuales, muchos de estos directorios se han unificado, es decir, se han juntado en uno solo de la siguiente forma:\n\n  - `/bin con /usr/bin`\n  - `/sbin con /usr/sbin`\n</code></pre> <p>Esto se puede ver en la siguiente captura</p> <p></p> <ul> <li><code>/usr/local/bin</code>, <code>/usr/local/sbin</code> programas instalados localmente por el administrador (no gestionados por el gestor de paquetes del sistema). Veremos mas tarde como usar esto.</li> </ul> <p>Aqu\u00ed os dejo a modo de resumen las rutas donde se encuentras los comandos utilizados hasta ahora en las pr\u00e1ctica 1 y 2.</p> Comando Ruta t\u00edpica ls /bin/ls cat /bin/cat useradd /usr/sbin/useradd usermod /usr/sbin/usermod passwd /usr/bin/passwd groupadd /usr/sbin/groupadd groupdel /usr/sbin/groupdel chown /bin/chown (o /usr/bin/chown) chmod /bin/chmod mkdir /bin/mkdir chage /usr/bin/chage getent /usr/bin/getent su /bin/su userdel /usr/sbin/userdel nano /usr/bin/nano groups /usr/bin/groups gpasswd /usr/bin/gpasswd newgrp /usr/bin/newgrp pkill /usr/bin/pkill sudo /usr/bin/sudo visudo /usr/sbin/visudo echo builtin (shell) \u2014 /usr/bin/echo chmod (ejemplos) /bin/chmod"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#21-ejemplo-hacer-que-no-cualquiera-pueda-ejecutar-getent","title":"2.1. Ejemplo Hacer que no cualquiera pueda ejecutar <code>getent</code>","text":"<p>(Nunca editar los permisos de los comandos del sistema, esto puede corromper vuestro equipo, de hecho, si hac\u00e9is que no cualquiera pueda ejecutar getent, programas como firefox o chrome VAN a dejar de funcionar directamente)</p> <p>Normalmente <code>getent</code> ya es ejecutable por todos. Para comprobarlo:</p> <pre><code>ls -l $(which getent) #es equivalente a ls -ld /usr/bin/getent\n\n# salida t\u00edpica: -rwxr-xr-x 1 root root 123456 jul  1 12:34 /usr/bin/getent\n</code></pre> <p>Si por alguna raz\u00f3n no fuera ejecutable por otros, puede hacerlo con:</p> <pre><code>sudo chmod o-rx /usr/bin/getent\n# o, expl\u00edcito con los permisos octales:\n# sudo chmod 755 /usr/bin/getent\n</code></pre> <p>Comprobaci\u00f3n:</p> <pre><code># como usuario normal distinto de root\ngetent passwd yourusername\n#deber\u00eda dar error\n</code></pre> <p>Si prefieres que s\u00f3lo miembros de un grupo puedan ejecutar <code>getent</code> (p. ej. <code>useradmins</code>):</p> <pre><code># crear grupo si no existe\nsudo groupadd useradmins\n# cambiar grupo del ejecutable\nsudo chown root:useradmins /usr/bin/getent\n# quitar permisos para otros y poner permisos de grupo ejecutables\nsudo chmod 750 /usr/bin/getent   # rwx r-x ---\n# a\u00f1adir un usuario al grupo (por ejemplo, manolo)\nsudo usermod -aG useradmins manolo\n</code></pre> <p>Ahora s\u00f3lo root y los miembros del grupo <code>useradmins</code> podr\u00e1n ejecutar <code>getent</code>.</p>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#ejercicio_3","title":"Ejercicio","text":"<p>Crear el usuario \"useradmin\". Deber\u00e1s hacer que \u00e9l sea el unico usuario del sistema que pueda gestionar los usuarios, es decir, nadie excepto el podr\u00e1 ejecutar:</p> <p><code>usermod</code>, <code>useradd</code>, <code>getent</code>, <code>userdel</code>, <code>groupadd</code>, <code>groupdel</code>, <code>passwd</code>, <code>gpasswd</code>.</p> <p>Despu\u00e9s, crea el grupo \"groupadmins\" y a\u00f1ade a un usuario al grupo (para que no te pete el SO). Todas las personas de este grupo podr\u00e1n ejecutar:</p> <p><code>groupadd</code>, <code>groupdel</code>, <code>passwd</code>, <code>gpasswd</code>.</p> <p>pero no podr\u00e1n leer esto archivos.</p> <p>Una vez terminado esto, deshaz los cambios hechos.</p>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#22-sobre-comandos-que-no-son-binarios-los-builtins-del-shell","title":"2.2 Sobre comandos que NO son binarios: los builtins del shell","text":"<p>Algunos comandos como <code>echo</code>, <code>cd</code>, <code>pwd</code>, <code>exit</code>, <code>history</code>, <code>umask</code>, <code>read</code>, entre otros, no existen como archivos ejecutables en /bin o /usr/bin, sino que est\u00e1n integrados dentro del propio shell (bash, zsh, dash\u2026). A estos comandos se les llama builtins.</p> <p>\u00bfPor qu\u00e9 es importante esto?</p> <p>Porque no podemos cambiar sus permisos con <code>chmod</code> ni restringirlos desde el sistema de archivos, ya que no son archivos, sino c\u00f3digo interno del int\u00e9rprete de comandos. Puedes comprobar si un comando es builtin as\u00ed:</p> <pre><code>type comando\n</code></pre> <p>Ejemplos:</p> <pre><code>type echo   # echo is a shell builtin\ntype cd     # cd is a shell builtin\ntype pwd    # pwd is a shell builtin\n</code></pre>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#23-scripts-y-ejecucion-de-scripts","title":"2.3 Scripts y ejecuci\u00f3n de scripts","text":"<p>Un script es un archivo de texto que contiene comandos escritos para el sistema operativo para ejecutarse del tir\u00f3n.  Se ejecuta l\u00ednea por l\u00ednea como si los escribieras manualmente en la terminal.</p> <p>Caracter\u00edsticas b\u00e1sicas:</p> <ul> <li>Es un archivo de texto plano que se puede crear con nano</li> <li>Comienza con una l\u00ednea llamada shebang, que indica qu\u00e9 int\u00e9rprete debe ejecutarlo (<code>bash</code>, <code>sh</code>, etc.). En el siguiente ejemplo decimos que el script se ejecute con /bin/sh</li> <li>Necesita permisos de ejecuci\u00f3n para poder ejecutarse como programa.</li> </ul> <p>Ejemplo de script (<code>hola.sh</code>):</p> <pre><code>#!/bin/sh\n\n\necho \"Hola, mundo\"\n</code></pre> <p>Ejemplo: Crear un script</p> <p>Hacemos nano y en nombre del script.</p> <pre><code>nano hola.sh\n</code></pre> <p>Contenido:</p> <pre><code>#!/bin/sh\necho \"Hola, mundo\"\n</code></pre> <p>Luego guardas el archivo (<code>Ctrl + O</code>, <code>Enter</code>, <code>Ctrl + X</code>). En este caso este script lo \u00fanico que har\u00e1 sera escribir en pantalla \"hola mundo\". La pregunta es, \u00bfc\u00f3mo ejecutamos un script? Basta convertirlo a ejecutable</p> <pre><code>chmod +x hola.sh #damos permisos de ejecucion a todos.\n</code></pre> <p>Para ejecutarlo solo hace falta poner la ruta absoluta del script, que se puede hacer de dos formas:</p> <p>a) se escribe un <code>.</code>(carpeta actual) + <code>ruta relativa del script</code>, es decir, si la ruta absoluta del script es:</p> <p><code>/home/manolo/scripts/hola.sh</code> podemos ejecutar el script as\u00ed:</p> <pre><code>manolo@manolo:~/hola$ ./hola.sh\n</code></pre> <p>b) o si quieras directamente la ruta absoluta</p> <pre><code>manolo@mi_lapto:~$ /home/manolo/scripts/hola.sh\n</code></pre> <p>Si quit\u00e1is los permisos de ejecuci\u00f3n, no os habr\u00eda dejado ejecutar.</p> <p>Un apunte importante es que tambi\u00e9n se puede ejecutar como:</p> <pre><code>bash hola.sh\n</code></pre> <p>y en este caso, solo har\u00eda falta permisos de lectura y no de ejecuci\u00f3n.</p> <p>Quedan much\u00ediiiiiiiiiisimas cosas sobre scripts, que iremos viendo conforme avanzamos.</p>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#ejercicio_4","title":"Ejercicio","text":"<p>Crear el script \"creaci\u00f3n_hola_ls.sh\". El script deber\u00e1 crear una carpeta llamada \"hola\" de forma relativa a donde lo ejecutes. Hazto seguido, deber\u00e1 de mirar los permisos de la carpeta hola creada. Despu\u00e9s, da permisos de ejecuci\u00f3n al script creado y por \u00faltimo, ejec\u00fatalo y comprueba que se obtiene lo esperado.</p>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#24-anadir-scripts-como-comandos-al-path","title":"2.4 A\u00f1adir scripts como comandos al path","text":"<p><code>PATH</code> le dice al sistema d\u00f3nde buscar los comandos que escribes en la terminal. Puedes ver su valor con:</p> <pre><code>echo $PATH\n</code></pre> <p>Ejemplo de salida t\u00edpica:</p> <pre><code>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n</code></pre> <p>Esto significa: Cuando escribes un comando, por ejemplo <code>ls</code>, el sistema busca en cada carpeta del PATH (en ese orden) hasta encontrarlo, es decir, cuando haces:</p> <pre><code>ls\n</code></pre> <p>En realidad est\u00e1s ejecutando el script <code>/bin/ls</code> (de esto ya hemos hablando en el punto 1). Por tanto, es equivalente a esto:</p> <pre><code>manolo@manolo:$ ./bin/ls\n</code></pre> <p>Ahora vamos a a\u00f1adir al path el script creado en el punto anterior, primero, lo movemos a una carpeta que est\u00e9 en el path (la que quieras)</p> <pre><code>sudo mv /home/manolo/scripts/hola.sh /usr/local/bin/hola\n</code></pre> <p>ojo, en este caso no estamos s\u00f3lo moviendo, si no que estamos renombrando quitando la extensi\u00f3n sh al archivo. Eliminar <code>.sh</code> hace que parezca un comando real del sistema y es lo normal. Si no quisieramos renombrarlo y hacer que mantenga el <code>.sh</code> despu\u00e9s de hola, en el destino pondr\u00edamos lo siguiente:</p> <pre><code>sudo mv /home/manolo/scripts/hola.sh /usr/local/bin/\n</code></pre> <p>de esta forma mantendr\u00edamos el nombre original.  Despu\u00e9s de moverlo, damos los permisos a nuestro script.</p> <pre><code>sudo chown root:root /usr/local/bin/hola\nsudo chmod 755 /usr/local/bin/hola\n</code></pre> <p>ya estamos en condiciones de usar nuestro comando propio. Como le hemos dado el nombre \"hola\", basta hacer:</p> <pre><code>hola\n# Salida: Hola, mundo\n</code></pre> <p>Y... \u00a1Tu script ahora es un comando del sistema! Los haremos m\u00e1s dif\u00edciles, no os precup\u00e9is ;)</p> <p>Resumen de como crear tu propio comando a partir de un script</p> Paso Acci\u00f3n 1 Crear <code>hola.sh</code> con nano y a\u00f1ade qu\u00e9 quieres que haga el comando 2 <code>chmod +x hola.sh</code> (dale permisos de ejecuci\u00f3n para todos y prueba que funciona) 3 <code>sudo mv hola.sh /usr/local/bin/hola</code> (muevelo a una carpeta del paz y quita el .sh) 4 <code>sudo chmod 755 /usr/local/bin/hola</code> (dale permisos de ejecuci\u00f3n que tu quieras al comando) 5 Ejecutar simplemente con <code>hola</code>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#ejercicio_5","title":"Ejercicio","text":"<p>Crea el comando \"mkdir_ls\" a partir del script creado en la pr\u00e1ctica anterior.</p>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#-3-uso-de-los-archivos-etcsudoers-y-el-directorio-etcsudoersd-para-anadir-reglas-sobre-el-uso-de-sudo","title":"-3. Uso de los archivos <code>/etc/sudoers</code> y el directorio <code>/etc/sudoers.d/</code> para a\u00f1adir reglas sobre el uso de sudo.","text":"<p><code>su</code> vs <code>sudo</code>:</p> <ul> <li>Ya hemos visto <code>su</code> en la pr\u00e1ctica 1 y 2 sirve para cambiar de usuario a otro (por ejemplo <code>su - root</code> o s\u00f3lo <code>su</code> cambia al usuario <code>root</code>) y requiere la contrase\u00f1a del otro usuario. </li> <li><code>sudo</code> va por otro lado, en vez de tener que cambiar a otro usuario, permite ejecutar comandos espec\u00edficos con privilegios de otro usuario (es decir, con sudo puedo ejecutar un comando con los permisos de otro usuario sin necesidad de saberme su contrase\u00f1a)</li> </ul> <p>Supongamos que un comando (por ejemplo <code>gpasswd</code>) tienen permisos asociados para que solo levi o root los pueda ejecuta.  Si manolo ejecuta:</p> <pre><code>sudo -u levi gpasswd exploradores \n</code></pre> <p>en realidad est\u00e1 diciendo: \"la persona que ejecuta <code>gpasswd exploradores</code> no es <code>manolo</code> si no que es <code>levi</code>. b\u00e1sicamente ser\u00eda equivalente a:</p> <pre><code>manolo@mi_lapto:~$ su levi\nlevi@mi_lapto:~$ gpasswd exploradores \n</code></pre> <p>pero con la ventaja de no tener que cambiar de usuario ya que puede ser que no nos conozcamos la contrase\u00f1a de <code>levi</code>. </p> <p>Otro ejemplo es el siguiente:</p> <pre><code>sudo gpasswd exploradores \n</code></pre> <p>en realidad est\u00e1 diciendo: \"la persona que ejecuta <code>gpasswd exploradores</code> no es <code>manolo</code> si no que es <code>root</code>. b\u00e1sicamente ser\u00eda equivalente a:</p> <pre><code>sudo -u root gpasswd exploradores \n</code></pre> <p>y esto a su vez ser\u00eda equivalente a_</p> <pre><code>manolo@mi_lapto:~$ su root\nroot@mi_lapto:~$ gpasswd exploradores\n</code></pre> <p>la ventaja es que con sudo no tenemos que sabernos la contrase\u00f1a de root.</p> <p>Ojo, en lo anterior, si <code>levi</code> no es administrador de exploradores, dar\u00e1 fallo igualmente, pero eso no es lo que configuramos en <code>/etc/sudoers</code> lo que configuramos en este archivo llamado <code>sudoers</code> es que <code>manolo</code> tendr\u00e1 permisos para ejecutar <code>gpasswd</code> como si fuera levi, si el comando falla despu\u00e9s porque <code>levi</code> en realidad no era administrador de un grupo no es competencias de <code>sudoers</code>.</p>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#31-archivo-sudoers-etcsudoers","title":"3.1 Archivo <code>sudoers</code> (<code>/etc/sudoers</code>):","text":"<p>El archivo <code>sudoers</code> determina tres cosas fundamentales:</p> <ol> <li>Qui\u00e9n puede usar <code>sudo</code>     (usuarios o grupos autorizados)</li> <li>Sobre qu\u00e9 comandos puede usar <code>sudo</code>     (todos los comandos o solo algunos espec\u00edficos)</li> <li>Con los privilegios de qu\u00e9 usuario o grupo se ejecutar\u00e1n esos comandos. Por ejemplo, como el usuario <code>levi</code> (ver ejemplos de arriba), como el usuario <code>root</code> (sin poner -u en sudo), como el grupo <code>exploradores</code> (poniendo la opci\u00f3n -g en sudo), etc.</li> </ol> <p>El archivo que indica los permisos con los que puede usar sudo es: <code>/etc/sudoers</code> (nunca editar directamente con un editor normal, usar <code>visudo</code>).  Realmente la buenas pr\u00e1ctica: a\u00f1adir reglas en archivos dentro de <code>/etc/sudoers.d/</code> en vez de editar <code>/etc/sudoers</code> directamente.</p> <p>Para arbir el archivo <code>sudoers</code>, se hace as\u00ed:</p> <pre><code>sudo visudo /etc/sudoers\n#o solamente\nsudo visudo\n</code></pre> <p>Esto lo abre de forma segura para que no puedas editarlo. Vemos al final del archivo lo siguiente:</p> <pre><code># User privilege specification\nroot    ALL=(ALL:ALL) ALL\n\n# Members of the admin group may gain root privileges\n%admin ALL=(ALL) ALL\n\n# Allow members of group sudo to execute any command\n%sudo   ALL=(ALL:ALL) ALL\n</code></pre> <p>Estas l\u00edneas siguen los siguientes pratrones:</p> <pre><code>usuario HOST = (USUARIOS:GRUPOS) COMANDOS\n%grupo HOST = (USUARIOS:GRUPOS) COMANDOS\n</code></pre> <p>Vamos a ver que significa cada una de las tres lineas que vemos con visudo:</p> <pre><code>root ALL=(ALL:ALL) ALL\n</code></pre> <p>Entonces, en este caso:</p> <ul> <li><code>ALL</code> antes del <code>=</code> \u2192 desde cualquier host (ordenador).</li> <li><code>(ALL:ALL)</code> \u2192 puede ejecutar comandos como cualquier usuario y como cualquier grupo.</li> <li>Despu\u00e9s, <code>ALL</code> \u2192 puede ejecutar cualquier comando</li> </ul> <p>Ejemplo pr\u00e1ctico</p> <p>Supongamos que est\u00e1s conectado como <code>root</code>, podr\u00edas ejecutar:</p> <pre><code>sudo -u manolo whoami\n</code></pre> <p>Que devolver\u00eda manolo. De hecho en lugar de -u manolo, peudes poner el usuario que quieres y en donde hemos puesto el comando <code>whoami</code> podr\u00edas poner el comando que quieras. En conclusi\u00f3n: root puede ejecutar cualquier comando (en este caso <code>whoami</code>) como cualquier usuario (en este caso <code>manolo</code>)</p> <pre><code>%admin ALL=(ALL:ALL) ALL\n</code></pre> <p>Entonces, en este caso:</p> <ul> <li> <p><code>admin</code> nombre del grupo</p> </li> <li> <p><code>ALL</code> antes del <code>=</code> \u2192 desde cualquier host (ordenador).</p> </li> <li> <p><code>(ALL:ALL)</code> \u2192 puede ejecutar comandos como cualquier usuario</p> </li> <li> <p>Despu\u00e9s, <code>ALL</code> \u2192 puede ejecutar cualquier comando</p> </li> </ul> <p>Ejemplo pr\u00e1ctico</p> <p>Supongamos que est\u00e1s conectado como <code>rigoberto\u00f1</code>, usuario que est\u00e1 dentro del grupo <code>admin</code>. Podr\u00edas ejecutar:</p> <pre><code>sudo whoami\n</code></pre> <p>Que devolver\u00eda root. De hecho podr\u00edas poner -u <code>levi</code>, o incluso puedes poner el usuario que quieres y en donde hemos puesto el comando <code>whoami</code> podr\u00edas poner el comando que quieras. En conclusi\u00f3n: root puede ejecutar cualquier comando (en este caso <code>whoami</code>) como cualquier usuario (en este caso <code>root</code>)</p> <pre><code>%sudo   ALL=(ALL:ALL) ALL\n</code></pre> <ul> <li> <p><code>sudo</code> nombre del grupo</p> </li> <li> <p><code>ALL</code> antes del <code>=</code> \u2192 desde cualquier host (ordenador).</p> </li> <li> <p><code>(ALL:ALL)</code> \u2192  puede ejecutar comandos como cualquier usuario y como cualquier grupo.</p> </li> <li> <p>Despu\u00e9s, <code>ALL</code> \u2192 puede ejecutar cualquier comando</p> </li> </ul> <p>Ejemplo pr\u00e1ctico</p> <p>Vale exactamente el mismo ejemplo que en el caso anterior. El grupo sudo es el m\u00e1s com\u00fanmente usado, as\u00ed que si quieres que un usuario pueda hacer <code>sudo</code> con permisos de root, gracias a esta regla es m\u00e1s que suficiente.</p> <pre><code>paco ALL=(root) /usr/bin/passwd\n</code></pre> <ul> <li> <p><code>paco</code> nombre del usuario</p> </li> <li> <p><code>ALL</code> antes del <code>=</code> \u2192 desde cualquier host (ordenador).</p> </li> <li> <p><code>(root)</code> \u2192  puede ejecutar comandos como usuario root</p> </li> <li> <p>Despu\u00e9s, <code>passwd</code> \u2192solo puede ejecutar este comando como root</p> </li> </ul> <p>Ejemplo pr\u00e1ctico</p> <p>Desde paco podemos ejecutar solo passwd con permisos de root y cambair la contrase\u00f1a a cualquier otro usuario.</p> <pre><code>sudo passwd manolo\n</code></pre> <p>Despu\u00e9s pedir\u00e1 la contrase\u00f1a de root para hacer esto.</p> <pre><code>armin ALL=(ALL:ALL) NOPASSWD: ALL\n</code></pre> <ul> <li><code>amin</code> nombre del usuario</li> <li><code>ALL</code> antes del <code>=</code> \u2192 desde cualquier host (ordenador).</li> <li><code>(ALL:ALL)</code> \u2192  puede ejecutar comandos como cualquier usuario y como cualquier grupo.</li> <li>Despu\u00e9s, <code>ALL</code> \u2192 puede ejecutar cualquier comando, en este caso, sin necesidar de tener que poner la contrase\u00f1a del usuario con el que va a ejecutar el sudo</li> </ul> <p>Ejemplo pr\u00e1ctico</p> <p>Desde paco podemos ejecutar solo passwd con permisos de root y cambair la contrase\u00f1a a cualquier otro usuario.</p> <pre><code>sudo passwd manolo\n</code></pre> <p>Sin embargo con NOPASSWD no pedir\u00e1 la contrase\u00f1a.</p> <pre><code>eren ALL=(root) /sbin/shutdown, /sbin/reboot\n</code></pre> <ul> <li><code>eren</code> nombre del usuario</li> <li><code>ALL</code> antes del <code>=</code> \u2192 desde cualquier host (ordenador).</li> <li><code>(root)</code> \u2192  puede ejecutar comandos como root</li> <li>Despu\u00e9s, <code>/sbin/shutdown, /sbin/reboot</code> \u2192 puede ejecutar estos comandos</li> </ul> <p>Ejemplo pr\u00e1ctico</p> <p>El usuario eren puede ejecutar solo los comandos <code>/sbin/shutdown</code> y <code>/sbin/reboot</code> con privilegios de <code>root</code>, y ning\u00fan otro comando mediante <code>sudo</code> (a menos que haya otra regla que se lo permita).</p> <pre><code>%develop ALL=(root) NOPASSWD: /usr/bin/apt update, /usr/bin/apt upgrade\n</code></pre> <ul> <li><code>%develop</code> nombre del usuario</li> <li><code>ALL</code> antes del <code>=</code> \u2192 desde cualquier host (ordenador).</li> <li><code>(root)</code> \u2192  puede ejecutar comandos como root</li> <li>Despu\u00e9s, <code>/usr/bin/apt update, /usr/bin/apt upgrade</code> : puede ejecutar estos comandos</li> </ul> <p>Ejemplo pr\u00e1ctico</p> <p>cualquiera en el grupo develop puede ejecutar solo los comandos usr/bin/apt update, /usr/bin/apt upgrade con privilegios de <code>root</code>, y ning\u00fan otro comando mediante <code>sudo</code> (a menos que haya otra regla que se lo permita), es decir, pueden hacer:</p> <pre><code>sudo apt update\n</code></pre> <p>sin problemas.</p>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#32-permitir-a-un-usuario-ejecutare-sudo-con-permisos-de-root","title":"3.2 Permitir a un usuario ejecutare sudo con permisos de root","text":"<p>Con las reglas de antes, si a\u00f1adimos a alguien al grupo sudo, bastar\u00e1</p> <pre><code>sudo usermod -aG sudo nombre_usuario\n</code></pre> <p>Con esto, el usuario podr\u00e1 ejecutar cualquiero comando con sudo, ya que vimos que <code>/etc/sudoers</code>sudo ten\u00eda la siguiente regla:</p> <pre><code>%sudo ALL=(ALL:ALL) ALL\n</code></pre> <p>la cualquier permite <code>sudo</code> ejecutar a todos los usuarios del grupo desde:</p> <ul> <li>cualquier usuario, cualquier grupo, cualquier comando</li> </ul>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#ejercicio_6","title":"Ejercicio","text":"<p>A\u00f1ade a un usuario de tu sistema al grupo sudo y comprueba que podr\u00e1 usar los siguiente comandos con permisos de root o permisos de otros usuarios (devuelve la salida de los mismo):</p> <pre><code>sudo whoami\n</code></pre> <pre><code>sudo -u manolo whoami\n</code></pre> <pre><code>sudo passwd root\n</code></pre> <pre><code>sudo mkdir /ejemplo_practica_3\n</code></pre>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#33-creacion-de-reglas-propias-en-sudoersd","title":"3.3 Creaci\u00f3n de reglas propias (en sudoers.d)","text":"<p>Tambi\u00e9n podemos crear reglas sobre como los usuarios espec\u00edficos que no est\u00e9n en sudo tendr\u00e1n permisos espec\u00edficos al ejecutar el comando sudo. Esto no se hace directamente sobre <code>etc/sudoers</code> ya que para eso se usa el archivo: <code>/etc/sudoers.d/</code>.</p> <p>Para crear reglas en <code>/etc/sudoers.d</code> usaremos el editor <code>visudo</code> de nuevo. Imaginamos que queremos crear una nueva regla para eren:</p> <pre><code>sudo visudo -f /etc/sudoers.d/eren\n</code></pre> <p>y al final del editor, a\u00f1adimos:</p> <pre><code>eren ALL=(root) /sbin/shutdown, /sbin/reboot\n</code></pre> <p>Con esto, ya tendr\u00edamos lo que buscabamos , que es que eren pueda apagar y reiniciar como root (sobre el resto de comandos que necesiten de root no decimos nada aunque puede que haya otras reglas que le permita ejecutarlos)</p>"},{"location":"TEMA3/Practicas/3%C2%AA%20Practica%20SUDOERS%20Y%20UMASK%20Y%20SKELL/#ejercicio_7","title":"Ejercicio","text":"<p>1.Abrir con <code>visudo</code> (seguro) y edita al usuario armin. En una linea haz que armin pueda ejecutar el comando mkdir, chown y chmod con permisos de root, pero solo esos. Haz en otro linea que armin pueda ejecutar ls con permisos de eren, pero solo ese usuario.</p> <p>2.Muevete al usuario eren (metelo en el grupo sudo) y en la raiz \"/\" crea una carpeta llamada \"solo_eren\" con permisos 771 y cambiale el propietario a eren. Despu\u00e9s crea un fichero en esa carpeta llamado \"ejemplo.txt\" y a\u00f1ade lo que quieras dentro. Comprueba que eren puede hacer un ls sobre /solo_eren y que <code>armin</code> no puede. Despu\u00e9s, con armin ejecuta: </p> <pre><code>sudo -u eren ls /solo_eren\n</code></pre> <p>\u00bfqu\u00e9 linea de la que a\u00f1adiste en el punto 1 te ha permitido hacer esto y por qu\u00e9? Despu\u00e9s comprueba que armin no puede crear nada sobre <code>solo_eren</code> pero ejecutando:</p> <pre><code>sudo mkdir /solo_eren/armin_tambien_puede\n</code></pre> <p>comprueba que si puedes, \u00bfqu\u00e9 linea de la que a\u00f1adiste en el punto 1 te ha permitido hacer esto y por qu\u00e9?  Por \u00faltimo, y utilizando sudo, armin decide apropiarse de la carpeta de eren y darle permisos para que s\u00f3lo el puede utilizarla. Explica como lo har\u00edas.</p> <p>3.Abrir con <code>visudo</code> (seguro) y edita al usuario armin, en este caso, armin podr\u00e1 ejecutar todos los comandos con permisos del grupo exploradores (Si no tienes este grupo debes crearlo y solo meter a eren). En este caso, eren crear\u00e1 en /solo_eren la carpeta /exploradores y le dar\u00e1 el grupo propietario exploradores y le asignar\u00e1 permisos 771.  Sobre esta carpeta eren crear\u00e1 el txt llamado (asuntos_secretos.txt)</p> <p>4.Con armin, intenta borrar este .txt sin sudo \u00bfinfluyen los permisos del txt o los permisos de la carpeta que lo contiene? \u00bfPuedes? Si no puedes, ejecuta el comando apropiado con sudo para borrar este txt.</p> <p>5.Armin tiene una pelea con eren y trata sobre lo siguiente. Armin dice que si tuviese privilegios para ejecutar con el grupo sudo  cualquier comando (es decir, esta regla)</p> <pre><code>armin ALL=(armin:sudo) ALL\n</code></pre> <p>Podr\u00eda ejecutar cualquier comando as\u00ed:</p> <pre><code>armin@asir:~$ sudo -g sudo rm -r /solo_eren\n</code></pre> <p>Sin embargo eren le dice que si puede, pero que el comando lo est\u00e1 escribiendo mal y que todav\u00eda no entiende como usar sudo correctamente. \u00bfQu\u00e9 opinas? \u00bfQuien tiene raz\u00f3n?</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/","title":"4\u00aa Practica Guiada (Uso de APT avanzado)","text":""},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#indice","title":"INDICE","text":"<p>A lo largo de esta pr\u00e1ctica guiada, los puntos 1,2,4,y 7 ser\u00e1n los te\u00f3ricos, de ellos, no hay que entregar nada. Solo se entregar\u00e1n los puntos 3,5 y 6, en su totalidad y con capturas de pantalla. A continuaci\u00f3n, se muestra el \u00edndice:</p> <p>1. \u00bfQu\u00e9 es un paquete en Linux?</p> <p>1.1 Ejemplos concretos de paquetes</p> <p>1.2 \u00bfDe d\u00f3nde vienen los paquetes? (Repositorios)</p> <p>1.3 Tags de los repositorios en Ubuntu (Types, URIs, Suites, Components, Signed-By)</p> <p>1.4 \u00cdndices de un repositorio: c\u00f3mo busca APT los paquetes</p> <p>1.5 Ver paquetes candidatos a instalar con <code>apt-cache policy</code></p> <p>1.6 \u00bfQu\u00e9 paquete instala APT? Orden de prioridades</p> <p>2. Uso de las herramientas APT y DPKG</p> <p>2.1 Instalar paquetes con APT y DPKG (<code>dpkg -i'</code>) y resolver paquetes incompletos (<code>apt -f install</code>)</p> <p>2.2 Instalar paquetes manualmente con DPKG y curl</p> <p>2.3 Ver paquetes instalados y dependencias (<code>apt list</code>, <code>dpkg -l</code>, <code>apt-cache depends</code>)</p> <p>2.4 Eliminar paquetes y archivos residuales (<code>remove</code>, <code>purge</code>, <code>autoremove</code>)</p> <p>2.5 Ejemplo pr\u00e1ctico completo con el paquete <code>cowsay</code></p> <p>3. Pr\u00e1ctica con APT y DPKG</p> <p>Parte 1: ejercicio completo con el paquete <code>neofetch</code></p> <p>Parte 2: ejercicio completo con el paquete <code>python3</code></p> <p>Parte 3: instalaci\u00f3n manual de Docker descargando paquetes <code>.deb</code> y eliminaci\u00f3n posterior</p> <p>4. A\u00f1adir nuevos repositorios a Ubuntu</p> <p>4.1 Here documents</p> <p>4.2 El comando <code>tee</code> y el uso de pipes</p> <p>4.3 A\u00f1adir la clave GPG de un repositorio y explicaci\u00f3n del proceso</p> <p>4.4 A\u00f1adir un repositorio externo (ejemplo: Docker)</p> <p>5. Pr\u00e1ctica: repositorios externos</p> <p>a) A\u00f1ade y muestra informaci\u00f3n del repositorio Docker (Punto anterior)</p> <p>b) Descargar y a\u00f1adir clave GPG de Microsoft</p> <p>c) Crear el archivo <code>vscode.sources</code> con <code>tee</code> y here-document</p> <p>d) Actualizar \u00edndices (<code>apt update</code>)</p> <p>e) Buscar e instalar el paquete <code>code</code></p> <p>6. Pr\u00e1ctica: desinstalaci\u00f3n completa de Typora</p> <p>a) Eliminar paquete + configuraci\u00f3n + dependencias</p> <p>b) Eliminar ficheros de repositorios de Typora</p> <p>c) Eliminar claves GPG de Typora</p> <p>d) Explicar l\u00ednea por l\u00ednea la instalaci\u00f3n de Typora y reproducirla con here-document</p> <p>e) Identificar URI, Suites y Components en el repositorio de Typora</p> <p>7. Aislar programas por usuario</p> <p>7.1 Editar permisos del binario</p> <p>7.2 Crear grupos para restringir acceso</p> <p>Visto el \u00edndice, empezamos a desarrollar cada uno de los puntos:</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#1-que-es-un-paquete-en-linux-explicacion-sencilla","title":"1. \u00bfQu\u00e9 es un paquete en Linux? (explicaci\u00f3n sencilla)","text":"<p>Un paquete de linuz es un archivo que contiene cualesquiera de las siguientes caracter\u00edsticas: un programa, una biblioteca de comandos, configuraciones o incluso documentaci\u00f3n.</p> <p>Todo este \"paquete\" est\u00e1 comprimido de forma ordenada, para que el sistema lo pueda instalar, actualizar o eliminar f\u00e1cilmente mediante una serie de comandos que veremos a lo largo de la pr\u00e1ctica. De hecho, para entender mejor el concepto de \"paquete\" en linux, es conveiniente pensar que es parecido a una \u201ccaja\u201d, que contendr\u00e1 todo lo necesario para que un programa funcione.</p> <p>En Ubuntu y Debian, los paquetes siempre tienen extensi\u00f3n: <code>.deb</code></p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#11-ejemplos-concretos-de-paquetes","title":"1.1 Ejemplos concretos de paquetes","text":""},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#a-un-programa-completo-instalando-un-programa","title":"a) Un programa completo instalando un programa","text":"<p>Ejemplo de programa: Firefox. Para instalar el programar firefox en ubuntu debemos de hacer uso de un paquete llamado: firefox. Cuando lo instalas, recibes todo lo necesario para que firefox funciones, como por ejemplo:</p> <ul> <li>el navegador</li> <li>sus archivos internos</li> <li>iconos</li> <li>dependencias necesarias</li> </ul> <p>Para instalar firefox en tu ubuntu, simplemente escribe:</p> <pre><code>sudo apt install firefox\n</code></pre>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#b-una-biblioteca-que-otros-programas-necesitan","title":"b) Una biblioteca que otros programas necesitan","text":"<p>Los paquetes no tienen porqu\u00e9 ser programas como el ejemplo anterior, pueden ser librer\u00edas que otros programas necesiten, como por ejemplo el paquete llamado \"curl\":</p> <pre><code>curl\n</code></pre> <p>Con este parquete dispondr\u00e1s de una herramienta muy pr\u00e1ctica para realizar solicitudes HTTP y HTTPS desde la terminal, como por ejemplo, el siguiente</p> <pre><code>curl -v https://www.google.com\n</code></pre>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#c-el-controlador-de-tu-grafica","title":"c) El controlador de tu grafica","text":"<pre><code>sudo apt update\nsudo apt install ubuntu-drivers-common\n</code></pre> <p>Es un paquete que instala el driver autom\u00e1ticamente de tu tarjeta gr\u00e1fica haciendo</p> <pre><code>sudo ubuntu-drivers autoinstall\n</code></pre> <p>Otro ejemplo es el siguiente:</p> <pre><code>sudo apt update\nsudo apt install nvidia-driver-535\n</code></pre> <p>Es un paquete que instala el driver autom\u00e1ticamente de una gr\u00e1fica que tu indiques. Si quieres saber un poquito m\u00e1s, tu gr\u00e1fica puedes verla con el siguiente comando:</p> <pre><code>lspci | grep -E \"VGA|3D\"\n</code></pre> <p>que te da el nombre de tu grafica:</p> <p></p> <p>Si quieres saber c\u00f3mo encontrar el driver que debes instalar para tu gr\u00e1fica, debes ejecutar:</p> <pre><code>sudo ubuntu-drivers list\n</code></pre> <p>Que te da como salida autom\u00e1ticamente todos los drivers compatibles con tu grafica. De hecho, el comando me dir\u00e1 el recommended. Los drivers de NVIDIA en Ubuntu no vienen del repositorio de NVIDIA, sino de repositorios oficiales de Ubuntu mantenidos por Canonical. Esto lo entender\u00e1s en puntos posteriores.</p> <p>Doc oficial: https://documentation.ubuntu.com/server/how-to/graphics/install-nvidia-drivers/?utm_source=chatgpt.com</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#12-de-donde-vienen-los-paquetes","title":"1.2 \u00bfDe d\u00f3nde vienen los paquetes?","text":"<p>Cuando haces:</p> <pre><code>sudo apt install firefox\n</code></pre> <p>se instala un paquete que se llama firefox, pero os dejo las siguientes dos preguntas:</p> <ul> <li>\u00bfC\u00f3mo sabes que el paquete se llama firefox y no firefox_linux?</li> <li>\u00bfDe donde se est\u00e1 descargando realmente ese paquete?</li> </ul> <p>Contestemos primero a la segunda pregunta. Los paquetes se descargan de lugares llamados repositorios, que son \u201ctiendas\u201d donde se guardan miles de paquetes listos para instalar. El comando APT se encarga de: descargar, instalar, actualizar, y borrar los paquetes de dicho respositorios (que debremos de configurar a mano, a menos que sea el oficial que trae el sistema).</p> <p>En este l\u00ednea, deb\u00e9is saber Ubuntu trae varios repositorios oficiales  y cada repositorio contiene miles de paquetes listos para instalar (entre ellos, los paquetes firefox y curl instalados en el punto anterior). El comando para mirar todos los repositorios de vuestro sistema es.</p> <pre><code>ls /etc/apt/sources.list.d/\n</code></pre> <p></p> <p>Esta carpeta contiene todos los repositorios a\u00f1adido en vuestro sistema, que como hemos dicho, son los lugares en donde se buscan los paquetes \"deb\" cuando hacemos \"apt install\". Ahora bien, en la captura anterior hay dos repositorios que trae ubuntu por defecto al instalarse, y son:</p> <pre><code>ubuntu.sources\nubuntu.sources.curtin.orig\n</code></pre> <p>El resto de respositorios son repos que YO he a\u00f1adido a mano y por tanto, no tendr\u00e9is vosotros.</p> <p>1.3 TAGS de los repositorios en ubuntu</p> <p>De hecho, vamos a hacer un poco de \"spoiler\" y vamos a adentrarnos en el repo oficial de ubuntu (ubuntu.sources) haciendo un cat a dicho archivo:</p> <pre><code>sudo cat /etc/apt/sources.list.d/ubuntu.sources\n#------------------SALIDA DEL CAT-----------------------\nTypes: deb\nURIs: http://archive.ubuntu.com/ubuntu/\nSuites: noble noble-updates noble-backports\nComponents: main restricted universe multiverse\nSigned-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg\nArchitecture: amd64\n\nTypes: deb\nURIs: http://security.ubuntu.com/ubuntu/\nSuites: noble-security\nComponents: main restricted universe multiverse\nSigned-By: /usr/share/keyrings/ubuntu-archive-keyring\nArchitecture: amd64\n</code></pre> <p>Aqu\u00ed, se indica que el sistema descargar\u00e1 los paquetes de tipo \"DEB\" desde dos lugares principales: <code>archive.ubuntu.com</code>, que es el repositorio general, y <code>security.ubuntu.com</code>, que es el repositorio espec\u00edfico para actualizaciones de seguridad.  Vamos a entender un poquito m\u00e1s qu\u00e9 significa cada cosa.</p> <p>Adem\u00e1s, se especifican varias etiquetas como: suites, URIS, Componentes  y Signed By.  La siguiente imagen resumen un poco lo que vamos a ver paso a paso: </p> <p>Es decir, dentro de un mismo repositorio, clasificamos a los paquetes de la siguiente forma:</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#a-uris","title":"a) URIs","text":"<p>Este es la URL del servidor o repositorio desde donde Ubuntu descarga los paquetes, se puede entender como el repositorio en s\u00ed mismo.</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#b-suite","title":"b) Suite","text":"<p>La suite es una \u201cestanter\u00eda\u201d del repositorio (de la URL) donde viven versiones espec\u00edficas de los paquetes. </p> <ul> <li> <p><code>noble</code>, es la base de tu versi\u00f3n de Ubuntu. Contiene los paquetes tal y como fueron publicados en la versi\u00f3n inicial del sistema, justo el d\u00eda del lanzamiento. Son los paquetes \"congelados\" en su versi\u00f3n inicial y que garantizan estabilidad.</p> </li> <li> <p><code>noble-updates</code>, aqu\u00ed se incluyen actualizaciones estables que se liberan despu\u00e9s del lanzamiento de Ubuntu. Correcciones de errores, mejoras menores y peque\u00f1as actualizaciones que han sido probadas en los paquetes para garantizar que no rompan el sistema.</p> </li> <li><code>noble-backports</code>, esta suite sirve para ofrecer versiones m\u00e1s nuevas de ciertos paquetes que no forman parte de la versi\u00f3n oficial inicial ni de las actualizaciones t\u00edpicas. No es obligatoria y suele usarse para introducir versiones m\u00e1s recientes que pueden llegar a ser inestables-</li> <li><code>noble-security</code>, contiene todas las actualizaciones y parches de seguridad que Ubuntu publica de forma prioritaria. Aqu\u00ed es donde se suben las correcciones de vulnerabilidades del kernel, OpenSSL, navegadores o librer\u00edas importantes. Posteriormente se suelen copiar en noble updates.</li> </ul>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#c-components","title":"c) Components","text":"<p>Las son distintas secciones dentro de un repositorio que dividen alos paquetes entre categor\u00edas:</p> Componente Contenido main Software oficial apoyado por Ubuntu restricted Drivers propietarios (como NVIDIA) universe Software mantenido por la comunidad multiverse Software con licencias restrictivas"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#14-indices-de-un-repo-instalando-curl-en-ubuntu-2404-noble","title":"1.4  \u00cdndices de un repo: Instalando <code>curl</code> en Ubuntu 24.04 (Noble)","text":"<p>Imagina que ejecutas:</p> <pre><code>sudo apt update\nsudo apt install curl\n</code></pre> <p>Primero apt mira en los \u00edndices que se descargaron con <code>apt update</code>.  APT no descarga todos los .deb directamente. En su lugar descarga archivos llamados \u00edndices. Estos \u00edndices son listados completos de todos los paquetes de un repositorio y se encuentran en:</p> <pre><code>/var/lib/apt/lists/\n</code></pre> <p>Sin embargo, por cada repo puede existir m\u00e1s de un \u00edndice. Cada repo aporta a <code>/var/lib/apt/lists/</code> tantos \u00edndices como combinaciones de: suite, componente y arquitectura. Por ejemplo, si tengo el repo:</p> <pre><code>URIs: http://archive.ubuntu.com/ubuntu\nSuites: noble noble-updates noble-security\nComponents: main universe\nArquitectura: amd64\n</code></pre> <p>APT tendr\u00e1 que descargar: 3 suites \u00d7 2 componentes \u00d7 1 arquitectura = 6 \u00edndices diferentes, que aparecer\u00e1n al hacer un ls a <code>/var/lib/apt/lists/</code></p> <pre><code>archive.ubuntu.com_ubuntu_dists_noble_main_binary-amd64_Packages\narchive.ubuntu.com_ubuntu_dists_noble_universe_binary-amd64_Packages\narchive.ubuntu.com_ubuntu_dists_noble-updates_main_binary-amd64_Packages\narchive.ubuntu.com_ubuntu_dists_noble-updates_universe_binary-amd64_Packages\narchive.ubuntu.com_ubuntu_dists_noble-security_main_binary-amd64_Packages\narchive.ubuntu.com_ubuntu_dists_noble-security_universe_binary-amd64_Packages\n</code></pre> <p>Lo anterior pasa en cualquier repositorio a\u00f1adido, no solo con los oficiales. </p> <p>Ahora bien, Cuando haces <code>apt install \"paquete\"</code>, APT mira en todos los \u00edndices de  <code>/var/lib/apt/lists/</code> y busca en cada uno de ellos una entrada llamada \u201cPackage: curl\u201d. De todos los paquetes curl, APT elige qu\u00e9 paquete instalar seg\u00fan un orden predefinido, que explicamos en el siguiente punto. </p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#15-ver-info-de-los-posibles-candidatos-a-la-hora-de-instalar-un-paquete","title":"1.5 Ver info de los posibles candidatos a la hora de instalar un paquete:","text":"<p>En el punto anterior nos quedamos en qu\u00e9 paquete de todos los posibles se va a instalar en el sistema, la pregunta es, \u00bfPuedes ver todos los posibles candidatos? Esto se puede ejecutando:</p> <pre><code>apt-cache policy curl\n</code></pre> <p>que te podr\u00eda devolver algo as\u00ed;</p> <p></p> <p>Explicamos las l\u00edneas anteriores, ya que son important\u00edsimas ya que todas contienen el capo \"prioridad\":</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#a-instalados-850-2ubuntu106","title":"a) Instalados: 8.5.0-2ubuntu10.6","text":"<p>Esto significa que esa es la versi\u00f3n que ya tienes instalada en tu sistema.</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#bcandidato-850-2ubuntu106","title":"b)Candidato: 8.5.0-2ubuntu10.6","text":"<p>Es la versi\u00f3n que APT instalar\u00eda si ejecutar\u00e1s un upgrade. Aqu\u00ed coincide con la instalada luegono hay una versi\u00f3n m\u00e1s nueva.</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#ctabla-de-version","title":"c)Tabla de versi\u00f3n:","text":"<p>Aqu\u00ed APT lista todas las versiones disponibles en tus repositorios y de d\u00f3nde provienen. Vamos l\u00ednea por l\u00ednea.</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#d-linea-marcada-con","title":"d) L\u00ednea marcada con ***","text":"<pre><code>La linea que tiene esto\n*** 8.5.0-2ubuntu10.6 500\n</code></pre> <p>marca la versi\u00f3n instalada actualmente. El n\u00famero 500 es la prioridad de paquete en cuesti\u00f3n (la 500 es alta y es normal en repos oficiales). Esta versi\u00f3n aparece dos veces debajo:</p> <pre><code>500 http://archive.ubuntu.com/ubuntu noble-updates/main\n500 http://security.ubuntu.com/ubuntu noble-security/main\n</code></pre> <p>Que significa: que esa misma versi\u00f3n est\u00e1 publicada tanto en <code>noble-updates</code> como en <code>noble-security</code>. Ya avanzamos en el punto 1.3 que es totalmente normal cuando ubuntu lanza un parche de seguridad y luego lo copia tambi\u00e9n en el repo updates.</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#e-100-varlibdpkgstatus","title":"e) 100 /var/lib/dpkg/status","text":"<pre><code>100 /var/lib/dpkg/status\n</code></pre> <p>Ese 100 es la prioridad interna que APT asigna a las versiones que ya est\u00e1n instaladas en el sistema.<code>/var/lib/dpkg/status</code> es el fichero donde dpkg guarda el registro local de todos los paquetes instalados en tu sistema: Este archivo contiene, para cada paquete instalado toda la info necesaria.</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#f-version-anterior-850-2ubuntu10","title":"f) Versi\u00f3n anterior: 8.5.0-2ubuntu10","text":"<pre><code>8.5.0-2ubuntu10 500\n        500 http://archive.ubuntu.com/ubuntu noble/main\n</code></pre> <p>Esto muestra la versi\u00f3n original que ven\u00eda en la instalaci\u00f3n base de Ubuntu (<code>noble/main</code>). Evidentemente tiene un n\u00famero m\u00e1s bajo: 2ubuntu10 vs 2ubuntu10.6. APT no la usa porque ya existe una versi\u00f3n m\u00e1s nueva en updates/security.</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#16-que-paquete-de-los-candidatos-anteriores-instalamos","title":"1.6 \u00bfQu\u00e9 paquete de los candidatos anteriores instalamos?","text":"<p>APT nos dice directamente con el comando anterior qui\u00e9n es el primer candidato a instalar, a\u00fan as\u00ed, deb\u00e9is saber que la jerarqu\u00eda para elegir que paquete instalar es la siguiente:</p> <pre><code>1. Prioridad num\u00e9rica\n2. Suite (security &gt; updates &gt; release base)\n3. Componente (main &gt; universe &gt; multiverse\u2026)\n4. Versi\u00f3n\n</code></pre> <p>O dicho de otra forma:</p> <ol> <li>Primero la prioridad num\u00e9rica (dos posibles resultados)    Ej.: 500 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 Packages</li> </ol> <p>Ej.: 500 http://security.ubuntu.com/ubuntu noble-security/main amd64 Packages</p> <ol> <li> <p>Este repositorio puede tener varias Suite. Si hay varios candidatos con la misma prioridad en el punto anterior, se prioriza en el siguiente orden (security &gt; updates &gt; release base &gt; backports). En el ejemplo anterior, ganar\u00eda la versi\u00f3n del repo \"security\" aunque tengan igual prioridad ambas</p> </li> <li> <p>Cada Suite tiene distintos componentes. Si a este paso llegaramos con varios candidatos, filtrar\u00edamos en el siguiente orden  (main &gt; universe &gt; multiverse\u2026)</p> </li> <li> <p>Version: Si en este \u00faltimo paso, tuvieramos todav\u00eda m\u00e1s de un candidato, nos quedar\u00edamos con el de la versi\u00f3n mas reciente</p> </li> </ol>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#2-uso-de-la-herramienta-apt-y-dpkg-para-paquetes","title":"2 Uso de la herramienta APT y DPKG  para paquetes","text":"<p>Veremos ahora los comandos de APT y DPKG m\u00e1s comunes para instalar y eliminar paquetes de forma correcta.</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#21-instalar-paquetes-con-apt-y-soluciones-paquetes-medio-instalados","title":"2.1 Instalar paquetes con APT y soluciones paquetes medio instalados","text":"<p>Como regla general. important\u00edsimo actualizar los \u00edndices con:</p> <pre><code>sudo apt update\n</code></pre> <p>antes de instalar cualquier paquete. Despu\u00e9s, podemos hacer una peque\u00f1a b\u00fasqueda para ver si el paquete est\u00e1 disponible. Por ejemplo, si hacemos:</p> <pre><code>sudo apt search cowsay\n</code></pre> <p></p> <p>Me sale que puedo instalar 4 posibles paquetes y uno que tengo uno ya instalado. Dicho esto, con APT podemos: Instalar (seg\u00fan el orden visto en el punto 1):</p> <pre><code>sudo apt install nombre\n</code></pre> <p>De esta forma se instalar\u00e1n todas las dependencias autom\u00e1ticas de dicho paquete. A la hora de instalar u paquete tambi\u00e9n es com\u00fan encontrarse directamente el paquete \".deb\", descargarlo e instalarlo a mano, pero esto trae algunas desventajas. Imagina que tras hacer:</p> <pre><code>sudo apt search cowsay\n</code></pre> <p>te ha molado un paquete que es cowsay-off, y lo quieres instalar a mano, ya que apt no te lo ha instalado por defecto  (aunque esto ser\u00eda raro). Para instalar ese paquete en espec\u00edfico debes buscar primero donde est\u00e1 ese .deb, por ejemplo, haciendo:</p> <pre><code>apt-get download --print-uris cowsay-off=3.03+dfsg2-8\n</code></pre> <p>que devuelve algo como:</p> <p></p> <p>que nos otorga la url para descargar el paquete .deb. una vez descargado el paquete .deb se instala haciendo uso de:</p> <pre><code>dpkg -i archivo.deb\n</code></pre> <p>En el siguiente punto lo vemos m\u00e1s en detalle. \u00bfQu\u00e9 hace DPKG cuando isntalas un paquete a mano sin APT como en lo anterior?: instala el paquete, crea su entrada en <code>/var/lib/dpkg/status</code></p> <p>marca el paquete como instalado manualmente</p> <ul> <li>NO resuelve dependencias y NO registra dependencias autom\u00e1ticas</li> </ul> <p>Es decir, si el paquete va por si solo guay, pero si tiene dependencias para poder funcionar, quiz\u00e1s no funcione. De hecho, si instalas un <code>.deb</code> con dependencias, el paquete puede quedar: en estado <code>half-installed</code> (en el punto 2.3 ver\u00e1s como ver si un paquete est\u00e1 half installed). Para arreglarlo, se ejecuta:</p> <pre><code>sudo apt -f install\n</code></pre> <p>Este comando hace que APT inspeccione los paquetes que han quedado a medio instalar y descargue e instale las dependencias que falten desde los repositorios configurados. En general, siempre que instales paquetes manualmente con <code>dpkg -i</code>, es recomendable ejecutarlo despu\u00e9s:</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#22-instalar-paquetes-con-dpkg-y-curl","title":"2.2 Instalar paquetes con DPKG y curl.","text":"<p>Hay veces que sabemos solo la url donde descargar el paquete.</p> <p>Vamos a utilizar primero un comando que nos descargue, directamente de una URL de internet, un paquete, para posteriormente instalarlo a mano con dpkg, es decir, bajo ning\u00fan concepto estamos utilzando repositorios de uibuntu (y por tanto estamos haciendo una mala pr\u00e1ctica).</p> <p>En primer lugar, descargamos un paquete .deb, al que con la opcion <code>-o</code> pondremos el nombre: vscode.deb</p> <pre><code>curl -L -o vscode.deb https://update.code.visualstudio.com/latest/linux-deb-x64/stable\n</code></pre> <p>la opci\u00f3n -L es para que siga reedirecciones y es muy importante dejarla puesta cada vez que se a descargar un paquete en internet.</p> <p>De hecho, lo anterior es equivalente a utilizar un <code>wget</code> (os sonar\u00e1 de la primer aclase cuando descargamos la iso de ubuntu):</p> <pre><code>wget -O vscode.deb https://update.code.visualstudio.com/latest/linux-deb-x64/stable\n</code></pre> <p>Posteriormente, se instala el paquete con la herramienta dpkg:</p> <pre><code>sudo dpkg -i vscode.deb\n</code></pre> <p>Al ejecutarlo os sladr\u00e1 esto:  Y, por \u00faltimo, tal y como avanc\u00e9 en el apartado anterior, se resuelven dependencias:</p> <pre><code>sudo apt -f install\n</code></pre> <p>De esta forma, hab\u00e9is instalado un paquete de forma manual.</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#23-ver-paquetes-instalados-o-desistalados-asi-como-las-dependencias-de-paquetes-instalados","title":"2.3 Ver paquetes instalados o desistalados as\u00ed como las dependencias de paquetes instalados.","text":"<p>Para ver si un paquete est\u00e1 instalado:</p> <pre><code>apt list --installed | grep nombre-del-paquete\n</code></pre> <p>que busca entre todos los paquetes instalados aquellos que contengan la palabra \"curl\" dentro de ellos. La salida del comando anterior es la siguiente:</p> <p></p> <p>Los que pone \" [instalado, autom\u00e1tico]\" son aquellos paquetes que se instalaron autom\u00e1ticamente como dependencias del primero de los paquetes. En general, para ver las dependencias de un paquete espec\u00edfico, se usa:</p> <pre><code>sudo apt-cache depends nombre-del-paquete\n</code></pre> <p>Con curl, tendr\u00edamos:</p> <pre><code>sudo apt-cache depends curl\n</code></pre> <p>que nos devuelve:</p> <p></p> <p>Con dpkg se puede hacer lo mismo, sin embargo, debes de poner el nombre exacto del paquete, cosa que con apt no era necesaria. Para ver si un paquete est\u00e1 instalado con dpkg, ejecuta:</p> <pre><code>dpkg -l nombre-del-paquete\n</code></pre> <p>Por ejemplo:</p> <pre><code>dpkg -l curl\n</code></pre> <p>devuelve:</p> <pre><code>ii  curl   8.5.0-2ubuntu10.6   amd64   command line tool...\n</code></pre> <p>La clave primera puede ser:</p> <p>Primera letra (Desired state):</p> <ul> <li>i = Install</li> <li>r = Remove (el usuario pidi\u00f3 eliminarlo, pero sin borrar configuraciones)</li> <li>p = Purge (el usuario pidi\u00f3 borrarlo todo: paquete y configs)</li> <li>u = uninstalled (el paquete se requiere desinstalado)</li> </ul> <p>Segunda letra (Current state):</p> <ul> <li>i = Installed</li> <li>c = Config-files (solo quedan archivos de configuraci\u00f3n)</li> <li>n = Not-installed</li> <li>u = Unpacked</li> <li>f = Half-configured</li> </ul> <p>Ojo, en ning\u00fan caso nos dir\u00e1 si sus dependencias se han desinstalado o no. En caso de no aparecer nada es que el paquete se ha desinstalado correctamente.</p> <p>Si no quieres que se tenga que poner el nombre exacto del paquete recomiendo usar:</p> <pre><code>dpkg -l | grep 'nombre del paquete'\n</code></pre> <p>Que ser\u00eda parecido a:</p> <pre><code>apt list --installed | grep nombre-del-paquete\n</code></pre> <p>del principio.</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#24-eliminar-paquetes-instalados-y-toda-su-informacion-residual","title":"2.4  Eliminar paquetes instalados y toda su informaci\u00f3n residual.","text":"<p>Para eliminar un paquete instalado, usa:</p> <pre><code>sudo apt remove curl\n</code></pre> <p>Esto:</p> <ul> <li>elimina los archivos binarios del paquete</li> <li>mantiene sus archivos de configuraci\u00f3n en <code>/etc</code></li> <li>NO elimina dependencias autom\u00e1ticas, incluso si ya no se usan</li> <li>el sistema conserva su configuraci\u00f3n si lo reinstalas</li> </ul> <p>De hecho, si ejecutas <code>apt remove</code> (no purge), el sistema deja el paquete en estado: \"rc\" al mirarlo con:</p> <pre><code>dpkg -l curl\n</code></pre> <p>tal y como haciamos en el punto anterior. Si tambi\u00e9n quieres eliminar las configuraciones del paquete usa:</p> <pre><code>sudo apt purge nombre-del-paquete\n</code></pre> <p>Esto borra: binarios, configuraciones en <code>/etc</code> y ficheros de estado internos del paquete</p> <p>Sin embargo, lo anterior no elimina las dependencias del paquete y para ello, hay que hacer:</p> <pre><code>sudo apt autoremove \n</code></pre> <p>Este comando elimina: todas las dependencias marcadas como <code>Auto-Installed: 1</code> y siempre que ning\u00fan otro paquete dependa de ellas.</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#25-un-ejemplo-de-casi-todo-lo-anterior-con-el-paquete-cowsay","title":"2.5 Un ejemplo de casi todo lo anterior con el paquete cowsay","text":"<p>Vemos un poco de todo lo anterior a trav\u00e9s del siguiente ejemplo;</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#a-buscar-el-paquete","title":"a) Buscar el paquete","text":"<p>Imaginamos que quiero instalar un paquete llamado \"cowsay\", pero no s\u00e9 si est\u00e1 disponible en mi sistema para ser instalado, as\u00ed que hago:</p> <pre><code>apt search cowsay\n</code></pre> <p>y observo que s\u00ed est\u00e1! Luego al estar en mis repositrorio oficial de ubuntu, lo puedo descargar si problema. </p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#b-ver-detalles-del-paquete","title":"b) Ver detalles del paquete","text":"<p>Despu\u00e9s vamos a ver la info de cowsay:</p> <pre><code>sudo apt show cowsay\n</code></pre> <p>Nos devuelve algo como:</p> <pre><code>Package: cowsay\nVersion: 3.03+dfsg2-8\nPriority: optional\nSection: universe/games\nOrigin: Ubuntu\nMaintainer: Ubuntu Developers &lt;ubuntu-devel-discuss@lists.ubuntu.com&gt;\nOriginal-Maintainer: James McDonald &lt;james@jamesmcdonald.com&gt;\nBugs: https://bugs.launchpad.net/ubuntu/+filebug\nInstalled-Size: 93,2 kB\nDepends: libtext-charwidth-perl, perl:any\n...\n</code></pre> <p>Aqu\u00ed vemos la parte importante: Dependencias:</p> <ul> <li><code>perl</code> (si no lo tienes ya instalado, APT lo a\u00f1adir\u00e1)</li> </ul>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#c-actualizar-la-lista-de-paquetes","title":"c) Actualizar la lista de paquetes","text":"<p>Siempre antes de instalar un paquete nuevo</p> <pre><code>sudo apt update\n</code></pre>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#d-instalar-el-paquete-sus-dependencias","title":"d)  Instalar el paquete + sus dependencias","text":"<pre><code>sudo apt install cowsay\n</code></pre> <p>Salida t\u00edpica:</p> <pre><code>Se instalar\u00e1n los siguientes paquetes NUEVOS:\n  cowsay perl\n</code></pre>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#e-ejecutar-el-programa","title":"e) Ejecutar el programa","text":"<p>En bash, escribe:</p> <pre><code>cowsay Hola soy manolo\n</code></pre>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#f-eliminar-el-paquete","title":"f) Eliminar el paquete","text":"<pre><code>sudo apt remove cowsay\n</code></pre> <p>Esto quita el programa, pero NO elimina las dependencias hu\u00e9rfanas.</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#g-limpiar-dependencias-huerfanas","title":"g) Limpiar dependencias hu\u00e9rfanas","text":"<pre><code>sudo apt autoremove\n</code></pre> <p>Esto elimina dependencias sobrantes, en eeste caso, PEARL</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#3-practica","title":"3-Pr\u00e1ctica","text":"<p>Ahora t\u00fa vas a hacer lo mismo, pero con otro paquete: neofetch (Aportando capturas de pantalla)</p> <p>Parte 1: Realiza estos pasos en tu Ubuntu:</p> <p>1) Buscar el nombre exacto del paquete para ver si coincide con el que te doy. Usa el comando de apt correspondiente para ver la prioridad del o de los que te salgan (usar apt-cache policy). 2)  Ver detalles del paquete (usar apt show). 3) Mirar las dependencias del paquete (apt-cache dependencies). 4) Antes de instalar, actualiza la lista de paquetes. 5) Instala el paquete anterior con el comando de apt correspondiente y con la opci\u00f3n -y para que las dependencias se instalen de forma autom\u00e1tica. 6) Ejecuta la utilidad neofetch, para comprobar que todo ha funcionado correctamente 7) Con dpkg -l, comprueba el estado del paquete. 8) Despu\u00e9s, eliminalo con el comando remove. 9) Con dpkg -l, comprueba el estado del paquete, \u00bfQu\u00e9 conclusi\u00f3n sacas? \u00bfhar\u00eda falta un apt purge del paquete anterior? 10) Por \u00faltimo, y como buena pr\u00e1ctica, \u00bfqu\u00e9 deber\u00edamos hacer para eliminar todas las dependencias hu\u00e9rfanas del sistema?</p> <p>Parte 2: Ahora del paquete python3, responde a las siguiente preguntas:</p> <ol> <li> <p>Con el comando de apt correspondiente, comprueba si ya tienes algun paquete con alg\u00fan nombre parecido instalado. Si quiero ver exactamente si ese paquete est\u00e1 instalado, \u00bfqu\u00e9 comando debo usar?</p> </li> <li> <p>\u00bfCuanto paquetes distintos te salen al hacer un apt search? \u00bfPorqu\u00e9 tantos? </p> </li> <li> <p>Con apt cache, determina cual es el siguiente paquete candidato a ser instalado y determina el porqu\u00e9, mirando tanto la prioridad como la suite.</p> </li> <li> <p>Mirar las dependencias del paquete si usar el apt show.</p> </li> <li> <p>Antes de instalar, actualiza la lista de paquetes.</p> </li> <li> <p>Si no lo tienes instalado (o aunque lo tengas) pon y ejecuta el comando que Instala el paquete anterior con el comando de apt correspondiente y con la opci\u00f3n -y para que las dependencias se instalen de forma autom\u00e1tica.</p> </li> <li> <p>Escribe en la terminal python3, para comprobar que todo ha funcionado correctamente. despu\u00e9s escribe:</p> </li> </ol> <pre><code>print \"hola mundo\"\n</code></pre> <ol> <li> <p>Con dpkg -l, comprueba el estado del paquete.</p> </li> <li> <p>Despu\u00e9s, el\u00edminalo con el comando remove, \u00bfte deja?, \u00bfQu\u00e9 crees que pasa en este caso?</p> </li> </ol> <p>Parte 3: A continuaci\u00f3n, instala los siguientes paquetes a mano haciendo un curl de cada uno de ellos:</p> <pre><code>https://download.docker.com/linux/ubuntu/dists/noble/pool/stable/amd64/containerd.io_1.7.27-1_amd64.deb\n\nhttps://download.docker.com/linux/ubuntu/dists/noble/pool/stable/amd64/docker-ce-cli_28.4.0-1~ubuntu.24.04~noble_amd64.deb\n\nhttps://download.docker.com/linux/ubuntu/dists/noble/pool/stable/amd64/docker-ce_28.4.0-1~ubuntu.24.04~noble_amd64.deb\n\nhttps://download.docker.com/linux/ubuntu/dists/noble/pool/stable/amd64/docker-buildx-plugin_0.28.0-0~ubuntu.24.04~noble_amd64.deb\n\nhttps://download.docker.com/linux/ubuntu/dists/noble/pool/stable/amd64/docker-compose-plugin_2.39.4-0~ubuntu.24.04~noble_amd64.deb\n</code></pre> <p>-\u00bfQu\u00e9 comando de apt debes ejecutar despu\u00e9s como buenas pr\u00e1ctica por si faltan dependencias de los paquetes anteriores?</p> <p>-Comprueba los nombres de los paquetes instalados usando alg\u00fan comando de apt o dpkg:</p> <p>-Elimina cada uno de los paquetes anteriores con la opcion -r en vez de -i de dpkg. \u00bfQue diferencia hay con los nombres de los archivos al poner -r en vez de -i? </p> <ul> <li>Con dpkg, comprueba el estado del paquete antes de eliminarlo.</li> <li>Si hubo problemas, intenta eliminarlos con apt remove</li> <li>Si haz necesitado del paso anterior, con dpkg, comprueba el estado del paquete despu\u00e9s de eliminarlo.</li> <li> <p>\u00bfQu\u00e9 comando debes usar para eliminar archivos de config residuales? \u00bfLos hay en este caso?</p> </li> <li> <p>\u00bfQu\u00e9 comando debes usar para eliminar dependencias hu\u00e9rfanas despues de eliminar a mano los paquetes anteriores? </p> </li> <li>Comprueba que no queden residuos de los paquetes desinstalados.</li> </ul>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#4-anadir-nuevos-repositorios-a-ubuntu","title":"4 A\u00f1adir nuevos repositorios a Ubuntu","text":"<p>Pienso que lo siguiente se entiende mejor con un ejemplo. En el punto 1.2 vimos todos los remos que yo ten\u00edan en mis sitema, haciendo:</p> <pre><code>ls /etc/apt/sources.list.d/\n</code></pre> <p>Ahora bien \u00bfPara que quiero a\u00f1adir un repositorio? Es posible que el repo oficial de ubuntu no distribuya software espec\u00edfico (como docker). Sin embargo, es posible que docker tenga un repositorio oficial a trav\u00e9s del cual podr\u00e9 instalar su paquetes con el comando <code>apt</code>. Sin embargo, tengo primero que a\u00f1adirlo y certificar de alguna forma que este repo es oficial.</p> <p>Para esto, no hay una gu\u00eda espec\u00edfica, pero si es cierto que se suelen seguir una serie de pasos predefinidos, cuyos comandos pueden cambiar. Para entender el punto 4.2, necesitaremos un concepto previo de comandos en el 4.1</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#41-here-document","title":"4.1 Here document","text":"<p>En primer lugar, os invito a escribir \"cat \" en la terminal y posteriormente, escribir algo y pulsar enter. Lo que pasa es que \"cat\", imprime de vuelta lo que hayas escrito.</p> <p></p> <p>En este ejemplo, yo escrib\u00ed hola y me respondi\u00f3 lo mismo, como era de esperar. Ahora bien, cuando en el examen anterior cre\u00e1bamos archivos con cat lo que hac\u00edamos realmente era redirigir la salida de nuestro cat a un archivo de texto. Es decir,  al hacer \"cat hola\" hemos visto que nos devolv\u00eda hola por pantalla. Al juntar cat con \"&gt;&gt;\" ya nos devuelve lo mismo que escribimos por pantalla sino que eso que escribimos se redirije al archivo ejemplo.txt, tal y como pasa en el siguiente ejemplo.</p> <p></p> <p>En lo anterior, no hay nada nuevo que no sepas. Lo nuevo viene ahora. Un \"here document\" es una construcci\u00f3n de la consola que permite suministrar un bloque de texto completo como entrada est\u00e1ndar a un comando. Por ejemplo, al escribir cat en la consola hemos visto que se queda esperando a que le pasemos texto, por tanto, esa es la \"entrada est\u00e1ndar\" del cat. Siguiendo con la explicaci\u00f3n de un here document, podemos suministar un bloque de texto a cat sin necesidad de escribir ese texto manualmente o de guardarlo en un archivo temporal. Esto se hace con la sint\u00e1sis;</p> <pre><code>cat &lt;&lt;EOF\nUsuario: $USER Fecha: $(date)\nEOF\n</code></pre> <p>En la pr\u00e1ctica el comando anterior funciona como si estuvieras escribiendo a mano ese texto. ya que, si haces <code>cat &lt;&lt;EOF</code>, la shell entiende que todo lo que escribas hasta volver a ver la palabra <code>EOF</code> debe enviarlo a cat. </p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#42-el-comando-tee-y-el-uso-de-pipes","title":"4.2 El comando tee y el uso de pipes","text":"<p>Primero tenemos que entender el comando tee. Si en terminal yo escribo:</p> <pre><code>sudo tee hola.txt\n</code></pre> <p>y justo despu\u00e9s de pulsar enter escribo <code>\"hola\"</code> en la terminal y cierro con Cntrl+C, lo anterior es equivalente al comando:</p> <pre><code>sudo echo \"hola\" &gt; hola.txt\n</code></pre> <p>pero el primer comando evita problemas de permisos que podr\u00edamos tener en el archivo hola.txt si llegara a ser de root. Ahora bien,  el uso del primer comando + escribir \"hola\" en terminal justo despu\u00e9s, es quivalente a esto:</p> <pre><code>echo \"hola\" | sudo tee hola.txt\n</code></pre> <p>Que nos devuelve \"hola\" en pantalla y mete \"hola\" en hola.txt. De hecho, podemos reescribir el  comando anterior as\u00ed:</p> <pre><code>echo \"hola\" | sudo tee /root/archivo &gt; /dev/null\n</code></pre> <p>Y as\u00ed evitamos que nos devuelva \"hola\" por pantalla y s\u00f3lo lo meta en el txt. En el comando anterior aparece por primera vez el s\u00edmbolo <code>|</code> tambi\u00e9n denominado como <code>pipe</code> o <code>tuber\u00eda</code>. Lo \u00fanico que hace es pasar la salida de <code>echo \"hola\"</code> a <code>sudo tee /root/archivo</code> y as\u00ed no tenemos que escribir a mano \"hola\" en la terminal despu\u00e9s de escribir: <code>sudo tee hola.txt</code>. Por \u00faltimo, el \u00faltimo comando (el de la tuber\u00eda), es equivalente a:</p> <pre><code>sudo tee /root/archivo &gt; /dev/null &lt;&lt;EOF\nhola\nEOF\n</code></pre>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#43-anadir-la-clave-del-repositorio","title":"4.3 A\u00f1adir la clave del repositorio","text":"<p>APT solo conf\u00eda en un repositorio si puede verificar que la informaci\u00f3n que recibe est\u00e1 firmada con una clave GPG oficial del proveedor. Con la firma GPG, APT puede comprobar que la lista de paquetes procede realmente del proveedor leg\u00edtimo y no ha sido alterada en el camino. Sin esta clave, APT directamente se negar\u00eda a usar ese repo. En el caso de Docker y otros muchos,  la mayor\u00eda de creadores de software, publican su clave oficial en su p\u00e1gina de repositorios:</p> <p>https://docs.docker.com/engine/install/ubuntu/#install-using-the-repository</p> <p></p> <p>De hecho, el propio Docker nos otorga estas instrucciones</p> <pre><code># Add Docker's official GPG key:\nsudo apt update\nsudo apt install ca-certificates curl\nsudo mkdir -p /etc/apt/keyrings\nsudo chmod 755 /etc/apt/keyrings\nsudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc\nsudo chmod +r /etc/apt/keyrings/docker.asc\n</code></pre> <pre><code># Add the repository to Apt sources:\nsudo tee /etc/apt/sources.list.d/docker.sources &gt; /dev/null &lt;&lt;EOF\nTypes: deb\nURIs: https://download.docker.com/linux/ubuntu\nSuites: $(. /etc/os-release &amp;&amp; echo \"${UBUNTU_CODENAME:-$VERSION_CODENAME}\")\nComponents: stable\nSigned-By: /etc/apt/keyrings/docker.asc\nEOF\n</code></pre> <pre><code>sudo apt update\nsudo apt install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n</code></pre> <p>Vamos paso a paso para entender lo que pasa aqu\u00ed:</p> <p>-<code>sudo apt install ca-certificates curl</code>: Ambos paquetes (curl y el otro) son esenciales si vas a a\u00f1adir repositorios externos, descargar claves GPG o consumir APIs desde l\u00ednea de comandos.</p> <p>-<code>sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc</code>: curl usa aqu\u00ed las opciones <code>fsSL</code>. Con la opci\u00f3n -f, nos aseguramos que no se guardar\u00e1 basuara en caso de fallar, con la opci\u00f3n S muestra errores, y con la L, sigue redirecciones. La opci\u00f3n s min\u00fascula no tiene porqu\u00e9 ponerse. La opci\u00f3n -o indica donde guardar el archivo.</p> <p>-<code>sudo tee /etc/apt/sources.list.d/docker.sources &gt; ...</code> </p> <p>Por el punto anterior vimos que este comando es quivalente a:</p> <pre><code>echo \"Types: deb\nURIs: https://download.docker.com/linux/ubuntu\nSuites: $(. /etc/os-release &amp;&amp; echo \"${UBUNTU_CODENAME:-$VERSION_CODENAME}\")\nComponents: stable\nSigned-By: /etc/apt/keyrings/docker.asc\" \\\n| sudo tee /etc/apt/sources.list.d/docker.sources &gt; /dev/null\n</code></pre> <p>que no es m\u00e1s que meter toda esa info dentro del archivo \"/etc/apt/sources.list.d/docker.sources\".</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#5-practica","title":"5-Pr\u00e1ctica","text":"<p>a) Sobre el ejemplo anterior, a\u00f1ade y muestra en pantalla la informaci\u00f3n del repositorio de docker.</p> <p>b) Descarga la clave de https://packages.microsoft.com/keys/microsoft.asc gpg y a\u00f1adela /etc/apt/keyrings/microsoft.asc dandole permisos de lectura a este archivo.</p> <p>c) Utilizando el comando tee y un \"here document\", a\u00f1ade a este repositorio a la carpeta adecuada, llamado: vscode.sources. <pre><code>Types: deb\nURIs: https://packages.microsoft.com/repos/code\nSuites: stable\nComponents: main\nSigned-By: /etc/apt/keyrings/microsoft.asc\n</code></pre></p> <p>d) Realiza un update del sistema para ver si est\u00e1 todo correcto,</p> <p>e) Busca con apt que el paquete code est\u00e1 disponible. Posteriormente, inst\u00e1lalo.</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#6-practica","title":"6-Pr\u00e1ctica","text":"<p>a) Desinstala el paquete de typora quitando toda la configuracion o dependencias y comprobando que, efectivamente, no dejas nada.</p> <p>b) Despu\u00e9s, vamos a ir un poco mas all\u00e1 y vas a eliminar tambi\u00e9m el repositorio de typora que a\u00f1adiste a principio de curso (b\u00fascalo en <code>/etc/apt/sources.list.d/typor...</code> ) con un <code>ls</code> para localizar los posibles repositorios de typora.  Una vez y una vez localizados los repositorios de typora en tu sistema, por favor, hazle un cat a los repositorios para quedarte con las direcciones de las claves <code>gpg</code> de dichos repositorios y as\u00ed poder borrarlas despu\u00e9s. Para borrarlos, usa el comando <code>rm</code> que sirve para borrar un archivo. En este caso, borrar\u00e1s una carpeta as\u00ed que pin la opci\u00f3n <code>rm -r</code>.</p> <p>c) Desupu\u00e9s, de igual forma, borra la clave de typora (conseguidas en el apartado anterior), busc\u00e1ndolas tambi\u00e9n en: <code>/etc/apt/keyrings/typor...</code> y en <code>/etc/apt/trusted.gpg.d/typo</code></p> <p>d) Cuando el primer d\u00eda de clase instalamos typora, aparec\u00eda esto:</p> <pre><code>sudo mkdir -p /etc/apt/keyrings\n\ncurl -fsSL https://downloads.typora.io/typora.gpg | sudo tee /etc/apt/keyrings/typora.gpg &gt; /dev/null\n\n# add Typora's repository securely\n\necho \"deb [signed-by=/etc/apt/keyrings/typora.gpg] https://downloads.typora.io/linux ./\" | sudo tee /etc/apt/sources.list.d/typora.list\n\nsudo apt update\n\n# install typora\n\nsudo apt install typora\n</code></pre> <p>Explica paso a paso que se est\u00e1 haciendo aqu\u00ed \u00bfC\u00f3mo lo podr\u00edas hacer la parte del <code>tee</code> con un <code>Here document</code>? \u00bfQuien es la <code>URI</code> del repo anterior? \u00bfY las <code>suite</code>? \u00bfY las <code>componentes</code>?</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#7-aislar-programas-para-usuarios","title":"7- Aislar programas para usuarios","text":""},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#71-editando-el-binario","title":"7.1- Editando el binario","text":"<p>En los sistemas basados en Debian/Ubuntu APT no ofrece un mecanismo para instalar un paquete del sistema solo para un usuario concreto. APT instala siempre a nivel de sistema: en <code>/usr/bin</code>, <code>/usr/lib</code>, <code>/etc</code>, etc., y por tanto el software queda accesible para todos los usuarios. Hay \u00fanicamente tres estrategias v\u00e1lidas para conseguir un efecto equivalente: control de permisos o instalaciones locales por usuario.</p> <p>Identificar el binario, por ejemplo:</p> <pre><code>which typora\n</code></pre> <p>Cambiar el propietario a un usuario espec\u00edfico:</p> <pre><code>sudo chown usuario_permitido:usuario_permitido /usr/bin/typora\n</code></pre> <p>Restringir permisos:</p> <pre><code>sudo chmod 700 /usr/bin/typora\n</code></pre> <p>Solo <code>usuario_permitido</code> puede ejecutar el binario.</p>"},{"location":"TEMA3/Practicas/4%C2%AA%20Practica%20APT/#72-creando-grupos-de-aislamiento","title":"7.2- Creando grupos de aislamiento","text":"<p>Vuelve a instalar docker, en este caso mediante su repositorio, Despu\u00e9s, el objetivo es que no todo el mundo tenga acceso a Docker. Para ello, no tienes que editar el binario como en el caso anterior. De hecho, Docker funciona a trav\u00e9s de los siguientres tres ficheros:</p> <ul> <li><code>/usr/bin/docker</code>  Es un binario que traduce los comando de docker (como docker ps) a preticiones con el comando curl. Por ejemplo:</li> </ul> <pre><code>docker ps\n#Es equivalente a\ncurl --unix-socket /var/run/docker.sock http://localhost/containers/json\n</code></pre> <p>Como puedes observar lo unico que hace es traducir un comando a una petici\u00f3n a <code>/var/run/docker.sock</code>, quien es quien realmente sabe qu\u00e9 hacer.</p> <ul> <li><code>/var/run/docker.sock</code> se expone ah\u00ed lo que se conoce como una API REST. Cualquier proceso, como un usuario mediante terminal, o un sistema, le enviar\u00e1 peticiones a ese socket (como en el ejemplo anterior) que lo que hace es ejecutar por debajo el demonio dockerd.</li> <li><code>/usr/bin/dockerd</code> Es un programa que <code>var/run/docker.sock</code> ejecuta en segundo plano (es un demonio). Este binario es el verdaderamente importante, ya que crea contenedores, los para, monta vol\u00famenes. Eso s\u00ed, necesita de <code>/var/run/docker.sock</code> para saber qu\u00e9 haer.</li> </ul> <pre><code>manolo@manolo:~$ ls -ld /usr/bin/docker\n-rwxr-xr-x 1 root root 43976685 nov 28 12:33 /usr/bin/docker\nmanolo@manolo:~$ ls -ld /var/run/docker.sock\nsrw-rw---- 1 root docker 0 dic  2 11:12 /var/run/docker.sock\nmanolo@manolo:~$ ls -ld /usr/bin/dockerd\n-rwxr-xr-x 1 root root 94454968 nov 28 12:33 /usr/bin/dockerd\n</code></pre> <p>Si yo intento hacer: </p> <pre><code>manolo@manolo:~$ docker ps\npermission denied while trying to connect to the docker API at unix:///var/run/docker.sock\n</code></pre> <p>Me da error de permisos. Pero si hago:</p> <pre><code>sudo chmod 777 /var/run/docker.sock\n</code></pre> <p>o a\u00f1adimos a manolo al grupo  que aparece aqu\u00ed:</p> <pre><code>manolo@manolo:~$ ls -ld /var/run/docker.sock\nsrw-rw---- 1 root docker 0 dic  2 11:12 /var/run/docker.sock\n</code></pre> <p>es decir,</p> <pre><code>sudo gpasswd -a  manolo docker\n</code></pre> <p>Manolo podr\u00e1 hacer:</p> <pre><code>docker ps\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/","title":"Comandos esenciales de Linux con ejemplos","text":"<p>Este documento resume el funcionamiento de algunos de los comandos m\u00e1s importantes del entorno GNU/Linux, con explicaciones claras y ejemplos pr\u00e1cticos.</p>"},{"location":"TEMA3/Practicas/comandos/#apendice-1o-patrones-globs","title":"Ap\u00e9ndice 1\u00ba. Patrones globs","text":"<p>Los globs son patrones de coincidencia de nombres usados por Bash y por los comandos m\u00e1s comunes (los veremos todos a lo largo de la pr\u00e1ctica) como:</p> <ul> <li><code>ls</code></li> <li><code>cp</code></li> <li><code>mv</code></li> <li><code>rm</code></li> <li><code>find</code> (concretamente en su ipci\u00f3n name)</li> </ul> <p>Estos tipos de patrones no te deben sonar como algo nuevo, ya que en la pr\u00e1ctica guiada dos los trabjastes con muchos ejemplos del comando <code>ls</code>. Los globs usan principalmente 4 s\u00edmbolos:</p> S\u00edmbolo Significado <code>*</code> 0 o m\u00e1s caracteres <code>?</code> 1 car\u00e1cter <code>[ ]</code> conjunto o rango <code>!</code> dentro de <code>[]</code> negaci\u00f3n <p>Y estos s\u00edmbolos se entienden mejor con ejemplos:</p>"},{"location":"TEMA3/Practicas/comandos/#ejemplos-globs","title":"Ejemplos globs","text":"<p>Os recomiendo que os mir\u00e9is los ejemplos de la pr\u00e1ctica guiada dos que hicimos con el comando ls, sin embargo, vamos a a\u00f1adir m\u00e1s ejemplos incluso con comandos que todav\u00eda desconoc\u00e9is los cuales se ver\u00e1n m\u00e1s detalladamente a lo largo de esta pr\u00e1ctica.</p>"},{"location":"TEMA3/Practicas/comandos/#ejemplos-con","title":"Ejemplos con <code>*</code>","text":"<pre><code>ls *.txt\n</code></pre> <p>Lista todos los archivos acabados en txt</p> <pre><code>ls a*\n</code></pre> <p>Archivos que empiezan por a:</p> <pre><code>ls *a*\n</code></pre> <p>rchivos que contengan la letra <code>a</code> en cualquier parte.</p>"},{"location":"TEMA3/Practicas/comandos/#ejemplos-con_1","title":"Ejemplos con <code>?</code>","text":"<pre><code>ls ?.txt\n</code></pre> <p>Significa exactamente un car\u00e1cter antes de .txt, el que sea</p> <pre><code>ls file??.png\n</code></pre> <p>Significa exactamente dos car\u00e1cteres antes de .png y despu\u00e9s de file, el que sea.</p>"},{"location":"TEMA3/Practicas/comandos/#ejemplos-con_2","title":"Ejemplos con <code>[]</code>","text":"<p>Sirven para exigir que un solo car\u00e1cter sea uno de los indicados.</p> <pre><code>ls file[123].txt\n</code></pre> <p>Significa exactamente un car\u00e1cter antes de .png y despu\u00e9s de file, que debe ser 1 2 o 3. tambi\u00e9 se pueden poner rangos, como en el siguiente ejemplo:</p> <pre><code>ls [a-f]*.?txt\n</code></pre> <p>Significa exactamente el primer car\u00e1cter va de la <code>a</code> a la <code>f</code> (min\u00fasculas) y a partir de ah\u00ed, lo que sea hasta terminar en .txt, pero justo despu\u00e9s del <code>.</code> va un car\u00e1cter, el que sea.</p> <pre><code>ls [aeiouAEIOU]*\n</code></pre> <p>Significa que los archivos comienzan por cualquier letra dentro del bloque anterior</p> <pre><code>ls *[._-]*\n</code></pre> <p>Significa que en su nombre o extensi\u00f3n, los archivos deben contener un punto, guion o subrayado en medio</p>"},{"location":"TEMA3/Practicas/comandos/#negacion-dentro-de-x","title":"Negaci\u00f3n dentro de <code>[ ]</code> \u2192 <code>[!x]</code>","text":"<p>Los bloques [] se pueden negar.</p> <pre><code>ls [!a-f]*.txt\n</code></pre> <p>Significa exactamente el primer car\u00e1cter no puede ser de la <code>a</code> a la <code>f</code> (min\u00fasculas) y a partir de ah\u00ed, lo que sea hasta terminar en .txt</p> <pre><code>ls [!0-9]*.???\n</code></pre> <p>Significa exactamente el primer car\u00e1cter no puede ser de la <code>0</code> al  <code>9</code> y a partir de ah\u00ed, lo que sea hasta terminar una extensi\u00f3n con tres caracteres cualesquiera, como pdf o txt...</p>"},{"location":"TEMA3/Practicas/comandos/#apendice-2o-patrones-regexp-simples","title":"Ap\u00e9ndice 2\u00ba. Patrones regexp simples","text":"<p>Estos funcionan en comandos como <code>grep</code> normal o incluso <code>awk</code> pero no con los comandos que mencionamos antes.</p>"},{"location":"TEMA3/Practicas/comandos/#el-punto-cualquier-caracter","title":"El punto <code>.</code> \u201ccualquier car\u00e1cter\u201d","text":"<pre><code>grep \"c.sa\" archivo\n</code></pre> <p>En cada l\u00ednea del archivo, busca las cadenas donde el segundo car\u00e1cter puede ser cualquier valor, es decir, el <code>.</code> es equivalente a <code>?</code> en los patrones globs. Por dar m\u00e1s claridad el ejemplo anterior, si tengo un txt con este contenido:</p> <pre><code>Hola que tal\nmi casa es bonita\nmi cosa favorita es el youtube\nmi cama es grande\nmi casa es fea ahora\n</code></pre> <p>Al ejecutar el comando anterior nos devolver\u00e1 las l\u00edneas que contienen coincidencias, que son:</p> <pre><code>mi casa es bonita\nmi cosa favorita es el youtube\nmi casa es fea ahora\n</code></pre> <p>ya que la \u00fanica letra que puede ser cualquier cosa es el <code>.</code> Si no enteindes el comando grep bien, ve al punto siguiente.</p>"},{"location":"TEMA3/Practicas/comandos/#el-asterisco-una-o-mas-repeticiones-del-caracter-anterior","title":"El asterisco <code>*</code> : \u201cuna o m\u00e1s repeticiones del car\u00e1cter anterior\u201d","text":"<pre><code>grep \"ab+c\" archivo\n</code></pre> <p>En cada l\u00ednea del archivo, busca las cadenas donde el segundo car\u00e1cter <code>b</code> en este caso puede repetirse tantas veces como se quiera (no 0). Si el archivo tuviera dentro:</p> <pre><code>ac\nadbc\nabbbc\nadc\nacd\nacccb\nabbbbbcxyz\n</code></pre> <p>nos devolver\u00eda las l\u00edneas</p> <pre><code>abbbc\nabbbbbcxyz\n</code></pre> <p>Ojo, en ning\u00fan momento estamos pidiendo que la l\u00ednea del archivo acabe en c, por eso el ejemplo <code>abbbbbcxyz</code> sigue tambi\u00e9n el patr\u00f3n. Si queremos que la l\u00ednea acabe en <code>c</code> tenemos que estudiar el uso de anclas (en dos puntos dentro de este apartado)</p>"},{"location":"TEMA3/Practicas/comandos/#el-asterisco-cero-o-mas-repeticiones-del-caracter-anterior","title":"El asterisco <code>*</code> : \u201ccero o m\u00e1s repeticiones del car\u00e1cter anterior\u201d","text":"<pre><code>grep \"ab*c\" archivo\n</code></pre> <p>En cada l\u00ednea del archivo, busca las cadenas donde el segundo car\u00e1cter <code>b</code> en este caso puede repetirse tantas veces como se quiera (incluso 0). Si el archivo tuviera dentro:</p> <pre><code>ac\nadbc\nabbbc\nadc\nacd\nacccb\nabbbbbcxyz\n</code></pre> <p>nos devolver\u00eda las l\u00edneas</p> <pre><code>ac\nabbbc\nabbbbbcxyz\n</code></pre> <p>Ojo, en ning\u00fan momento estamos pidiendo que la l\u00ednea del archivo acabe en c, por eso el ejemplo <code>abbbbbcxyz</code> sigue tambi\u00e9n el patr\u00f3n. Si queremos que la l\u00ednea acabe en <code>c</code>, veremos el uso de anclas en el siguiente punto que nos explicar\u00e1 como hacerlo.</p>"},{"location":"TEMA3/Practicas/comandos/#anclas-y","title":"Anclas: <code>^</code> y <code>$</code>","text":"<p><code>^</code> marca el Inicio de l\u00ednea y <code>$</code> el final de l\u00ednea</p> <pre><code>grep \"txt$\" archivo\n</code></pre> <p>las \u00edneas pueden empezar en lo que sea, pero deben acabar s\u00ed o s\u00ed en txt</p> <pre><code>grep \"^txt\"\n</code></pre> <p>las \u00edneas deben empezar en txt, pero peuden acabar en lo que sea</p> <pre><code>grep \"^txt$\"\n</code></pre> <p>La l\u00ednea del archivo debe ser exactamente txt</p> <pre><code>grep \"^$\" archivo\n</code></pre> <p>Busca l\u00edneas vac\u00edas</p> <pre><code>grep \"^ab*c$\" archivo\n</code></pre> <p>La l\u00ednea debe empezar en <code>a</code>, terminar en <code>c</code> y la b se puede repetir tantas veces como se quiera (incluso 0)</p>"},{"location":"TEMA3/Practicas/comandos/#clases-de-caracteres","title":"Clases de caracteres <code>[ ]</code>","text":"<p>Sirven para aceptar uno entre varios caracteres y se suelen mezclar con <code>*</code> y <code>+</code>.</p> <pre><code>grep \"c[ae]sa\" archivo\n</code></pre> <p>las \u00edneas pueden empezar en lo que sea, pero dentro de ellas se buscan secuencias donde primero va la c, despu\u00e9s una a o una e y despu\u00e9s sa. Por ejemplo, en este archivo:</p> <pre><code>hola casa mia\nhola\ncesta\n-----cesa de preguntar---\n-----ceesa de preguntar---\ncasa casa casa casa\ncesa casa\n</code></pre> <p>el resultado ser\u00eda:</p> <pre><code>hola casa mia\nhola\ncesta\n-----cesa de preguntar---\n-----ceesa de preguntar---\ncasa casa casa casa\ncesa casa\n</code></pre> <pre><code>grep \"[0-9]\" archivo\ngrep \"[A-Z]\" archivo\ngrep \"^[!a-z0-9]\" archivo\ngrep \"^[0-9]+.*[ba]$\" archivo\n</code></pre> <p>El primer dice: cualquier l\u00ednea que contenta un n\u00famero</p> <p>El segundo dice: cualquie \u00ednea que contenga una letra may\u00fascula al final de la misma</p> <p>El tercero dice: cualquier l\u00ednea que NO comience por una letra min\u00fascula o un n\u00famero</p> <p>El cuarto dice: cualquier l\u00ednea que comience por al menos n\u00famero (uno o muchos). Despu\u00e9s puede ir cualquier car\u00e1cter ya que hay un <code>.</code> y ese car\u00e1cter puede repetirse tantas veces como se quiera (incluso vac\u00edo), ya que le sigue un <code>*</code>. Por \u00faltimo hay un <code>[ba]</code> lo que significa que la l\u00ednea debe terminar en b o en a.</p>"},{"location":"TEMA3/Practicas/comandos/#1-grep","title":"1. <code>grep</code>","text":"<p>Busca texto dentro de archivos o dentro de la salida de otros comandos. </p>"},{"location":"TEMA3/Practicas/comandos/#sintaxis","title":"Sintaxis","text":"<pre><code>grep [opciones] 'patr\u00f3n regexp' archivo\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#salida","title":"Salida:","text":"<p><code>grep</code> devuelve (muestra por pantalla) las l\u00edneas completas del archivo que contienen el patr\u00f3n buscado.</p>"},{"location":"TEMA3/Practicas/comandos/#ejemplos","title":"Ejemplos","text":"<p>Buscar una palabra en un archivo (busca error)</p> <pre><code>grep \"error\" /var/log/syslog\n</code></pre> <p>Ignorar may\u00fasculas/min\u00fasculas de la palabra o regexp puesta</p> <pre><code>grep -i \"^[0-9]+.*[ba]$\" fichero.txt\n</code></pre> <p>Mostrar n\u00famero de l\u00ednea (aparte de la linea)</p> <pre><code>grep -n \"^.root\" /etc/passwd\n</code></pre> <p>Buscar recursivamente. Cuando usas <code>grep -R</code>, la salida incluye el nombre del archivo, seguido de la l\u00ednea que contiene la coincidencia, separadas por dos puntos.</p> <pre><code>grep -R \"^database[.]+\" /home/manolo/proyecto/\ngrep -R \"^database\\.+\" /home/manolo/proyecto/ #esta l\u00ednea es equivalente a la anterior, busca porqu\u00e9\n</code></pre> <p>\u00bfQu\u00e9 pasa si solo quieres que devuelva el nombre del archivo? Para ello usa el filtro <code>-l</code></p> <p>Con <code>-l</code>:</p> <ul> <li>No muestra el contenido.</li> <li>Muestra \u00fanicamente los nombres de los archivos que contienen coincidencias.</li> </ul> <pre><code>grep -Rl \"database\" /home/manolo/proyecto/\n</code></pre> <p>Filtrar las lieneas de la salida de otro comando usando un <code>|</code> : Lo que hace esto es que en vez de pasar un txt al comando, filtramos la salida de otro comando, como un ls.</p> <pre><code>ls -l | grep nginx\n</code></pre> <p>Contar cu\u00e1ntas coincidencias hay se hace con <code>-c</code></p> <pre><code>grep -c \"error\" archivo.txt\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#2-find","title":"2. <code>find</code>","text":"<p>Busca archivos y directorios seg\u00fan criterios. El comando <code>find</code> devuelve (muestra en pantalla) una lista de rutas completas (l\u00edna por archivo) de todos los archivos o directorios que cumplen los criterios especificados.</p>"},{"location":"TEMA3/Practicas/comandos/#sintaxis_1","title":"Sintaxis","text":"<pre><code>find ruta -name patron globs [criterios] [acciones]\n</code></pre> <p>No veremos la parte de acciones porque para eso combinaremos con pipes.</p>"},{"location":"TEMA3/Practicas/comandos/#salida_1","title":"Salida","text":"<pre><code>/home/manolo/documentos/notas.txt\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#ejemplos_1","title":"Ejemplos","text":"<p><code>find -name</code> puede usar exactamente los mismos patrones (globs) que usamos en <code>ls</code> y que tambi\u00e9n podr\u00e1n usar otros comandos como: <code>ls</code>, <code>cp</code>, <code>mv</code>, <code>rm</code>...</p> <p>Buscar por nombre</p> <pre><code>find /home -name \"documento_?.txt\"\n</code></pre> <p>Buscar ignorando may\u00fasculas</p> <p>En este caso da igual las may\u00fasculas y lo que haya por delante y por detr\u00e1s de baclup</p> <pre><code>find . -iname \"*backup*\"\n</code></pre> <p>Buscar por tama\u00f1o</p> <pre><code>find /var -size +100M\n</code></pre> <p>Filtar por tipo</p> <pre><code>find ruta -type X\n</code></pre> <p>La opci\u00f3n <code>-type</code> sirve para filtrar por tipo de archivo.</p> Tipo Significado <code>f</code> archivo normal (file) <code>d</code> directorio <code>l</code> enlace simb\u00f3lico (link) <code>s</code> socket <code>b</code> bloque (dispositivos tipo <code>/dev/sda</code>) <p>Buscar archivos modificados en carpeta actual hace menos de 2 d\u00edas</p> <pre><code>find . -mtime -2\n</code></pre> <p>Eliminar archivos encontrados (la acci\u00f3n por defecto es print)</p> <pre><code>find . -name \"*.log\" -delete\n</code></pre> <p>Ejecutar un comando espec\u00edfico por cada archivo:<code>-exec comando {} \\</code></p> <p>Ejecuta un comando por cada archivo encontrado.</p> <p>Ejemplo:</p> <pre><code>find . -name \"*.txt\" -exec wc -l {} \\;\nfind . -type f -exec chmod 644 {} \\;\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#3-awk","title":"3. awk","text":"<p><code>awk</code> es un lenguaje de procesamiento de texto orientado a columnas, ideal para:</p> <ul> <li>Filtrar l\u00edneas por patrones (regex)</li> <li>Extraer columnas</li> <li>Realizar c\u00e1lculos</li> </ul> <p>Es una versi\u00f3n extendida del comando grep, ya que peude hacer lo que \u00e9l hace pero mucho m\u00e1s potente.</p>"},{"location":"TEMA3/Practicas/comandos/#sintaxis_2","title":"Sintaxis","text":"<p>Su sintaxis general:</p> <pre><code>awk '/patron regexp/ + {accion} ' archivo\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#salida_2","title":"Salida","text":"<p><code>awk</code> devuelve (muestra por pantalla) las l\u00edneas completas del archivo que contienen el patr\u00f3n buscado</p>"},{"location":"TEMA3/Practicas/comandos/#ejemplos_2","title":"Ejemplos","text":"<pre><code>grep '^[0-9]' fichero.txt\n</code></pre> <p>con grep esto ser\u00edan las l\u00edneas que comienzan por un n\u00famero. Con awk ser\u00e1 IGUAL, excepto que debe ir la expresi\u00f3n regular entre \"/\"</p> <pre><code>awk '/^[0-9]/' fichero.txt\n</code></pre> <p>Una acci\u00f3n important\u00edsima de awk es que puede dividir las l\u00edneas por columnas, es decir, si en un fichero tengo:</p> <pre><code>Juan    20  Sevilla\nAna     19  Madrid\nLuis    22  Valencia\n</code></pre> <p>Puedo mostrar la primer columna as\u00ed:</p> <pre><code>awk '{print $1}' alumnos.txt\n</code></pre> <p>que nos devuelve:</p> <pre><code>Juan\nAna\nLuis\n</code></pre> <p>O mostrar nombre + ciudad</p> <pre><code>awk '{print $1, $3}' alumnos.txt\n</code></pre> <pre><code>Juan Sevilla\nAna Madrid\nLuis Valencia\n</code></pre> <p>O mostrar la \u00faltima columna</p> <pre><code>awk '{print $NF}' alumnos.txt\n</code></pre> <pre><code>Sevilla\nMadrid\nvalencia\n</code></pre> <p>Con la opci\u00f3n <code>-F</code> podemos elegir otro separador, en vez de espacio, puede ser <code>:</code> , as\u00ed que el archivo:</p> <pre><code>Juan:20:Sevilla\nAna:19:Madrid\nLuis:22:Valencia\n</code></pre> <p>Podr\u00eda usarse as\u00ed:</p> <pre><code>awk -F: '{print $1, $NF}' alumnos.txt\n</code></pre> <p>que nos devuelve</p> <pre><code>Juan Sevilla\nAna Madrid\nLuis Valencia\n</code></pre> <p>Podemos cobinarlo con grep para filtar unicamente ciertas ciudades, como las que terminan en <code>a</code></p> <pre><code>awk '{print $1}' fichero.txt | grep \"a$\"\n</code></pre> <pre><code>Sevilla\nValencia\n</code></pre> <p>Podemos filtar una columna, si tenemos el archivo notas.txt</p> <pre><code>Juan;10\nAna;5\nLuis;2\n</code></pre> <p>podemos filtar por aquellas notas mayores que 2</p> <pre><code>awk -F\";\" '$0 &gt; 4' notas.txt\n</code></pre> <p>que nos devolveria todas las lineas que aprueban</p> <pre><code>Juan;10\nAna;5\n</code></pre> <p>Podemos mezclarlo con grep as\u00ed:</p> <pre><code>awk -F\";\" '$0 &gt; 4' notas.txt | grep \"^A\"\n</code></pre> <p>Para aquellos que aprueben y empiecen por A.</p> <p>Podemos concatenar columnas as\u00ed del txt anterio as\u00ed:</p> <pre><code>awk -F\";\" '{print \"Alumno \" $1 \" Nota del alumno \" $2}' notas.txt\n</code></pre> <p>que devuele:</p> <pre><code>Alumno Juan Nota del alumno 10\nAlumno Ana Nota del alumno 5\nAlumno Luis Nota del alumno 2\n</code></pre> <p>Por \u00faltimo, se podr\u00edan sumar columnas. Si tenemos el txt notas:</p> <pre><code>Juan;1;5;\nLaura;7;3;\nRoberto;4;9;\n</code></pre> <p>Podemos calcular la nota media as\u00ed:</p> <pre><code>awk -F\";\" '{print $1 \": media = \" ($2 + $3) / 2}' notas.txt\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#4wc","title":"4.<code>wc</code>","text":"<p>Sirve para contar l\u00edneas, palabras, caracteres y bytes de uno o varios archivos, o de la entrada est\u00e1ndar. No tiene mucho sentido usar expresiones regulares para este comando.</p>"},{"location":"TEMA3/Practicas/comandos/#ejemplos_3","title":"Ejemplos","text":""},{"location":"TEMA3/Practicas/comandos/#contar-lineas","title":"Contar l\u00edneas","text":"<pre><code>wc -l archivo.txt\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#salida_3","title":"Salida:","text":"<pre><code>42 archivo.txt\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#contar-palabras","title":"Contar palabras","text":"<pre><code>wc -w archivo.txt\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#contar-caracteres","title":"Contar caracteres","text":"<pre><code>wc -m archivo.txt\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#contar-todo-a-la-vez","title":"Contar todo a la vez","text":"<pre><code>wc archivo.txt\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#salida-tipica","title":"Salida t\u00edpica:","text":"<pre><code>42  350  2100 archivo.txt \n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#5-stdin-stdout-y-stderr-relacion-con-los-comandos","title":"5. stdin, stdout y stderr. Relaci\u00f3n con los comandos.","text":"Flujo N\u00famero Nombre Para qu\u00e9 sirve STDIN 0 standard input Entrada del comando o programa (teclado, pipe, fichero) STDOUT 1 standard output Salida normal del programa (texto correcto) STDERR 2 standard error Salida de errores (avisos, permisos, problemas) <p>Estos no son archivos reales, pero Linux los maneja como si lo fueran, por eso se pueden redirigir. Por ejemplo, cuando ahces:</p> <pre><code>cat archivo.txt\n</code></pre> <p><code>STDOUT</code> muestra el contenido en pantalla.</p> <p>Pero si el archivo no existe, recibir\u00e1s: </p> <pre><code>cat: noexiste.txt: No such file or directory\n</code></pre> <p>Ese mensaje viene por <code>STDERR</code>, no por <code>STDOUT</code>.</p>"},{"location":"TEMA3/Practicas/comandos/#redirigiendo-la-salida-estandar-stdout","title":"Redirigiendo la salida est\u00e1ndar (stdout)","text":"<p>Cuando hacemos:</p> <pre><code>ls &gt; lista.txt\n</code></pre> <p>Estamos enviando la salida estandar a un archivo.</p>"},{"location":"TEMA3/Practicas/comandos/#redirigiendo-errores-stderr","title":"Redirigiendo errores (stderr)","text":"<p>Cuando hacemos:</p> <pre><code>ls 2&gt; errores.txt\n</code></pre> <p>redirigimos s\u00f3lo los errores que nos pueda dar .txt. otro ejemplo:</p> <pre><code>find / -name \"*.qcow2\" 2&gt;/dev/null\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#redirigir-stdout-y-stderr-juntos","title":"Redirigir stdout y stderr juntos","text":"<pre><code>comando &gt; todo.txt 2&gt;&amp;1\n</code></pre> <p><code>2&gt;&amp;1</code> dice: \"redirige tambi\u00e9n stderr a donde est\u00e9 stdout\"</p>"},{"location":"TEMA3/Practicas/comandos/#redirigir-stdout-y-stderr-por-separado","title":"Redirigir stdout y stderr por separado","text":"<pre><code>comando &gt; salidas.txt 2&gt; errores.txt\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#comandos-que-aceptan-stdin","title":"Comandos que aceptan stdin","text":"<p>Un comando acepta stdin cuando puede recibir datos por la entrada est\u00e1ndar, es decir:</p> <ul> <li>desde el teclado</li> <li>desde un pipe</li> <li>desde una redirecci\u00f3n (<code>&lt; archivo</code>)</li> </ul> Comando \u00bfAcepta STDIN? Ejemplo grep \u2713 `echo hola awk \u2713 `echo \"a b c\" sed \u2713 `echo hola wc \u2713 `echo hola sort \u2713 `printf \"3\\n1\\n2\\n\" cat \u2713 <p>Veamos ejemplos de uso:</p>"},{"location":"TEMA3/Practicas/comandos/#comandos-que-no-aceptan-stdin-como-se-usan-con-pipes","title":"Comandos que NO aceptan stdin \u00bfC\u00f3mo se usan con pipes?","text":"<p>Los siguientes comandos requieren argumentos, NO leen desde stdin.</p> <ul> <li><code>ls</code></li> <li><code>cp</code></li> <li><code>mv</code></li> <li><code>rm</code></li> <li><code>mkdir</code></li> <li><code>rmdir</code></li> </ul> <p>Por ejemplo, no puedo hacer esto:</p> <pre><code>find /home/manolo -name \"*.txt\" | ls -l\n</code></pre> <p>Para solucionarlo, se usa: <code>xargs</code></p> <pre><code>find /home/manolo -name \"*.txt\" | xargs ls -l\n</code></pre> <p>Con <code>rm</code> se har\u00eda as\u00ed:</p> <pre><code>find . -name \"*.txt\" | rm -f #no vale\n</code></pre> <p>Para solucionarlo, se usa: <code>xargs</code></p> <pre><code>find . -name \"*.txt\" | xargs rm -f #no vale\n</code></pre> <p>Con <code>cp</code> se har\u00eda as\u00ed:</p> <pre><code>find . -name \"*.txt\" | cp /home/manolo/docs/\n</code></pre> <p>que no tiene ning\u00fan sentido. Para solucionarlo, se usa: <code>xargs</code></p> <pre><code>find . -name \"*.txt\" | xargs -I {} cp {} /home/manolo/docs/\n</code></pre> <p><code>-I {}</code> le dice a xargs: \u201cCada entrada que reciba por stdin sustit\u00fayela donde aparezca <code>{}</code> en el comando final. Luego convierte cada l\u00ednea en: </p> <pre><code>cp linea /home/manolo/docs\n</code></pre> <p>si la linea vale <code>ejemplo.txt</code>, entonces:</p> <pre><code>cp ejemplo.txt /home/manolo/docs\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#5-cp","title":"5. <code>cp</code>","text":"<p>Copia archivos y directorios desde un lugar a otro. Para copiar un archivo origen hacia un destino, el usuario debe cumplir dos requisitos m\u00ednimos:</p>"},{"location":"TEMA3/Practicas/comandos/#a-sobre-el-archivo-origen","title":"A) Sobre el archivo origen","text":"<p>Necesitas:</p> <ul> <li>permiso de lectura (r) sobre el archivo    Para poder leer su contenido y copiarlo.</li> <li>permiso de ejecuci\u00f3n (x) sobre la carpeta donde se encuentra    Para poder acceder al archivo dentro del directorio.</li> </ul>"},{"location":"TEMA3/Practicas/comandos/#b-sobre-la-carpeta-de-destino","title":"B) Sobre la carpeta de destino","text":"<p>Necesitas:</p> <ul> <li>permiso de escritura (w) en la carpeta destino    Para poder crear el nuevo archivo copiado.</li> <li>permiso de ejecuci\u00f3n (x) en la carpeta destino    Para poder entrar al directorio y modificar su contenido.</li> </ul> <p>Adem\u00e1s, permite el uso de patrones de expansi\u00f3n de Bash, al igual que vimos con ls.</p>"},{"location":"TEMA3/Practicas/comandos/#ejemplos_4","title":"Ejemplos","text":"<p>Veamos ejemplos de todo tipo, como siempre :)</p>"},{"location":"TEMA3/Practicas/comandos/#copiar-un-archivo-dentro-de-una-misma-carpeta-cambiando-el-nombre-de-destino","title":"Copiar un archivo dentro de una misma carpeta cambiando el nombre de destino","text":"<pre><code>cp notas.txt copia_notas.txt\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#copiar-un-archivo-a-otra-carpeta-cambiando-el-nombre-de-destino","title":"Copiar un archivo a otra carpeta cambiando el nombre de destino","text":"<pre><code>cp notas.txt /home/manolo/Escritorio/copia_notas.txt\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#copiar-un-directorio-dentro-de-una-mismo-lugar-cambiando-el-nombre-de-destino","title":"Copiar un directorio dentro de una mismo lugar cambiando el nombre de destino","text":"<pre><code>--/home/manolo\n    --proyecto (el original)\n    --proyecto_copia (la copia)\n</code></pre> <pre><code>cp -r proyecto proyecto_backup\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#copiar-un-directorio-a-otro-lugar-cambiando-el-nombre-de-destino","title":"Copiar un directorio a otro lugar cambiando el nombre de destino","text":"<pre><code>--/home/manolo/proyecto (carpeta original)\n--home/manolo/Descargas/proyecto_backup (carpeta de copia)\n</code></pre> <pre><code>cp -r /home/manolo/proyecto /home/manolo/Descargas/proyecto_backup\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#copiar-un-archivo-a-una-carpeta-sin-renombrar","title":"Copiar un archivo a una carpeta sin renombrar","text":"<pre><code>cp -v archivo1 /home/manolo/Descargas/\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#no-sobrescribir-en-caso-de-que-se-pueda","title":"No sobrescribir en caso de que se pueda","text":"<pre><code>cp -n archivo.txt /destino/\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#copiar-todos-los-archivos-de-una-carpeta-a-otra","title":"Copiar todos los archivos de una carpeta a otra","text":"<pre><code>cp /ruta/origen/* /ruta/destino/ #todos los archivox\ncp /ruta/origen/*.txt /ruta/destino/ #solo los txt\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#copiar-con-expresiones-globs","title":"Copiar con expresiones globs","text":"<pre><code>cp [a-f]* /home/manolo/rango/ #todos los que empiece por a-f y lo de despu\u00e9s da igual\n\ncp !(*.txt) /home/manolo/destino/ #todos menos los txt\n\ncp archivo??.md /home/manolo/docs/ #todos los que son archivo--.md,  \narchivo1_.md, archivo1-.md...\n\ncp archivo[_][1-9].md /home/manolo/docs/ #otro formato mas especifico pi\u00e9nsalo\n\ncp *([0-9]).txt /home/manolo/docs/ #0 o mas numeros despues de \n\ncp *[02468].txt /home/manolo/destino/ #todos los txt terminen en un n\u00famero par\n\ncp [a-zA-Z]*[0-9] /home/manolo/docs/ #todos los que empiecen por una letra y terminene en un n\u00famero\n\ncp [0-9w]?a[A-B]*([0-9]).txt /home/manolo/config/\n</code></pre> <p>El \u00faltimo es un poco m\u00e1s complejo.<code>[^.]</code> significa: Cualquier car\u00e1cter EXCEPTO el punto. Lo \u00faltimo es:</p> <ul> <li> <p>Primera letra: un n\u00famero 0\u20139 o la letra w</p> </li> <li> <p>Segunda letra: cualquier cosa</p> </li> <li> <p>Tercera letra: a</p> </li> <li> <p>Cuarta letra: A o B</p> </li> <li> <p>Despu\u00e9s: tantos letras como quieras</p> </li> <li> <p>Termina en: <code>txt</code></p> </li> </ul>"},{"location":"TEMA3/Practicas/comandos/#copiar-todos-los-archivos-subcarpetas-de-una-carpeta-a-otra","title":"Copiar todos los archivos + subcarpetas de una carpeta a otra","text":"<pre><code>cp -r /home/manolo/origen/* /home/manolo/destino/\n</code></pre> <p>Se usa la opci\u00f3n -r</p>"},{"location":"TEMA3/Practicas/comandos/#ejemplos-para-aceptar-stdin","title":"Ejemplos para aceptar stdin","text":"<pre><code>find . -name \"*.txt\" | xargs -I {} cp {} /home/manolo/docs/\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#6-mv","title":"6. <code>mv</code>","text":"<p>Sirve para mover o renombrar archivos y directorios. Respecto a los permisos, igual que cp.</p> <p>Adem\u00e1s, permite el uso de patrones de expansi\u00f3n de Bash, al igual que vimos con ls y cp.</p>"},{"location":"TEMA3/Practicas/comandos/#ejemplos_5","title":"Ejemplos","text":""},{"location":"TEMA3/Practicas/comandos/#mover-y-renombrar-el-archivo","title":"Mover y renombrar el archivo","text":"<pre><code>mv informe.txt informe_final.txt\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#mover-archivo-a-otra-carpeta","title":"Mover archivo a otra carpeta","text":"<pre><code>mv foto.png /home/manolo/imagenes/\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#mover-varios-archivos-todos-los-archivos-acabados-en-log-a-otra-carpeta","title":"Mover varios archivos todos los archivos acabados en .log a otra carpeta","text":"<pre><code>mv *.log /var/log/old/\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#ejemplos-para-aceptar-stdin_1","title":"Ejemplos para aceptar stdin","text":"<pre><code>find . -name \"*.log\" \\ xargs -I {} mv \"{}\" /var/log/old/\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#7-rm","title":"7. <code>rm</code>","text":"<p>Elimina archivos y directorios.</p> <p>Adem\u00e1s, permite el uso de patrones de expansi\u00f3n de Bash, al igual que vimos con ls, cp, mv y rm</p>"},{"location":"TEMA3/Practicas/comandos/#ejemplos_6","title":"Ejemplos","text":""},{"location":"TEMA3/Practicas/comandos/#eliminar-archivo","title":"Eliminar archivo","text":"<pre><code>rm documento.txt\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#eliminar-todos-los-archivos-terminados-en-tmp","title":"Eliminar todos los archivos terminados en tmp","text":"<pre><code>rm *.tmp\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#eliminar-directorio-completo","title":"Eliminar directorio completo","text":"<pre><code>rm -rf carpeta/\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#ejemplos-para-aceptar-stdin_2","title":"Ejemplos para aceptar stdin","text":"<pre><code>find . -name \"*.log\" \\\n| xargs -I {} rm \"{}\"\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#8-rmdir","title":"8. <code>rmdir</code>","text":"<p>Elimina \u00fanicamente directorios vac\u00edos.</p>"},{"location":"TEMA3/Practicas/comandos/#ejemplos_7","title":"Ejemplos","text":"<pre><code>rmdir carpeta_vacia\nrmdir dir1 dir2 dir3\nrmdir -p ruta/una/dos/tres \n</code></pre> <p>-Elimina <code>ruta/una/dos/tres</code></p> <p>-Luego intenta eliminar <code>ruta/una/dos</code></p> <p>-Luego <code>ruta/una</code></p> <p>-Y por \u00faltimo <code>ruta</code></p> <p>\u00a1Siempre y cuando est\u00e9n vac\u00edos!</p>"},{"location":"TEMA3/Practicas/comandos/#9-comprimir-y-descomprimir","title":"9. Comprimir y descomprimir","text":""},{"location":"TEMA3/Practicas/comandos/#a-tar","title":"A) <code>tar</code>","text":"<p>No comprime por s\u00ed mismo.</p> <p>Empaqueta en un archivo \u00fanico (<code>.tar</code>) manteniendo:</p> <ul> <li>permisos UNIX completos</li> <li>propietarios</li> <li>estructura de directorios</li> <li>symlinks</li> </ul> <p>Para comprimir se combina con:</p> <ul> <li>gzip \u2192 <code>.tar.gz</code></li> <li>xz \u2192 <code>.tar.xz</code></li> <li>bzip2 \u2192 <code>.tar.bz2</code> (no lo veremos)</li> </ul>"},{"location":"TEMA3/Practicas/comandos/#comprimir","title":"Comprimir","text":"<pre><code>tar -czvf backup.tar.gz carpeta/\ntar -cJvf backup.tar.xz carpeta/\ntar -cvf - carpeta/ | gzip -9 &gt; backup.tar.gz\n</code></pre> <p>En el \u00faltimo comando, el guion <code>-</code> en lugar del nombre de archivo significa: \"Saca la salida de TAR por stdout (pantalla) en lugar de crear un archivo .tar\". <code>tar</code> empaqueta la carpeta pero NO crea un archivo <code>backup.tar</code> sino que env\u00eda el contenido del tar por la tuber\u00eda (stdout)</p>"},{"location":"TEMA3/Practicas/comandos/#descomprimir","title":"Descomprimir","text":"<pre><code>tar -xzvf backup.tar.gz\ntar -xJvf backup.tar.xz\n</code></pre> <p>Vamos a comprender un poco m\u00e1s las opciones usadas en los comandos anteriores:</p> Opci\u00f3n Nombre \u00bfQu\u00e9 hace? <code>c</code> create Crear un nuevo archivo tar <code>z</code> gzip Comprimir usando gzip o Indica que est\u00e1 en gzip <code>v</code> verbose Mostrar progreso en pantalla <code>f</code> file Permitir especificar el nombre del archivo resultante x extract Extrae (descomprime + desempaqueta) el contenido del archivo. <code>j</code> xz Comprime usando XZ (mucho m\u00e1s eficiente que gzip) <p>Si no pones <code>-z</code> <code>`J</code>, NO funciona con un <code>.tar.gz</code>.</p> Formato Velocidad Compresi\u00f3n Uso t\u00edpico gzip (<code>-z</code>) M\u00e1s r\u00e1pido Menor Logs, backups r\u00e1pidos xz (<code>-J</code>) M\u00e1s lento Mucha mayor compresi\u00f3n Paquetes de distros, almacenamiento eficiente"},{"location":"TEMA3/Practicas/comandos/#b-zip-unzip","title":"B) <code>zip</code> / <code>unzip</code>","text":"<p>Empaqueta y comprime a la vez. Cada archivo dentro del ZIP se comprime por separado. Conserva algunos permisos, pero no todos los permisos UNIX avanzados (propietarios, permisos especiales, ACLs\u2026).</p> <p><code>zip</code> NO usa gzip, ni xz, ni bzip2.  <code>zip</code> utiliza su propio m\u00e9todo de compresi\u00f3n, el m\u00e1s com\u00fan es: Deflate</p>"},{"location":"TEMA3/Practicas/comandos/#comprimir_1","title":"Comprimir","text":"<pre><code>zip -r proyecto.zip proyecto/\nzip -9 proyecto.zip carpeta/ #lenta\nzip -9 proyecto.zip carpeta/ #rapida\n</code></pre> <p><code>-r</code>: Incluye todos los archivos y subcarpetas que haya dentro de la carpeta.</p>"},{"location":"TEMA3/Practicas/comandos/#descomprimir_1","title":"Descomprimir","text":"<pre><code>unzip proyecto.zip\n</code></pre> Caracter\u00edsticas ZIP TAR + gzip Algoritmo Deflate Gzip usa Deflate pero con formato diferente Permisos UNIX Parciales Completo Compatibilidad Muy alta (Windows/macOS) Menos universal"},{"location":"TEMA3/Practicas/comandos/#ejemplos-para-aceptar-stdin_3","title":"Ejemplos para aceptar stdin","text":"<pre><code>find / -type f -name \"*.zip\" \\\n| xargs -I {} unzip \"{}\" -d /home/manolo/descomprimidos/\n</code></pre> <p><code>-d</code> significa:</p> <p>Extrae el contenido del .zip dentro de este directorio.</p>"},{"location":"TEMA3/Practicas/comandos/#c-gzip-gunzip","title":"C) <code>gzip</code> / <code>gunzip</code>","text":""},{"location":"TEMA3/Practicas/comandos/#casos-de-uso","title":"Casos de uso","text":"<p>Comprimir archivos sueltos.   Por defecto, <code>gzip</code> borra el archivo original despu\u00e9s de comprimirlo. Para evitar que lo borre, usa:  Usa <code>-c</code> (stdout) y redirecci\u00f3n:</p> <pre><code>gzip -c archivo.log &gt; archivo.log.gz\ngzip -1 archivo.log        # compresi\u00f3n r\u00e1pida\ngzip -9 archivo.log        # m\u00e1xima compresi\u00f3n\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#comprimir_2","title":"Comprimir:","text":"<pre><code>gzip archivo.log\n</code></pre> <p>Lo transforma en:  gzip archivo.log.gz</p>"},{"location":"TEMA3/Practicas/comandos/#descomprimir_2","title":"Descomprimir","text":"<pre><code>gunzip archivo.log.gz\n</code></pre> <p>o devolviendo la salida a otroa para renombar incluso:</p> <pre><code>gunzip -c archivo.log.gz &gt; archivo.log\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#ejemplos-para-aceptar-stdin_4","title":"Ejemplos para aceptar stdin","text":"<p>Acepta entrada estandar, por ejemplo, acepta lo que le devuelva un cat:</p> <pre><code>cat archivo.log | gzip &gt; archivo.log.gz\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#9df-disk-free","title":"9.df (disk free)","text":""},{"location":"TEMA3/Practicas/comandos/#sintasis","title":"Sintasis","text":"<p><code>df</code> significa disk free. Sirve para ver el espacio disponible y ocupado en cada sistema de archivos montado en Linux.<code>df</code> no mide archivos o carpetas. Mide sistemas de archivos completos (ext4, xfs, tmpfs, etc.) que est\u00e1n montados en puntos como <code>/</code>, <code>/home</code>, <code>/boot</code>, etc. Es decir: <code>df</code> te dice cu\u00e1nto espacio queda en la partici\u00f3n, no cu\u00e1nto ocupa una carpeta concreta.</p> <pre><code>df [opciones]\ndf -h\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#ejemplos_8","title":"Ejemplos","text":"<pre><code>df -h\n</code></pre> <p><code>-h</code> = human readable, muestra valores en KB, MB, GB en lugar de bloques. Salida:</p> <p><code>-H</code>= Usa m\u00faltiplos SI en lugar de IEC:</p> <p>\u200b   a)<code>-h</code>: 1G = 1024 MB</p> <p>\u200b        b)<code>-H</code>: 1G = 1000 MB</p> <p><code>T</code>= Muestra el tipo de sistema de archivos (ext4, xfs, tmpfs, squashfs\u2026).</p> <pre><code>df -h\nFilesystem      Size  Used Avail Use% Mounted on\n/dev/sda2        98G   65G   29G  70% /\ntmpfs           1.6G  2.0M  1.6G   1% /run\n/dev/sda1       512M  120M  392M  24% /boot\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#como-interpretar-la-salida-de-df","title":"C\u00f3mo interpretar la salida de df","text":"<ul> <li>Filesystem \u2192 dispositivo o sistema de archivos</li> <li>Size \u2192 tama\u00f1o total del sistema de archivos</li> <li>Used \u2192 espacio usado</li> <li>Avail \u2192 espacio libre</li> <li>Use% \u2192 porcentaje usado</li> <li>Mounted on \u2192 carpeta donde est\u00e1 montado dicha partici\u00f3n</li> </ul>"},{"location":"TEMA3/Practicas/comandos/#10du-disk-usage","title":"10.du (disk usage)","text":""},{"location":"TEMA3/Practicas/comandos/#sintasis_1","title":"Sintasis","text":"<p><code>du</code> significa disk usage. A diferencia de <code>df</code>, <code>du</code> s\u00ed mide cu\u00e1ntos bytes ocupa una carpeta o archivo espec\u00edfico. <code>du</code> recorre el sistema de archivos archivo por archivo, sumando tama\u00f1os.</p> <pre><code>du [opciones] ruta\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#ejemplos_9","title":"Ejemplos","text":"<pre><code>du -sh home/manolo\n</code></pre> <p><code>-s</code> \u2192 summary (solo total y no de cada una de las subcarpetas de /home/manolo</p> <p><code>-h</code> \u2192 human readable, transforma el tama\u00f1o en n\u00fameros legibles</p> <p>Si no queremos que mire cada subcarpeta, se le puede poner un: --max-depth. Por ejemplo, si estamos en:</p> <p><code>home/manolo</code> y me interesa que s\u00f3lo mire las carpetas hijas como:</p> <ul> <li> <p><code>/home/manolo/Descargas</code></p> </li> <li> <p><code>/home/manolo/Videos</code></p> </li> <li> <p><code>/home/manolo/Imagenes</code></p> </li> </ul> <p>Tenemos que poner: --max-depth=1.</p> <pre><code> sudo du -h --max-depth=1 /var | sort -h\n</code></pre> <p>En el siguiente punto veremos el comando sort.</p>"},{"location":"TEMA3/Practicas/comandos/#aclarando-max-depth","title":"Aclarando max-depth","text":"<p>--max-depth=N. indica hasta qu\u00e9 nivel de subdirectorios quieres que du examine y muestre. Es decir:</p> <pre><code>Nivel 0 \u2192 solo el directorio indicado\n\nNivel 1 \u2192 el directorio + sus hijos directos\n\nNivel 2 \u2192 el directorio + sus hijos + los hijos de sus hijos\n\nNivel 3 \u2192 y as\u00ed sucesivamente\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#recordatorio-ls-vs-du","title":"Recordatorio ls vs du","text":"<p>Puedes pensar que lo anterior con max-depth=1 tambi\u00e9n se puede hacer con un ls, es decir:</p> <pre><code>ls -lSh carpeta\n</code></pre> <p>donde este ls ordena todos los archivos de una carpeta por tama\u00f1o de mayor a menor (la h es para que el tama\u00f1o sea leible y no en bytes). Sin embargo, ls tiene un gran problema y es que no muestra el tama\u00f1o de las carpetas bien, solo muestra el tama\u00f1o de los binarios como (txt's, ISO's, qcow's...). Esto se ve bien as\u00ed:</p> <p>Con ls, si queremos mirar el tama\u00f1o de la carpeta (home/manolo) me saldr\u00eda algo as\u00ed:</p> <p></p> <p>Sin embargo, con du me saldr\u00eda bien:</p> <p></p> <p>Por tanto, recomiendo usar ls para mirar el tama\u00f1o de los ficheros!=carpetas de un directorio, tal que as\u00cd:</p> <pre><code>ls -lShp carpeta | grep \"\"\n</code></pre> <p>en donde, con p, hemos hecho que ls a\u00f1ada \"/\" al final de un directorio:</p> <pre><code>Documentos/\nfoto.jpg\nscripts/\nnotas.txt\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#ejemplos-para-aceptar-stdin_5","title":"Ejemplos para aceptar stdin","text":"<p>No acepta entrada estandar, s\u00f3lo argumentos. Un ejemplo con find</p> <pre><code>find . -maxdepth 1 -type d\\\n| xargs du -sh \\\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#11sort","title":"11.sort","text":""},{"location":"TEMA3/Practicas/comandos/#sintasis_2","title":"Sintasis","text":"<p>Como es evidente, sirve para ordenar l\u00edneas. Sort interpreta la primera *cadena num\u00e9rica* que encuentra en cada l\u00ednea y la usa como clave para ordenar. En su opci\u00f3n m\u00e1s com\u00fan,<code>sort -h</code> ordena l\u00edneas de conteniendo con tama\u00f1os human-readable como:</p> <ul> <li>4.0K</li> <li>200M</li> <li>1.3G</li> </ul>"},{"location":"TEMA3/Practicas/comandos/#ejemplos_10","title":"Ejemplos","text":"<pre><code>150M /var/cache\n4.0K /var/tmp\n900M /var/log\n200M /var/cache/apt\n1.3G /var\n</code></pre> <p>Salida:</p> <pre><code>4.0K /var/tmp\n150M /var/cache\n200M /var/cache/apt\n900M /var/log\n1.3G /var\n</code></pre> <p>Vamos a ver como ordenar tambi\u00e9n por tama\u00f1o con sort. </p> <pre><code>sort -n lista.txt\n#ordena de menor a mayor num\u00e9ricamente las lineas con n\u00fameros\n</code></pre> <p>con <code>-r</code> tenemos el orden inverso:</p> <pre><code>sort -nr lista.txt\n</code></pre> <p>con <code>-k</code> ordenamos por una columna espec\u00edfica:</p> <pre><code>sort -k2 lista.txt\n</code></pre> <p>con <code>-u</code> quitamos duplicados despu\u00e9s de ordenar</p> <pre><code>sort -u archivo.txt\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#ejemplos-para-aceptar-stdin_6","title":"Ejemplos para aceptar stdin","text":"<pre><code>du -h --max-depth=1 /home/manolo | sort -hru\n</code></pre>"},{"location":"TEMA3/Practicas/comandos/#ejercicio-1-encontrar-carpetas-de-homemanolo-cuyo-tamano-supere-200-mb","title":"EJERCICIO 1 \u2014 Encontrar carpetas de /home/manolo cuyo tama\u00f1o supere 200 MB","text":"<p>Objetivo: combinar <code>du</code>, <code>sort</code>, <code>find</code>, filtros y pipes.</p>"},{"location":"TEMA3/Practicas/comandos/#enunciado","title":"Enunciado","text":"<p>Usando \u00fanicamente comandos de la pr\u00e1ctica, localiza todas las carpetas dentro de <code>/home/manolo</code> cuyo tama\u00f1o sea superior a 200 MB.  Debes mostrar solo el nombre de la carpeta y su tama\u00f1o ordenados de mayor a menor.</p>"},{"location":"TEMA3/Practicas/comandos/#solucion-esperada-una-posible","title":"Soluci\u00f3n esperada (una posible)","text":"<pre><code>du -h --max-depth=1 /home/manolo \\\n    | grep -E \"[0-9]+M|[0-9]+G\" \\\n    | sort -hr \\\n    | awk '$1+0 &gt; 200 {print}'\n</code></pre>"}]}